<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora Penal</title>
<link rel="manifest" href="manifest.json">

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<style>
/* TUS ESTILOS ORIGINALES */
body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 15px; color: #333; margin: 0; }
.header-app { text-align: center; padding: 25px 10px; background: white; margin-bottom: 20px; border-bottom: 3px solid #1a73e8; }
.header-app h1 { font-size: 1.5em; color: #1a73e8; margin: 0; text-transform: uppercase; letter-spacing: 1px; }
.header-app p { margin: 5px 0 0; font-weight: bold; color: #555; font-size: 1em; }

/* BARRA DE USUARIO ACTUALIZADA */
.user-status-bar { 
background: #f8f9fa; 
padding: 8px 15px; 
border-radius: 8px; 
margin: -10px 10px 20px 10px; 
display: flex; 
justify-content: space-between; 
align-items: center;
font-size: 0.75em; 
color: #666;
border: 1px solid #e1e4e8;
}
.btn-logout { background: #fee2e2; color: #dc2626; border: 1px solid #fca5a5; padding: 4px 8px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-left: 10px; }

/* ESTILO PARA EL INTERRUPTOR DE NUBE */
.switch-container {
display: flex;
align-items: center;
justify-content: space-between;
background: #e8f0fe;
padding: 10px 15px;
border-radius: 10px;
margin-bottom: 15px;
border: 1px solid #1a73e8;
}
.switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: #1a73e8; }
input:checked + .slider:before { transform: translateX(18px); }

.modulo { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 20px; }
.sub-modulo { background: #f8f9fa; border: 1px dashed #1a73e8; padding: 15px; border-radius: 10px; margin-top: 15px; display: none; }
h2 { color: #1a73e8; font-size: 1em; margin-top: 0; border-bottom: 2px solid #e8f0fe; padding-bottom: 10px; text-transform: uppercase; }
label { display: block; margin-top: 12px; font-weight: 600; font-size: 0.85em; color: #555; }
input, select, textarea { width: 100%; padding: 12px; margin-top: 5px; border-radius: 8px; border: 1px solid #ddd; box-sizing: border-box; font-size: 1em; }
#listaCasos, #listaCasosGestion { max-height: 200px; overflow-y: auto; margin-top: 10px; border-radius: 8px; background: #fff; }
.btn-principal { width: 100%; background: #1a73e8; color: white; border: none; padding: 18px; border-radius: 12px; font-weight: bold; font-size: 1.1em; margin-top: 10px; cursor: pointer; }
.btn-whatsapp { width: 100%; background: #25D366; color: white; border: none; padding: 15px; border-radius: 10px; font-weight: bold; margin-top: 5px; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 1em; }
.btn-pdf { width: 100%; background: #e74c3c; color: white; border: none; padding: 15px; border-radius: 10px; font-weight: bold; margin-top: 10px; cursor: pointer; font-size: 1em; display: none; }
.btn-add { background: #34a853; color: white; border: none; padding: 8px 12px; border-radius: 8px; margin-top: 10px; font-size: 0.8em; cursor: pointer; font-weight: bold; }
.btn-calc-red { background: #6c757d; color: white; border: none; padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 0.9em; cursor: pointer; width: 100%; }
.btn-save { background: #28a745; margin-bottom: 10px; }
.btn-delete { background: #dc3545; color: white; border: none; padding: 5px 8px; border-radius: 5px; cursor: pointer; font-size: 0.8em; }
.grid-3 { display: flex; gap: 8px; }
.grid-red { display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 8px; align-items: center; margin-top: 10px; }
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.beneficio-item { margin-bottom: 15px; padding: 12px; border-radius: 10px; background: #fff; border: 1px solid #e1e4e8; font-size: 0.9em; line-height: 1.4; }
.case-card { border-left: 5px solid #1a73e8; background: #f8f9fa; padding: 10px; margin-bottom: 5px; border-radius: 8px; font-size: 0.85em; display: flex; justify-content: space-between; align-items: center; }
.search-box { background: #e8f0fe; padding: 15px; border-radius: 15px; margin-bottom: 20px; }
.res-box { background: #f0f7ff; padding: 15px; border-radius: 10px; margin-top: 10px; border-left: 5px solid #1a73e8; }
.txt-destaque { color: #d93025; font-weight: bold; }
.txt-cumplido { color: #28a745; font-weight: bold; }
.db-controls { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
.btn-db { background: #6c757d; color: white; border: none; padding: 10px; border-radius: 8px; font-size: 0.8em; cursor: pointer; font-weight: bold; }
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); overflow-y: auto; }
.modal-content { background-color: white; margin: 5% auto; padding: 20px; border-radius: 15px; width: 90%; max-width: 600px; line-height: 1.5; font-size: 0.85em; position: relative; }
.close-modal { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }

/* --- PEGAR ESTO EN LUGAR DE LO QUE BORRASTE (L√çNEAS 84-86 APROX) --- */

/* --- REEMPLAZA TU BLOQUE .tabs-container POR ESTE --- */
.tabs-container {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    background: #fff;
    margin-bottom: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    -webkit-overflow-scrolling: touch;
    
    /* Espacio extra a la derecha para que el √∫ltimo bot√≥n no quede pegado */
    padding-right: 40px; 
    
    /* Espacio abajo para que quepa la barrita de scroll */
    padding-bottom: 5px; 
}

/* DISE√ëO DE LA BARRA DE SCROLL (Fina y Elegante) */
.tabs-container::-webkit-scrollbar {
    height: 4px; /* Altura de la barra horizontal */
    display: block; /* Hacemos que se vea */
}

.tabs-container::-webkit-scrollbar-track {
    background: transparent; 
}

.tabs-container::-webkit-scrollbar-thumb {
    background-color: #e0e0e0; /* Color gris suave */
    border-radius: 10px;
}

/* Al pasar el mouse o tocar, se pone azul */
.tabs-container:hover::-webkit-scrollbar-thumb {
    background-color: #1a73e8; 
}


.tab-button {
    flex: 0 0 auto;             /* IMPORTANTE: Mantiene el tama√±o del bot√≥n */
    padding: 15px 20px;
    border: none;
    background: transparent;
    cursor: pointer;
    font-weight: bold;
    color: #666;
    transition: 0.3s;
    font-size: 0.85em;
    border-bottom: 3px solid transparent;
}

.tab-button.active {
    color: #1a73e8;
    background: #f8f9fa;
    border-bottom: 3px solid #1a73e8;
}

.tab-content { display: none; }
.tab-content.active { display: block; }
.calc-res { background: #fff3cd; padding: 10px; border-radius: 8px; margin-top: 10px; border-left: 5px solid #ffc107; font-weight: bold; color: #856404; }

.report-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.8em; }
.report-table th, .report-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
.report-table th { background-color: #f2f2f2; }

/* ESTILOS PARA EL CONTRATO */
.contrato-scroll {
height: 300px;
overflow-y: scroll;
border: 1px solid #ccc;
padding: 15px;
background: #f9f9f9;
text-align: justify;
font-size: 0.9em;
margin-bottom: 15px;
border-radius: 8px;
}

/* Agrega esto a tus estilos CSS */
.grid-4 { 
    display: grid; 
    grid-template-columns: 1fr 1fr 1fr 1fr; 
    gap: 8px; 
}
/* --- REDUCIR TAMA√ëO DEL CAT√ÅLOGO (LISTA DE DELITOS) --- */
.sel-delito-dosim {
    min-height: 100px !important; /* Antes era 180px, lo bajamos a casi la mitad */
    max-height: 100px !important; /* Le ponemos un techo para que no crezca */
    height: 100px !important;     /* Fijamos la altura */
}

/* Opcional: Tambi√©n reducir el de la pesta√±a Prescripciones si quieres */
#selDelitoPresc {
    min-height: 120px !important; 
    max-height: 120px !important;
}

</style>
</head>
<body>
<div id="auth-overlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#1a2a40; z-index:9999; display:flex; align-items:center; justify-content:center; color:white; font-family:sans-serif;">
    
    <div style="background:white; padding:30px; border-radius:20px; width:85%; max-width:350px; text-align:center; color:#333;">
        <h2 style="margin:0; color:#1a73e8;">IURIS PENAL</h2>
        <p id="auth-title" style="margin-bottom:20px; font-size:0.9em; color:#666;">Inicie Sesi√≥n para continuar</p>

        <input type="email" id="f_email" placeholder="Correo electr√≥nico" style="width:100%; padding:12px; margin:8px 0; border:1px solid #ddd; border-radius:8px;">
        <input type="password" id="f_pass" placeholder="Contrase√±a (m√≠n. 6 caracteres)" style="width:100%; padding:12px; margin:8px 0; border:1px solid #ddd; border-radius:8px;">

        <div id="bloque-login">
            <button id="btn-login" onclick="loginFirebase()" style="width:100%; padding:15px; background:#1a73e8; color:white; border:none; border-radius:10px; font-weight:bold; cursor:pointer; margin-top:10px;">ENTRAR</button>
            <p style="margin-top:10px;"><a href="#" onclick="olvideClave()" style="color:#1a73e8; font-size:0.8em; text-decoration:none;">¬øOlvid√≥ su contrase√±a?</a></p>
            
            <div style="margin-top:20px; border-top:1px solid #eee; padding-top:15px;">
                <p style="font-size:0.8em; color:#666;">¬øNo tienes cuenta?</p>
                <button onclick="toggleModoRegistro(true)" style="background:none; border:none; color:#34a853; font-weight:bold; cursor:pointer; font-size:1em;">Crear Cuenta Nueva</button>
            </div>
        </div>
<div style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
    <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">¬øQuieres usar la App sin internet?</p>
    
    <button id="btnInstalarInicio" onclick="instalarAppInteligente()" 
            style="background: #fff; border: 2px solid #333; color: #333; 
                   padding: 10px 20px; border-radius: 50px; font-weight: bold; 
                   cursor: pointer; width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px;">
        üì≤ INSTALAR APLICACI√ìN
    </button>
</div>

        <div id="bloque-registro" style="display:none;">
            <div style="text-align:left; font-size:0.75em; color:#666; margin-top:10px; margin-left:5px;">
                Si viene recomendado, ingrese el <b>correo</b> de su colega:
            </div>
            <input type="email" id="f_referido" placeholder="ejemplo@correo.com (Opcional)" style="width:100%; padding:12px; margin:5px 0 15px 0; border:1px solid #ddd; border-radius:8px; background: #fffde7;">
            
            <button onclick="registroFirebase()" style="width:100%; padding:15px; background:#34a853; color:white; border:none; border-radius:10px; font-weight:bold; cursor:pointer;">REGISTRARME</button>
            
            <div style="margin-top:15px;">
                <button onclick="toggleModoRegistro(false)" style="background:none; border:none; color:#1a73e8; font-size:0.9em; cursor:pointer;">‚Üê Volver al Login</button>
            </div>
        </div>

        <p id="f_error" style="color:red; font-size:12px; margin-top:15px; min-height:15px;"></p>
    </div>

</div>

<div id="app-container">
<div class="header-app">
<h1>Calculadora Penal</h1>
<p>Consultora Iuris</p>
</div>

<div id="status-bar" class="user-status-bar" style="display:none;">
<div>üë§ <b id="user-display">Cargando

...</b><button onclick="document.getElementById('modalVencimiento').style.display='flex'" 
        style="background: linear-gradient(90deg, #FFD700, #FFA500); 
               color: #333; 
               border: none; 
               padding: 5px 12px; 
               border-radius: 20px; 
               font-weight: bold; 
               font-size: 0.85rem; 
               cursor: pointer; 
               margin-left: 10px; 
               box-shadow: 0 2px 5px rgba(0,0,0,0.2); 
               animation: pulse 2s infinite;">
    üëë SUSCRIBIRME
</button> <button class="btn-logout" onclick="logoutFirebase()">Salir</button></div>
<span>‚è≥ <b id="days-display">--</b></span>
</div>

<div class="tabs-container no-print">
<button class="tab-button active" onclick="openTab(event, 'gestion')">üìÅ Expedientes</button>

<button class="tab-button" onclick="openTab(event, 'principal')">‚ÄãüìÖC√≥mputo</button>
<button class="tab-button" onclick="openTab(event, 'calculadora')">‚Äãüßë‚Äç‚öñÔ∏è Dosimetr√≠a</button>
<button class="tab-button" onclick="openTab(event, 'prescripciones')">‚öñÔ∏è Prescripciones </button>
<button class="tab-button" onclick="openTab(event, 'conversiones')">üîÑ Conversiones</button>
<button class="tab-button" onclick="openTab(event, 'herramientas')">üõ†Ô∏è Herramientas</button>
<button id="tab-admin" class="tab-button" style="display:none; background: #991b1b; color: white;" onclick="openTab(event, 'adminPanel')">üõ°Ô∏è Admin</button>
</div>

<div id="gestion" class="tab-content active">
    <div class="modulo search-box">
        <h2>üìÇ Todos los Casos</h2>
        <div class="switch-container">
            <span>‚òÅÔ∏è Sincronizar con la  Nube</span>
            <label class="switch">
                <input type="checkbox" id="syncToggleGestion" onchange="actualizarEstadoSync(this.checked)">
                <span class="slider"></span>
            </label>
        </div>
        <input type="text" id="busquedaGestion" placeholder="Buscar por nombre o c√©dula..." onkeyup="listarCasosGestion()">
        
        <div id="listaCasosGestion" style="max-height: 150px; overflow-y: auto; margin-top: 10px;"></div>
        <button class="btn-principal" style="background:#107c41; margin-top:10px; padding: 10px; font-size: 0.85em;" onclick="exportarTodaLaDataExcel()">
            üìó EXPORTAR TODA LA BASE DE DATOS A EXCEL
        </button>
    </div>



    <div class="modulo">
        <h2>üìù Registro de Informaci√≥n</h2>
        <input type="hidden" id="idCasoGestion">
        
        <div class="grid-2">
            <div><label>Nombre Completo:</label><input type="text" id="gNombre" oninput="document.getElementById('pNombre').value = this.value"></div>
            <div><label>C√©dula:</label><input type="text" id="gCedula" oninput="document.getElementById('pCedula').value = this.value"></div>
        </div>

        <div class="grid-3">
            <div><label>Exp. Judicial:</label><input type="text" id="gExpJud"></div>
            <div><label>Exp. Fiscal√≠a:</label><input type="text" id="gExpFis"></div>
            <div><label>Exp. Carcelario:</label><input type="text" id="gExpCar"></div>
        </div>

        <div class="grid-2">
            <div><label>Fiscal√≠a N¬∫:</label><input type="text" id="gNumFis"></div>
            <div><label>Tribunal:</label><input type="text" id="gTribunal"></div>
        </div>

        <label>Centro de Reclusi√≥n:</label><input type="text" id="gLugar">

        <div class="grid-2">
            <div>
                <label>Fase Procesal:</label>
                <select id="gFase">
                    <option value="Preparatoria">Preparatoria</option>
                    <option value="Intermedia">Intermedia</option>
                    <option value="Juicio">Juicio</option>
                    <option value="Ejecuci√≥n">Ejecuci√≥n</option>
                </select>
            </div>
            <div><label>Delito:</label><input type="text" id="gDelito"></div>
        </div>

        <div style="background: #fdf2f2; padding: 10px; border-radius: 8px; margin-top: 10px; border: 1px solid #fca5a5;">
            <label>¬øCaso de Drogas?</label>
            <select id="gEsDrogas" onchange="document.getElementById('gDivDrogas').style.display = (this.value=='si'?'block':'none')">
                <option value="no">No</option>
                <option value="si">S√≠</option>
            </select>
            <div id="gDivDrogas" style="display:none; margin-top:10px;">
                <div class="grid-2">
                    <div><label>Tipo de Droga:</label><input type="text" id="gTipoDroga" placeholder="Ej: Coca√≠na"></div>
                    <div><label>Cantidad:</label><input type="text" id="gCantDroga" placeholder="Ej: 500g"></div>
                </div>
            </div>
        </div>

        <div id="seccionEjecucionGestion" style="background: #fff9db; padding: 10px; border-radius: 8px; margin-top: 10px;">
            <label>Fecha de Detenci√≥n Inicial:</label>
            <input type="date" id="gFechaIni" oninput="document.getElementById('fDetencionUnica').value = this.value">
        </div>

        <div class="grid-2">
            <div><label>Familiar:</label><input type="text" id="gFamiliar"></div>
            <div><label>Tel√©fono:</label><input type="text" id="gTel"></div>
        </div>

        <button class="btn-principal btn-save" onclick="guardarCasoCompleto()">üíæ GUARDAR EXPEDIENTE</button>
        <button class="btn-add" style="background:#dc3545; width:100%; margin-top:10px;" onclick="nuevoExpedienteGestion()">NUEVO / LIMPIAR</button>
    </div>

    <div class="modulo">
        <h2>üìÖ Bit√°cora y Agenda</h2>
        <div class="grid-2">
            <div>
                <label>Fecha del Evento:</label>
                <input type="datetime-local" id="evFecha">
            </div>
            <div>
                <label>üîî Avisarme el d√≠a y hora:</label>
                 <input type="datetime-local" id="evRecordatorio">
            </div>
        </div>
        <label>Descripci√≥n:</label>
        <input type="text" id="evMinuta" placeholder="Ej: Audiencia Preliminar...">
        <button class="btn-add" style="width: 100%; margin-top: 10px;" onclick="agregarEvento()">+ Registrar Evento y Recordatorio</button>
        
        <div id="scrollEventos" style="margin-top: 15px; max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 8px; background: #fafafa;">
            <p style="text-align: center; color: #999;">Seleccione un caso para ver sus eventos</p>
        </div>
    </div>
</div>
<div id="biblioteca" class="tab-content">
    
    <div class="modulo" style="border-top: 5px solid #00acc1; padding-bottom: 30px;">
        <h2 style="color:#00acc1; text-align:center; margin-bottom: 20px;">üìö Biblioteca Jur√≠dica</h2>

        <div style="background:#f1f8e9; padding:15px; border-radius:10px; border:1px solid #c5e1a5;">
            <label style="display:block; color:#2e7d32; font-weight:bold; margin-bottom:8px;">
                1Ô∏è‚É£ Primero, elija la Ley:
            </label>
            
            <input type="text" 
                   placeholder="Filtre aqu√≠ (Ej: Penal, COPP...)" 
                   onkeyup="filtrarListaLeyes(this.value)" 
                   style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px; box-sizing: border-box;">
            
            <select id="selBiblioteca" 
                    onchange="cargarTextoLey()" 
                    size="5" 
                    style="width:100%; height: 140px; border:1px solid #ccc; border-radius:5px; padding:5px; background:white;">
                </select>
        </div>

        <hr style="border: 0; border-top: 2px dashed #ccc; margin: 25px 0;">

        <div id="panelBuscadorInterno"             <div style="display:flex; gap:5px; align-items:stretch;">
                
                <input type="text" id="inputBusquedaInterna" placeholder="Escriba palabra clave..." 
                       onkeyup="if(event.key === 'Enter') buscarEnTextoLey()"
                       style="flex-grow: 1; width: 100%; padding:12px; font-size: 1.1em; border:1px solid #00bcd4; border-radius:5px;">
                
                <button onclick="buscarEnTextoLey()" class="btn-principal" 
                        style="width: 50px; flex-shrink: 0; background:#00acc1; color:white; border:none; border-radius:5px; cursor:pointer; font-size:1.2em; padding:0; display:flex; align-items:center; justify-content:center;">
                    üîç
                </button>
            </div>


            <div id="controlesNavegacion" style="display:none; margin-top:15px; background:white; padding:10px; border-radius:8px; border:1px solid #b2ebf2; align-items:center; justify-content:space-between;">
                
                <span id="contadorCoincidencias" style="font-weight:bold; color:#006064; font-size:0.9em;">0 de 0</span>
                
                <div style="display:flex; gap:8px;">
                    <button onclick="navegarCoincidencia(-1)" style="padding:8px 15px; background:#f0f0f0; border:1px solid #ccc; border-radius:5px; font-weight:bold;">‚¨ÜÔ∏è</button>
                    <button onclick="navegarCoincidencia(1)" style="padding:8px 15px; background:#f0f0f0; border:1px solid #ccc; border-radius:5px; font-weight:bold;">‚¨áÔ∏è</button>
                    <button onclick="limpiarBusquedaLey()" style="padding:8px 15px; background:#ffebee; border:1px solid #ef5350; color:#c62828; border-radius:5px; font-weight:bold;">‚úñ</button>
                </div>
            </div>
        </div>

        <div id="visorLey" class="contrato-scroll" 
             style="height: 450px; margin-top:20px; background:#fff; border:2px solid #eee; padding:20px; font-family:'Times New Roman', serif; font-size:1.15em; line-height:1.6; display:none; border-radius:5px;">
            </div>

    </div>
</div>



<div id="principal" class="tab-content">
    <div class="modulo search-box no-print">
        <h2>üìÇ Casos de Privados Condenados</h2>

        <div class="switch-container">
            <span style="font-size: 0.85em; font-weight: bold; color: #1a73e8;">‚òÅÔ∏è Sincronizar con la Nube</span>
            <label class="switch">
                <input type="checkbox" id="syncToggle" onchange="actualizarEstadoSync(this.checked)">
                <span class="slider"></span>
            </label>
        </div>

        <input type="text" id="busqueda" placeholder="Escriba nombre o c√©dula..." onkeyup="listarCasos()">
        <div id="listaCasos"></div>
    </div>

    <div class="modulo">
        <input type="hidden" id="casoActivoId" value="">
        <h2>0. Datos del Privado de Libertad</h2>
        <div class="grid-2">
            <div><label>Nombre:</label><input type="text" id="pNombre" required oninput="document.getElementById('gNombre').value = this.value"></div>
            <div><label>C√©dula:</label><input type="text" id="pCedula" required oninput="document.getElementById('pCedula').value = this.value"></div>
        </div>
        <div class="grid-2">
            <div><label>Exp. Judicial:</label><input type="text" id="pExpJud"></div>
            <div><label>Exp. Carcelario:</label><input type="text" id="pExpCar"></div>
        </div>
        <label>Delito:</label><input type="text" id="pDelito" placeholder="Ej: Robo Agravado">
        <label>Lugar de Reclusi√≥n:</label><input type="text" id="pLugar">
    </div>

    <div class="modulo">
        <h2>1. Condena y Fechas de Detencion</h2>
        <div class="grid-3">
            <div><label>A√±os</label><input type="number" id="cAno" placeholder="0"></div>
            <div><label>Meses</label><input type="number" id="cMes" placeholder="0"></div>
            <div><label>D√≠as</label><input type="number" id="cDia" placeholder="0"></div>
        </div>
        <label>¬øAcumulaci√≥n de Penas / Periodos?</label>
        <select id="esAcum" onchange="toggleAcumulacion()"><option value="no">No</option><option value="si">S√≠</option></select>

        <div id="seccionUnica">
            <label>Fecha Detenci√≥n:</label>
            <input type="date" id="fDetencionUnica" oninput="document.getElementById('gFechaIni').value = this.value">
        </div>

        <div style="margin-top: 15px; padding: 10px; background: #fffbe6; border: 1px solid #ffe58f; border-radius: 8px;">
            <label style="color: #856404; margin-top: 0;">üìÖ Realizar c√≥mputo a la fecha de:</label>
            <input type="date" id="fFechaCorte">
            <small style="color: #666;">(Por defecto es hoy, pero puede cambiarla)</small>
        </div>

        <div id="seccionAcumulada" style="display:none;">
            <div id="contenedorPeriodos"></div>
            <button class="btn-add no-print" onclick="agregarPeriodo()">+ Agregar Periodo Anterior</button>
            <label>Detenci√≥n Actual (Desde):</label><input type="date" id="fDetencionActual">
        </div>
    </div>

    <div class="modulo no-print">
        <h2>2. Tiempo Redimido</h2>
        <div id="listaRedenciones"></div>
        <button class="btn-add" onclick="agregarFilaRedencion(0,0,0)">+ A√±adir Manualmente</button>
        <button class="btn-calc-red" onclick="toggleSubModulo()">Calculadora de redenciones</button>
        <div id="subModuloRedencion" class="sub-modulo">
            <h3>C√°lculo de Redencion</h3>
            <label>Fecha de Inicio de Labores:</label><input type="date" id="redInicio">
            <label>Fecha de Fin de Labores:</label><input type="date" id="redFin">
            <div class="grid-2">
                <div><label>D√≠as/Semana:</label><input type="number" id="redDiasSemana" value="5"></div>
                <div><label>Horas/D√≠a:</label><input type="number" id="redHorasDia" value="8"></div>
            </div>
            <button class="btn-principal" style="background:#28a745; padding:10px;" onclick="procesarRedencionAutomatica()">Procesar</button>
            <div id="resultadoMiniRed"></div>
        </div>
    </div>

    <div id="controles-principales" style="padding: 0 15px;" class="no-print">
        <button class="btn-principal btn-save" id="btnGuardar" onclick="guardarCasoCompleto()">üíæ GUARDAR EXPEDIENTE</button>
        <button class="btn-principal" onclick="validarYCalcular()">CALCULAR C√ìMPUTO Y BENEFICIOS</button>
        <button class="btn-add" style="background:#dc3545; width:100%; margin-top:10px;" onclick="nuevoExpediente()">NUEVO / LIMPIAR</button>
    </div>

    <div id="resultado" class="modulo" style="display:none;">
        <h2 id="resTitulo">Resultados</h2>
        <button onclick="copiarResultados(event)" class="btn-principal" style="background: #6c757d; margin: 10px 0; width: 100%; font-size: 0.85em;">
    Copiar Resultados al Portapapeles üìã
</button>

        <div id="resResumen"></div><hr>
        <h3>Proyecci√≥n de Beneficios Penales</h3>
        <div id="resBeneficios"></div>
    </div>
</div>

<div id="calculadora" class="tab-content">

    <div class="modulo" style="border-left: 5px solid #1a73e8; background: #fdfdfd;">
        <h2 style="color: #1565c0;">üßÆ Dosimetr√≠a Penal </h2>
        <div style="background: #f8f9fa; border: 1px solid #e1e4e8; border-radius: 12px; padding: 15px; margin-bottom: 20px;">
    <h4 style="margin: 0 0 10px 0; color: #1a73e8; font-size: 0.95em; text-transform: uppercase; letter-spacing: 0.5px;">
        üìò Protocolo de C√°lculo Autom√°tico
    </h4>
    
    <div style="display: grid; gap: 8px; font-size: 0.9em; color: #555;">
        
        <div style="display: flex; align-items: start; gap: 10px;">
            <span style="background: #e8f0fe; color: #1a73e8; font-weight: bold; min-width: 20px; text-align: center; border-radius: 4px;">1</span>
            <div><b>Selecci√≥n:</b> Escoja el delito o delitos imputados del cat√°logo.</div>
        </div>

        <div style="display: flex; align-items: start; gap: 10px;">
            <span style="background: #e8f0fe; color: #1a73e8; font-weight: bold; min-width: 20px; text-align: center; border-radius: 4px;">2</span>
            <div><b>Individualizaci√≥n:</b> Aplique atenuantes/agravantes, genericas y especificas y fije la pena base.</div>
        </div>

        <div style="display: flex; align-items: start; gap: 10px;">
            <span style="background: #e8f0fe; color: #1a73e8; font-weight: bold; min-width: 20px; text-align: center; border-radius: 4px;">3</span>
            <div><b>Iter Criminis:</b> Determine el grado de ejecuci√≥n (Tentativa / Frustraci√≥n).</div>
        </div>

        <div style="display: flex; align-items: start; gap: 10px;">
            <span style="background: #e8f0fe; color: #1a73e8; font-weight: bold; min-width: 20px; text-align: center; border-radius: 4px;">4</span>
            <div><b>Participaci√≥n:</b> Establezca el grado de intervenci√≥n (Autor√≠a / Complicidad).</div>
        </div>

        <div style="display: flex; align-items: start; gap: 10px;">
            <span style="background: #e8f0fe; color: #1a73e8; font-weight: bold; min-width: 20px; text-align: center; border-radius: 4px;">5</span>
            <div><b>Pluralidad:</b> El sistema detectar√° y aplicar√° reglas de Concurso (Real / Ideal).</div>
        </div>

        <div style="display: flex; align-items: start; gap: 10px;">
            <span style="background: #e8f0fe; color: #1a73e8; font-weight: bold; min-width: 20px; text-align: center; border-radius: 4px;">6</span>
            <div><b>Procedimiento:</b> Aplique rebaja por Admisi√≥n de los Hechos si corresponde.</div>
        </div>

    </div>

    <div style="margin-top: 10px; padding-top: 10px; border-top: 1px dashed #ccc; font-weight: bold; color: #2e7d32; display: flex; align-items: center; gap: 5px;">
        üèÅ Resultado: <span style="font-weight: normal; color: #333;">Sentencia Definitiva Lista.</span>
    </div>
</div>

        
        <div id="contenedorDelitosDosimetria"></div>

        <button class="btn-add" style="width: 100%; padding: 15px; font-size: 1em; background: #1a73e8;" onclick="agregarBloqueDelito()">
            + AGREGAR DELITO AL CALCULO
        </button>

        <div id="seccionConcurso" style="display:none; margin-top: 20px; border: 2px solid #e67e22; padding: 15px; border-radius: 10px; background: #fffbf0;">
            <h3 style="color: #e67e22; margin-top: 0;">üîó Reglas de Concurso</h3>
            
            <label>Tipo de Concurso:</label>
           <select id="tipoConcurso" onchange="actualizarUIConcurso()">
    <option value="Real">Concurso Real (Art. 86 CP)</option>
    <option value="Ideal">Concurso Ideal (Art. 87 CP)</option>
    <option value="SinConcurso">Sin Concurso (Suma Aritm√©tica)</option> </select>


            <div id="uiConcursoIdeal" style="display:none; margin-top: 10px; background: #fff; padding: 10px; border-radius: 5px;">
                <label>Aumento por Concurso Ideal (Fracci√≥n):</label>
                <input type="text" id="fraccionIdeal" placeholder="Ej: 1/6">
                <small>Se aplicar√° a la pena m√°s grave.</small>
            </div>
        </div>

        <div class="modulo" style="margin-top: 20px; border-left: 5px solid #27ae60; background: #fff;">
            <h3>ü§ù Procedimiento Especial</h3>
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <label style="margin:0;">¬øAplica Admisi√≥n de los Hechos?</label>
                <div class="switch-container" style="padding: 2px; margin:0; border:none; background:none;">
                    <label class="switch">
                        <input type="checkbox" id="chkAdmision">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            <div id="uiAdmision" style="margin-top: 10px;">
                <label>Rebaja a aplicar:</label>
                <input type="text" id="fraccionAdmision" placeholder="Ej: 1/3">
            </div>
        </div>

        <button class="btn-principal" onclick="calcularDosimetriaFinal()">CALCULAR SENTENCIA DEFINITIVA</button>

        <div id="resDosimetria" class="modulo" style="display:none; margin-top: 20px; border-top: 5px solid #2e7d32; background: #fff;">
            <h2 style="color:#2e7d32;">‚öñÔ∏è Sentencia Estimada</h2>
            
            <div class="grid-2">
                <div style="text-align:center;">
                    <span style="font-size: 0.9em; color: #666;">Pena Total:</span><br>
                    <b id="lblPenaFinal" style="font-size: 1.5em;">--</b>
                </div>
                <div style="text-align:center;">
                    <span style="font-size: 0.9em; color: #666;">Fecha Cumplimiento:</span><br>
                    <b id="lblFechaFinal" style="color: #d93025;">--</b>
                </div>
            </div>

            <h3>üìù Iter Procesal (Fundamentaci√≥n)</h3>
            <div id="iterDosimetria" style="font-family: 'Courier New', Courier, monospace; font-size: 0.85em; background: #333; color: #fff; padding: 15px; border-radius: 8px; white-space: pre-wrap;"></div>
        </div>
    </div>
   


</div>

<div id="prescripciones" class="tab-content">
    
      <div class="modulo">
        <h2>1. Selecci√≥n del Delito</h2>
        
        <style>
            /* ESTO PERMITE QUE EL TEXTO BAJE DE L√çNEA */
.opcion-multilinea {
    white-space: normal !important;
    word-wrap: break-word !important;
    border-bottom: 1px solid #f0f0f0;
    padding: 8px 5px; /* Un poco m√°s de espacio */
    font-size: 0.9em;
    line-height: 1.2; /* Mejor lectura en varias l√≠neas */
}

/* ESTO HACE QUE LA CAJA SEA GRANDE SIEMPRE */
#selDelitoPresc {
    height: auto !important;
    min-height: 250px !important; /* Altura fija grande */
    overflow-y: auto;
}

        </style>

        <label>Buscar delito:</label>
        <input type="text" id="inputBusquedaDelito" placeholder="Escriba para filtrar (ej: robo...)" 
               onkeyup="filtrarDelitosUI()" style="margin-bottom:5px; background:#f0f8ff;">
        
        <select id="selDelitoPresc" onchange="cargarDatosDelitoSeleccionado()" size="7" style="height: auto; min-height: 180px;">
            <option value="">-- Resultados de la b√∫squeda --</option>
        </select>
        <small style="color:#666; display:block; margin-top:2px;">üëÜ Seleccione el delito en la lista</small>

        <div id="infoDelito" style="background:#e8f0fe; padding:10px; margin-top:10px; border-radius:8px; font-size:0.9em; display:none; border: 1px solid #b6d4fe;">
            <div class="grid-2">
                <div><b>Ley:</b> <span id="lblLey"></span></div>
                <div><b>Art√≠culo:</b> <span id="lblArticulo"></span></div>
            </div>
            
            <div style="margin-top:5px; padding-top:5px; border-top:1px dashed #ccc;">
                <b>Tipo de Pena:</b> <span id="lblSancion" style="color:#d93025; font-weight:bold; text-transform: uppercase;"></span>
            </div>

            <div class="grid-2" style="margin-top:5px;">
                <div><b>Acci√≥n:</b> <span id="lblAccion"></span></div>
                <div><b>Condici√≥n:</b> <span id="lblCondicion" style="font-weight:bold;"></span></div>
            </div>

            <div style="margin-top:5px; border-top:1px dashed #ccc; padding-top:5px;">
                <b>L√≠mites:</b> <span id="lblRango"></span> <br>
                <b>T√©rmino Medio:</b> <span id="lblMediaBase" style="color:#1a73e8; font-weight:bold;"></span>
                <br><small>(Base para el c√°lculo de prescripci√≥n)</small>
            </div>
            
            <span id="lblMin" style="display:none;"></span>
            <span id="lblMax" style="display:none;"></span>
            <span id="lblTiempoPresc" style="display:none;"></span>
        </div>
    </div>


    <div id="moduloAccionPenal" class="modulo">
        <h2>2. Prescripci√≥n de la Acci√≥n Penal</h2>
        
        <label>Grado de Ejecuci√≥n:</label>
        <select id="selGradoEjecucion" onchange="actualizarInterfazRebajas()">
            <option value="Consumado">Delito Consumado (Sin rebaja)</option>
            <option value="Frustrado">Delito Frustrado (Rebaja 1/3)</option>
            <option value="Tentativa">Tentativa (Rebaja de 1/2 a 2/3)</option>
        </select>

        <div id="divFraccionManual" style="display:none; background:#fff3cd; padding:10px; border-radius:5px; margin-top:5px;">
            <label>Fracci√≥n de rebaja a aplicar:</label>
            <div class="grid-2">
                <input type="text" id="fraccionEjecucion" placeholder="Ej: 1/3">
                <small style="align-self:center; color:#666;">(Puede editar ej: 1/2, 1/3, 2/3)</small>
            </div>
        </div>

        <label style="margin-top:15px;">Grado de Intervenci√≥n:</label>
        <select id="selGradoIntervencion">
            <option value="Perpetrador">Autor / Coautor / Coop. Inmediato (Igual pena)</option>
            <option value="Complice">C√≥mplice Simple / Facilitador (Rebaja 1/2)</option>
        </select>

        <hr style="border: 0; border-top: 1px solid #ddd; margin: 15px 0;">

       <div class="modulo-fechas">
    <label>Fecha de Comisi√≥n del Hecho / ultimo acto de ejecucion / cese de continuacion o permanencia del hecho/ interrupcion:</label>
    <input type="date" id="fHechoPresc">

    <div style="background: #fff3cd; padding: 10px; border-radius: 8px; margin-top: 15px; border: 1px solid #ffeeba;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <label style="margin:0; color:#856404;">¬øExisti√≥ Suspensi√≥n del Lapso?</label>
            <div class="switch-container" style="padding: 2px; margin:0; border:none; background:none;">
                <label class="switch">
                    <input type="checkbox" id="chkSuspension" onchange="document.getElementById('divFechasSuspension').style.display = this.checked ? 'block' : 'none'">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div id="divFechasSuspension" style="display:none; margin-top: 10px; border-top: 1px solid #eec;">
            <p style="font-size:0.8em; color:#666; margin-bottom:5px;">Ingrese el periodo donde el proceso estuvo detenido (Ej. Esperando antejuicio de m√©rito, extradici√≥n, etc.):</p>
            <div class="grid-2">
                <div><label>Inicio Suspensi√≥n:</label><input type="date" id="fSuspInicio"></div>
                <div><label>Fin Suspensi√≥n:</label><input type="date" id="fSuspFin"></div>
            </div>
        </div>
    </div>
</div>

<button class="btn-principal" style="margin-top: 15px;" onclick="calcularPrescripcionInteligente()">CALCULAR PRESCRIPCI√ìN</button>

    </div>

 <div class="modulo" style="border-top: 5px solid #d93025;">
    <h2>3. Prescripci√≥n de la Pena (Art. 112 C.P.)</h2>
    
    <div style="background: #fff5f5; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-size: 0.9em; color: #555;">
        <b>Instrucciones:</b> Ingrese la pena impuesta  en la sentencia definitivamente firme, o lo que falte por cumplirse, de acuerdo al ultimo computo. No requiere seleccionar el delito del cat√°logo.
    </div>

    <label>Pena Impuesta (Sentencia Firme):</label>
    <div class="grid-3">
        <input type="number" id="pen_a" placeholder="A√±os">
        <input type="number" id="pen_m" placeholder="Meses">
        <input type="number" id="pen_d" placeholder="D√≠as">
    </div>

    <div class="grid-2">
        <div>
            <label>Tipo de Sanci√≥n:</label>
            <select id="pen_tipo">
                <option value="Presidio">Presidio (+ 1/2)</option>
                <option value="Prisi√≥n">Prisi√≥n (+ 1/2)</option>
                <option value="Arresto">Arresto (+ 1/2)</option>
                <option value="Relegaci√≥n">Relegaci√≥n (+ 1/3)</option>
                <option value="Confinamiento">Confinamiento (+ 1/3)</option>
            </select>
        </div>
        <div>
            <label>Inicio del C√≥mputo:</label>
            <input type="date" id="pen_inicio" placeholder="Fecha Sentencia Firme o Quebrantamiento">
            <small style="color:#666; font-size:0.75em;">(Fecha Sentencia Firme o Quebrantamiento)</small>
        </div>
    </div>

    <div style="background: #e3f2fd; padding: 10px; border-radius: 8px; margin-top: 15px; border: 1px solid #bbdefb;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <div>
                <b style="color:#1565c0;">¬øSentencia por Varios Delitos?</b><br>
                <small style="color:#555;">(Concurso Real o Ideal -> Suma 1/4 a la prescripci√≥n)</small>
            </div>
            <div class="switch-container" style="padding: 2px; margin:0; border:none; background:none;">
                <label class="switch">
                    <input type="checkbox" id="chkConcursoPena">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </div>

    <button class="btn-principal" style="background: #c62828; margin-top: 15px;" onclick="calcularPrescripcionPena()">CALCULAR PRESCRIPCI√ìN DE LA PENA</button>

    <div id="resPenaBox" style="display:none; margin-top: 20px; background: #fff; padding: 15px; border-radius: 10px; border-left: 5px solid #c62828; border: 1px solid #eee;">
        <h3 style="color:#c62828; margin-top:0;">üõë Resultado del C√°lculo</h3>
        
        <div class="grid-2">
            <div>
                <b>Tiempo Total Requerido:</b><br>
                <span id="lblTiempoPena" style="font-size: 1.2em; font-weight: bold;">--</span>
            </div>
            <div>
                <b>Fecha de Prescripci√≥n:</b><br>
                <span id="lblFechaPena" style="font-size: 1.2em; color: #d93025; font-weight: bold;">--</span>
            </div>
        </div>

        <h4 style="margin-top: 15px; border-bottom: 1px solid #ddd;">üìù Iter Procesal</h4>
        <div id="iterPena" style="font-family: 'Courier New', Courier, monospace; font-size: 0.85em; background: #333; color: #fff; padding: 10px; border-radius: 5px; white-space: pre-wrap;">
        </div>

        <div style="margin-top: 10px; background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px; font-size: 0.85em; border: 1px solid #ffeeba;">
            <b>‚ö†Ô∏è ADVERTENCIA JURISPRUDENCIAL:</b><br>
            En aquellos delitos donde la acci√≥n penal es considerada <b>IMPRESCRIPTIBLE</b> (Ej. Lesa Humanidad, Patrimonio P√∫blico, Tr√°fico de Drogas Mayor Cuant√≠a seg√∫n criterio), se entiende jur√≠dicamente que la <b>Pena</b> tambi√©n es imprescriptible. Verifique la naturaleza del delito antes de aplicar este resultado.
        </div>
    </div>
</div>


    <div id="resPrescripcion" class="modulo" style="display:none; border-top: 5px solid #2e7d32;">
        <h2 style="color:#2e7d32;">‚öñÔ∏è Dictamen Jur√≠dico</h2>
        
        <div style="background:#f1f8e9; padding:15px; border-radius:10px; margin-bottom:15px;">
            <div class="grid-2">
                <div>
                    <b>Lapso Ordinario:</b><br>
                    <span id="resLapsoOrd" style="font-size:1.2em;">--</span>
                </div>
                <div>
                    <b>Fecha Prescribe:</b><br>
                    <span id="resFechaOrd" style="font-size:1.2em; font-weight:bold; color:#d93025;">--</span>
                </div>
            </div>
            <div id="resExtraordinarioBox" style="margin-top:10px; border-top:1px solid #c8e6c9; padding-top:10px;">
                <b>Lapso Extraordinario (Judicial):</b> <span id="resLapsoExtra">--</span><br>
                <b>Fecha Tope:</b> <span id="resFechaExtra" style="color:#d93025; font-weight:bold;">--</span>
            </div>
        </div>

        <h3>üìù Iter Procesal (Explicaci√≥n del C√°lculo)</h3>
        <div id="iterProcesal" style="font-family: 'Courier New', Courier, monospace; font-size: 0.85em; background: #333; color: #fff; padding: 15px; border-radius: 8px; white-space: pre-wrap;">
            Aqu√≠ aparecer√° el desglose paso a paso...
        </div>
    </div>
</div>
<div id="conversiones" class="tab-content">
    
    <div class="modulo" style="border-top: 5px solid #e67e22;">
        <h2 style="color:#e67e22;">‚öñÔ∏è Equivalencias entre Penas</h2>
        <p style="font-size:0.9em; color:#666;">Calcule la conversi√≥n de tiempo f√≠sico seg√∫n las reglas de proporci√≥n del C√≥digo Penal.</p>

        <label>Tiempo a Convertir:</label>
        <div class="grid-3">
            <input type="number" id="conv_a" placeholder="A√±os">
            <input type="number" id="conv_m" placeholder="Meses">
            <input type="number" id="conv_d" placeholder="D√≠as">
        </div>

                <label>Tipo de Conversi√≥n (Regla):</label>
        <select id="tipoConversion">
            <optgroup label="Hacia PRISI√ìN">
                <option value="arr_pri">Arresto ‚Üí Prisi√≥n (2 d√≠as Arresto = 1 Prisi√≥n)</option>
                <option value="rel_pri">Releg/Conf/Exp ‚Üí Prisi√≥n (2 d√≠as = 1 Prisi√≥n)</option>
            </optgroup>
            <optgroup label="Hacia PRESIDIO">
                <option value="arr_pres">Arresto ‚Üí Presidio (3 d√≠as Arresto = 1 Presidio)</option>
                <option value="rel_pres">Relegaci√≥n ‚Üí Presidio (4 d√≠as Releg. = 1 Presidio)</option>
                <option value="conf_pres">Conf/Exp ‚Üí Presidio (5 d√≠as Conf. = 1 Presidio)</option>
                <option value="pri_pres">Prisi√≥n ‚Üí Presidio (2 d√≠as Prisi√≥n = 1 Presidio)</option>
            </optgroup>
        </select>


        <button class="btn-principal" style="background:#e67e22; margin-top:15px;" onclick="calcularEquivalencia()">CALCULAR EQUIVALENCIA</button>
        
        <div id="resEquivalencia" class="calc-res" style="border-left: 5px solid #e67e22; display:none;"></div>
    </div>

    <div class="modulo" style="border-top: 5px solid #2980b9;">
        <h2 style="color:#2980b9;">üîÑ Conmutaci√≥n de Penas</h2>
        <p style="font-size:0.9em; color:#666;">C√°lculo del aumento de pena al cambiar la naturaleza de la sanci√≥n.</p>

        <label>Pena Original:</label>
        <div class="grid-3">
            <input type="number" id="conm_a" placeholder="A√±os">
            <input type="number" id="conm_m" placeholder="Meses">
            <input type="number" id="conm_d" placeholder="D√≠as">
        </div>

        <label>Operaci√≥n de Conmutaci√≥n:</label>
        <select id="tipoConmutacion">
            <option value="pres_a_pri">Presidio ‚ûî Prisi√≥n (Aumento de 1/3)</option>
            <option value="pri_a_arr">Prisi√≥n ‚ûî Arresto (Aumento de 1/4)</option>
            <option value="pri_a_conf">Prisi√≥n ‚ûî Confinamiento (Aumento de 1/3)</option>
        </select>

        <button class="btn-principal" style="background:#2980b9; margin-top:15px;" onclick="calcularConmutacion()">CALCULAR CONMUTACI√ìN</button>
        
        <div id="resConmutacion" class="calc-res" style="border-left: 5px solid #2980b9; display:none;"></div>
    </div>

</div>
<div id="herramientas" class="tab-content">
    
    <div class="modulo" style="border-top: 5px solid #607d8b;">
        <h2>üìÖ Calcular lapso entre dos fechas</h2>
        <div class="grid-2">
            <div><label>Fecha Inicial:</label><input type="date" id="calc71_inicio"></div>
            <div><label>Fecha Final:</label><input type="date" id="calc71_fin"></div>
        </div>
        <button class="btn-principal" style="padding:10px; background:#607d8b;" onclick="calc71()">Calcular Lapso</button>
        <div id="res71" class="calc-res"></div>
    </div>

    <div class="modulo" style="border-top: 5px solid #607d8b;">
        <h2>‚ûï Sumar lapsos de tiempo</h2>
        <div id="listaLapsosSuma">
            <div class="grid-3"><input type="number" class="sa" placeholder="A√±os"><input type="number" class="sm" placeholder="M"><input type="number" class="sd" placeholder="D"></div>
        </div>
        <button class="btn-add" onclick="agregarFilaSuma()">+ Agregar otro lapso</button>
        <button class="btn-principal" style="padding:10px; background:#607d8b;" onclick="calc72()">Sumar Lapsos</button>
        <div id="res72" class="calc-res"></div>
    </div>

    <div class="modulo" style="border-top: 5px solid #607d8b;">
        <h2>‚ûñ Restar dos lapsos</h2>
        <p><small>Ingrese el lapso mayor arriba y el que desea restar abajo</small></p>
        <div class="grid-3">
            <input type="number" id="r1a" placeholder="A√±os">
            <input type="number" id="r1m" placeholder="Meses">
            <input type="number" id="r1d" placeholder="D√≠as">
        </div>
        <div style="text-align:center; margin: 5px 0; font-weight:bold; color:#607d8b;">MENOS</div>
        <div class="grid-3">
            <input type="number" id="r2a" placeholder="A√±os">
            <input type="number" id="r2m" placeholder="Meses">
            <input type="number" id="r2d" placeholder="D√≠as">
        </div>
        <button class="btn-principal" style="padding:10px; background:#607d8b;" onclick="calc73()">Restar Lapsos</button>
        <div id="res73" class="calc-res"></div>
    </div>

    <div class="modulo" style="border-top: 5px solid #607d8b;">
        <h2>üìÖ Sumar/Restar Lapso a una Fecha</h2>
        <label>Fecha Base:</label><input type="date" id="fBase745">
        <div class="grid-3"><input type="number" id="la745" placeholder="A√±os"><input type="number" id="lm745" placeholder="Meses"><input type="number" id="ld745" placeholder="D√≠as"></div>
        <div class="grid-2">
            <button class="btn-principal" style="padding:10px; background:#e67e22;" onclick="calc745('restar')">Restar Lapso</button>
            <button class="btn-principal" style="padding:10px; background:#27ae60;" onclick="calc745('sumar')">Sumar Lapso</button>
        </div>
        <div id="res745" class="calc-res"></div>
    </div>

    <div class="modulo" style="border-top: 5px solid #607d8b;">
        <h2>üç∞ Fragmentar una pena (Solo Fracci√≥n)</h2>
        <div class="grid-3"><input type="number" id="fra" placeholder="A√±os"><input type="number" id="frm" placeholder="Meses"><input type="number" id="frd" placeholder="D√≠as"></div>
        <label>Fracci√≥n (Ejemplo: 1/3 o 3/4):</label>
        <input type="text" id="fraccion" placeholder="1/2">
        <button class="btn-principal" style="padding:10px; background:#607d8b;" onclick="calc76()">Calcular Fracci√≥n</button>
        <div id="res76" class="calc-res"></div>
    </div>

    <div class="modulo" style="border-top: 5px solid #8e44ad;">
        <h2 style="color:#8e44ad;">üßÆ Operar Fracci√≥n sobre Lapso</h2>
        <p><small>Ej: A 4 a√±os, restarle su cuarta parte (1/4).</small></p>
        
        <label>Lapso Base:</label>
        <div class="grid-3">
            <input type="number" id="op_a" placeholder="A√±os">
            <input type="number" id="op_m" placeholder="Meses">
            <input type="number" id="op_d" placeholder="D√≠as">
        </div>

        <div class="grid-2">
            <div>
                <label>Fracci√≥n (Ej: 1/4):</label>
                <input type="text" id="op_frac" placeholder="1/4">
            </div>
            <div>
                <label>Acci√≥n:</label>
                <select id="op_tipo">
                    <option value="sumar">Sumar (+)</option>
                    <option value="restar">Restar (-)</option>
                </select>
            </div>
        </div>

        <button class="btn-principal" style="background:#8e44ad; margin-top:10px;" onclick="calcularOperacionFraccion()">CALCULAR RESULTADO</button>
        <div id="resOperacionFrac" class="calc-res" style="border-left: 5px solid #8e44ad;"></div>
    </div>
   
</div>

</div>


<div id="adminPanel" class="tab-content">
    
    <div class="modulo" style="border-top: 5px solid #8e44ad;">
        <h2>‚öñÔ∏è Gesti√≥n del Cat√°logo de Delitos</h2>
        
        <div class="grid-2">
            <div><label>Nombre del Delito:</label><input type="text" id="admDelitoNombre" placeholder="Ej: Robo Agravado"></div>
            <div><label>Ley:</label><input type="text" id="admDelitoLey" placeholder="Ej: C√≥digo Penal"></div>
        </div>

        <div class="grid-3">
            <div><label>Art√≠culo:</label><input type="text" id="admDelitoArt"></div>
            <div><label>Pena M√≠nima (A√±os):</label><input type="number" id="admDelitoMin" step="0.01"></div>
            <div><label>Pena M√°xima (A√±os):</label><input type="number" id="admDelitoMax" step="0.01"></div>
        </div>

        <div class="grid-3">
            <div>
                <label>Tipo de Sanci√≥n:</label>
                <select id="admDelitoSancion">
                    <option value="Presidio">Presidio</option>
                    <option value="Prisi√≥n">Prisi√≥n</option>
                    <option value="Arresto">Arresto</option>
                    <option value="Confinamiento">Confinamiento</option>
                    <option value="Multa">Multa</option>
                </select>
            </div>
            <div>
                <label>Tipo de Acci√≥n:</label>
                <select id="admDelitoTipo">
                    <option value="P√∫blica">P√∫blica</option>
                    <option value="Privada">Privada</option>
                </select>
            </div>
            <div>
                <label>Condici√≥n:</label>
                <select id="admDelitoCondicion">
                    <option value="Prescriptible">Prescriptible</option>
                    <option value="Imprescriptible">Imprescriptible</option>
                </select>
            </div>
        </div>

        <button class="btn-principal" style="background: #4a148c; margin-top:20px;" onclick="guardarDelitoAvanzado()">+ GUARDAR EN CAT√ÅLOGO</button>
        <div class="modulo" style="border-top: 5px solid #107c41; margin-top: 20px; background: #f0fff4;">
    <h3 style="color: #107c41;">üìó Importaci√≥n Masiva desde Excel</h3>
    <p style="font-size: 0.9em;">
        <b>Paso 1:</b> Descargue la plantilla obligatoria.<br>
        <b>Paso 2:</b> Llene los datos en Excel (No cambie los t√≠tulos).<br>
        <b>Paso 3:</b> Suba el archivo aqu√≠.
    </p>

    <div class="grid-2">
        <button class="btn-principal" onclick="descargarPlantillaDelitos()" style="background: #fff; color: #107c41; border: 1px solid #107c41;">
            üì• Descargar Plantilla.xlsx
        </button>
        <div style="position: relative; overflow: hidden; display: inline-block;">
            <button class="btn-principal" style="background: #107c41;">üìÇ Subir Excel Lleno</button>
            <input type="file" id="inputExcelDelitos" accept=".xlsx, .xls" onchange="procesarExcelDelitos()" style="font-size: 100px; position: absolute; left: 0; top: 0; opacity: 0; cursor: pointer;">
        </div>
    </div>
    <small id="statusExcel" style="color: #666; font-weight: bold;"></small>
</div>

        <div style="margin-top: 30px; border-top: 2px dashed #ccc; padding-top: 20px;">
    <h3 style="color: #d93025;">üöÄ Zona de Publicaci√≥n Masiva</h3>
    <p style="font-size: 0.9em;">
        Use este bot√≥n despu√©s de agregar o borrar delitos. 
        Empaqueta todo el cat√°logo en un solo archivo para que los usuarios lo descarguen con <b>1 sola lectura</b>.
    </p>
    <button class="btn-principal" onclick="publicarCatalogoMaestro()" style="background: #d93025; font-weight: bold;">
        üì¶ PUBLICAR CAT√ÅLOGO MAESTRO (JSON)
    </button>
</div>

        <h3 style="margin-top: 20px;">Lista de Delitos Registrados</h3>

<div style="text-align: center; margin-bottom: 10px;">
    <button class="btn-principal" style="background: #6c757d; padding: 12px; font-size: 0.9em;" onclick="cargarDelitosEnAdmin()">
        üìÇ VER/EDITAR LISTA DE DELITOS (Clic aqu√≠)
    </button>
    <small style="color: #666; font-size: 0.8em;">(Presione solo si necesita editar. Consume lecturas de la base de datos)</small>
</div>

<div id="listaDelitosAdmin" style="max-height: 300px; overflow-y: auto; background: #fff; padding: 10px; border: 1px solid #ddd; display: none;">
    </div>


    <div style="background:#f8f9fa; padding:15px; border-radius:10px; border:1px solid #ddd; margin-bottom:20px;">
        <label style="margin-top:0;">üîé Buscar abonado por correo:</label>
        <div class="grid-2">
            <input type="email" id="adminSearchEmail" placeholder="cliente@correo.com" style="margin-top:5px;">
            <button class="btn-principal" onclick="buscarUsuarioAdmin()" style="margin-top:5px; background:#4b5563;">BUSCAR</button>
        </div>
    </div>

    <div style="background:#e6ffed; padding:15px; border-radius:10px; border:1px solid #b7eb8f; text-align:center;">
        <p style="color:#2e7d32; font-weight:bold; margin-top:0;">‚ö° Novedades</p>
        <p id="lblUltimaRev" style="font-size:0.8em; color:#555; margin-bottom:10px;">Nunca has revisado las novedades.</p>
        
        <button class="btn-principal" onclick="verNuevosRegistros()" style="background:#2e7d32; padding: 12px;">
            VER QUI√âN SE REGISTR√ì DESDE MI √öLTIMA VISITA
        </button>
        
        <div style="margin-top:10px;">
            <small style="cursor:pointer; color:#1a73e8; text-decoration:underline;" onclick="resetearFechaAdmin()">
                (Resetear contador y ver los √∫ltimos 10 hist√≥ricos)
            </small>
        </div>
    </div>
    
    <h3 style="margin-top:20px; border-bottom:2px solid #eee;">Resultados de B√∫squeda:</h3>
    <div style="overflow-x: auto;">
        <table class="report-table">
            <thead>
                <tr>
                    <th>Usuario / Registro</th>
                    <th>Referido Por</th>
                    <th>Estado</th>
                    <th>Vencimiento</th>
                    <th>Acci√≥n</th>
                </tr>
            </thead>
            <tbody id="bodyUsuariosAdmin">
                <tr><td colspan="5" style="text-align:center; color:#999; padding:20px;">Seleccione una opci√≥n arriba</td></tr>
            </tbody>
        </table>
    </div>

</div>
</div>

<div style="margin-top: 40px; padding-bottom: 20px;">
    
    <div class="modulo no-print" style="text-align: center; border: 1px solid #e1e4e8; background: #fff;">
        <p style="margin-bottom: 10px; font-weight: bold; color: #1a73e8; font-size: 0.9em;">
            ¬øDudas Legales? ¬øSoporte T√©cnico? ¬øPagos?
        </p>
        <button onclick="abrirWhatsApp()" class="btn-whatsapp">
            üì≤ Contactar al Dr. Charles Reyes
        </button>
    </div>

    <div class="modulo no-print" style="background: #e8f5e9; border: 2px dashed #2e7d32; text-align: center; margin-top: 20px;">
        <h3 style="color: #2e7d32; margin-top: 0; font-size: 1.1em;">üéÅ ¬°Gana 30 d√≠as GRATIS!</h3>
        <p style="font-size: 0.85em; color: #555; margin-bottom: 15px;">
            Recomienda la App a un colega. Si tu referido se suscribe, ambos reciben un mes de regalo.
        </p>
        <button onclick="compartirReferido()" class="btn-principal" style="background: #2e7d32; padding: 12px; font-size: 0.95em;">
            Compartir Enlace de Referido üöÄ
        </button>
    </div>

    <div style="text-align: center; color: #aaa; font-size: 0.75em; margin-top: 20px;">
        Calculadora Penal Iuris ¬© 2026<br>
        Desarrollado por Consultora Iuris
    </div>

</div>

<div id="modalTerminos" class="modal" style="background: rgba(0,0,0,0.8);">
<div class="modal-content" style="max-width: 700px;">
<h2 style="font-size: 1.2em; text-align: center;">T√âRMINOS Y CONDICIONES DE USO DE LA APLICACI√ìN CALCULADORA PENAL DEL DR. CHARLES REYES</h2>
<p style="font-size: 0.8em; color: #666; text-align: center;">Fecha de √öltima Actualizaci√≥n: 26 de Diciembre de 2025</p>

<div class="contrato-scroll">
<p><strong>IMPORTANTE:</strong> La aceptaci√≥n de estos T&C es obligatoria para el uso de la Aplicaci√≥n. Al hacer clic en "Aceptar" o al utilizar la Aplicaci√≥n, el Usuario declara haber le√≠do, entendido y aceptado plenamente todas las cl√°usulas aqu√≠ contenidas.</p>

<p><strong>1. DEFINICIONES Y OBJETO</strong><br>
1.1. Aplicaci√≥n: Se refiere al software Calculadora Penal del Dr. Charles Reyes...<br>
1.2. Desarrollador: Dr. Charles Reyes, creador y propietario de la Aplicaci√≥n.<br>
1.3. Usuario: Cualquier persona que acceda o utilice la Aplicaci√≥n...<br>
1.5. Cifrado de Extremo a Extremo (E2EE): Mecanismo de seguridad que garantiza que la Data del Usuario es cifrada en el dispositivo del Usuario , utilizando el correo electronico para cifrar los datos, esta ap√±icacion no utiliza llave maestra para cifrar datos, en consexuencia no se garantiza la seguridad total de los datos</p>

<p><strong>2. PROPIEDAD INTELECTUAL</strong><br>
2.1. Titularidad: El Desarrollador es el √∫nico y exclusivo propietario de todos los derechos de propiedad intelectual e industrial sobre la Aplicaci√≥n...</p>

<p><strong>3. RESPONSABILIDADES Y ADVERTENCIAS LEGALES DEL USUARIO</strong><br>
El Usuario reconoce que la Aplicaci√≥n es una herramienta de apoyo y que no sustituye el criterio profesional.<br>
3.1. Advertencia para el Abogado Litigante (Secreto Profesional): El Usuario que act√∫e como Abogado Litigante en el libre ejercicio de su profesion, declara conocer y aceptar que es el √∫nico responsable de garantizar el cumplimiento del Secreto Profesional y que cuenta con la autorizacion para enviar data sensible a servidores externos, en este caso encriptada a los servidores de firebase de google, sin embargo el usuario puese escogwr a traves de un interruptor si guarda la informacion en la nube o localmente en su dispositivo.<br>
3.2. Advertencia para el Funcionario P√∫blico (Riesgo Administrativo y Penal): La Aplicaci√≥n no es un sistema de informaci√≥n oficial ni est√° homologada por las autoridades competentes de la Rep√∫blica Bolivariana de Venezuela, no cumple con las formalidades de la Ley de Infogobierno y el servidor se encuentra alojado fuera de la Republica, aunque la informacion se graba de manera encriptada, la legislacion venezolana prohibe que los servidores esten en custodia y control de un tercero, en consecuencia, todo usuario que se registre y haga uso de esta aplicacion declara QUE NO ES FUNCIONARIO PUBLICO DE LA REPUBLICA BOLIVARIANA DE VENEZUELA relacionado con data sensible de los privados de libertad y libra de toda responsabilidad civil, administrativa y penal al propietario y administrador de esta aplicacion, en conclusion si usted es funcionario publico, por favor ABSTENERSE de usar esta aplicacion.<br>
3.3. Advertencia para el Familiar del Detenido: La Aplicaci√≥n no proporciona asesor√≠a legal; los resultados son meramente indicativos.</p>

<p><strong>4. ALMACENAMIENTO DE DATOS Y SEGURIDAD (E2EE)</strong><br>
4.1. Cifrado de Extremo a extremo (E2EE) y Clave de Usuario: Toda la Data del Usuario ingresada en la Aplicaci√≥n es cifrada mediante E2EE...<br>
4.2. No Acceso al Contenido: El Desarrollador no posee las claves de descifrado y, por lo tanto, no tiene acceso al contenido de la Data del Usuario...<br>
4.4. Exoneraci√≥n por Contenido: El Desarrollador queda totalmente exonerado de cualquier responsabilidad penal, civil o administrativa derivada del contenido de la Data del Usuario.</p>

<p><strong>5. LIMITACI√ìN DE RESPONSABILIDAD</strong><br>
5.1. Exoneraci√≥n por P√©rdida de Datos: El Desarrollador no ser√° responsable por la p√©rdida, corrupci√≥n o inaccesibilidad de la Data del Usuario...<br>
5.2. Exoneraci√≥n por Resultados de C√°lculo: El Desarrollador no garantiza la exactitud absoluta de los c√°lculos generados por la Aplicaci√≥n.</p>

<p><strong>6. USOS PROHIBIDOS</strong><br>
El Usuario se compromete a no utilizar la Aplicaci√≥n para fines il√≠citos o fraudulentos.</p>

<p><strong>7. CIERRE Y TERMINACI√ìN DE CUENTA</strong><br>
El Desarrollador se reserva el derecho de suspender o terminar la cuenta de cualquier Usuario sin previo aviso.</p>

<p><strong>8. LEY APLICABLE Y JURISDICCI√ìN</strong><br>
Estos T&C se rigen e interpretan de conformidad con las leyes de la Rep√∫blica Bolivariana de Venezuela. Cualquier controversia ser√° sometida a la jurisdicci√≥n exclusiva de los tribunales civilew competentes de la ciudad de San Crist√≥bal, Estado T√°chira Venezuela.</p>
</div>

<button class="btn-principal" onclick="aceptarTerminos()" style="padding:15px; background: #34a853;">HE LE√çDO, ENTIENDO Y ACEPTO LOS T√âRMINOS Y CONDICIONES</button>
</div>
</div>

<div id="modalVencimiento" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:10000; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
    
    <div style="background:white; width:90%; max-width:450px; border-radius:15px; overflow:hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.5); display:flex; flex-direction:column; max-height: 90vh;">
        
        <div style="background: linear-gradient(135deg, #1e3a8a, #3b82f6); padding:20px; text-align:center; color:white;">
            <div style="font-size:3rem; margin-bottom:10px;">üíé</div>
            <h2 style="margin:0; font-size:1.4rem;">IURIS PENAL</h2>
            <p style="margin:5px 0 0; font-size:0.9rem; opacity:0.9;">Tu suscripci√≥n ha vencido</p>
        </div>

        <div style="padding:20px; overflow-y:auto; font-size:0.95rem; color:#333;">
            
            <p style="text-align:center; margin-bottom:15px; color:#555;">Elige tu plan y optimiza tu despacho:</p>

            <div style="display:grid; gap:10px; margin-bottom:20px;">
                <div style="border:1px solid #ddd; padding:10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; background:#f8fafc;">
                    <span>‚úÖ <b>MENSUAL</b></span>
                    <span style="background:#e0f2fe; color:#0369a1; padding:2px 8px; border-radius:4px; font-weight:bold;">$2,99</span>
                </div>
                <div style="border:1px solid #bfdbfe; padding:10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; background:#eff6ff; border-left: 4px solid #3b82f6;">
                    <span>‚úÖ <b>TRIMESTRAL</b> <small style="color:green; display:block; font-size:0.75em;">Ahorras 15%</small></span>
                    <span style="background:#3b82f6; color:white; padding:2px 8px; border-radius:4px; font-weight:bold;">$8</span>
                </div>
                <div style="border:1px solid #ffd700; padding:10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; background:#fffbeb; border-left: 4px solid #fbbf24;">
                    <span>‚úÖ <b>ANUAL</b> <small style="color:#b45309; display:block; font-size:0.75em;">Mejor Opci√≥n</small></span>
                    <span style="background:#fbbf24; color:#78350f; padding:2px 8px; border-radius:4px; font-weight:bold;">$30</span>
                </div>
            </div>

            <hr style="border:0; border-top:1px dashed #ccc; margin:20px 0;">

            <h3 style="font-size:1rem; margin-bottom:15px; display:flex; align-items:center; gap:5px;">
                üí≥ DATOS DE PAGO
            </h3>

            <div style="margin-bottom:15px;">
                <strong style="color:#be123c;">üáªüá™ VENEZUELA (Bol√≠vares - Tasa BCV)</strong>
                <div style="background:#f1f5f9; padding:10px; border-radius:6px; margin-top:5px; font-size:0.9em;">
                    <b>Pago M√≥vil ‚ö° (Bco Venezuela 0102)</b><br>
                    C.I: 13.973.743<br>
                    Tel: 0424-7640846<br><br>
                    <b>Transferencia (Bco Venezuela)</b><br>
                    0102-0501-8500-0323-6800<br>
                    Titular: Charles Reyes
                </div>
            </div>

            <div style="margin-bottom:15px;">
                <strong style="color:#0f766e;">üíµ CUENTA EN D√ìLARES (BDV)</strong>
                <div style="background:#f0fdfa; padding:10px; border-radius:6px; margin-top:5px; font-size:0.9em;">
                    0102-0924-2100-0037-6297<br>
                    Titular: Charles Reyes<br>
                    C.I: V-13.973.743
                </div>
            </div>

            <div style="margin-bottom:15px;">
                <strong style="color:#4338ca;">üá∫üá∏ ZELLE</strong>
                <div style="background:#e0e7ff; padding:10px; border-radius:6px; margin-top:5px; font-size:0.9em;">
                    Tel: 303-594-3027<br>
                    Nombre: Oscar Molina
                </div>
            </div>

             <div style="margin-bottom:15px;">
                <strong style="color:#b91c1c;">üá®üá¥ COLOMBIA (Pesos)</strong>
                <div style="background:#fef2f2; padding:10px; border-radius:6px; margin-top:5px; font-size:0.9em;">
                    <b>Davivienda (Ahorros)</b><br>
                    Nro: 066800183452<br>
                    Titular: Mariana Jimenez<br>
                    Ref. Mensual: 11.900 COP
                </div>
            </div>

            <div style="background:#fdf4ff; border:1px dashed #d946ef; padding:10px; border-radius:8px; text-align:center; font-size:0.9em; margin-top:15px;">
                üéÅ <b>BONO REFERIDOS:</b><br>
                Si un colega se suscribe con tu c√≥digo,<br>¬°ambos ganan 30 d√≠as GRATIS!
            </div>

        </div>

        <div style="padding:15px; background:#fff; border-top:1px solid #eee; text-align:center;">
            <p style="font-size:0.8em; color:#666; margin-bottom:10px;">Env√≠a el CAPTURE del pago y tu correo aqu√≠:</p>
            <button onclick="contactarSoporte()" style="background:#25D366; color:white; border:none; padding:12px 25px; border-radius:50px; font-weight:bold; font-size:1rem; cursor:pointer; width:100%; box-shadow: 0 4px 6px rgba(37, 211, 102, 0.3); display:flex; align-items:center; justify-content:center; gap:8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592z"/></svg>
                ENVIAR CAPTURE AL WHATSAPP
            </button>
        </div>
    </div>
</div>


<div id="plantilla-pdf" style="display: none; padding: 20px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #333;">
    <div style="text-align: center; border-bottom: 2px solid #1a73e8; padding-bottom: 10px; margin-bottom: 20px;">
        <h2 style="margin: 0; color: #1a73e8;">INFORME T√âCNICO DE C√ìMPUTO PENAL</h2>
        <p style="margin: 5px 0; font-weight: bold;">Consultora Iuris - Dr. Charles Reyes</p>
    </div>

    <h3 style="background: #f0f2f5; padding: 8px;">I. DATOS DEL PRIVADO DE LIBERTAD</h3>
    <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
        <tr>
            <td style="padding: 5px; border: 1px solid #ddd; width: 30%;"><strong>Nombre:</strong></td>
            <td id="pdf-nombre" style="padding: 5px; border: 1px solid #ddd;"></td>
        </tr>
        <tr>
            <td style="padding: 5px; border: 1px solid #ddd;"><strong>C√©dula:</strong></td>
            <td id="pdf-cedula" style="padding: 5px; border: 1px solid #ddd;"></td>
        </tr>
        <tr>
            <td style="padding: 5px; border: 1px solid #ddd;"><strong>Exp. Judicial:</strong></td>
            <td id="pdf-exp" style="padding: 5px; border: 1px solid #ddd;"></td>
        </tr>
        <tr>
            <td style="padding: 5px; border: 1px solid #ddd;"><strong>Delito:</strong></td>
            <td id="pdf-delito" style="padding: 5px; border: 1px solid #ddd;"></td>
        </tr>
        <tr id="pdf-fila-drogas" style="display: none;">
            <td style="padding: 5px; border: 1px solid #ddd;"><strong>Drogas:</strong></td>
            <td id="pdf-drogas" style="padding: 5px; border: 1px solid #ddd;"></td>
        </tr>
    </table>

    <h3 style="background: #f0f2f5; padding: 8px;">II. RESUMEN DEL C√ìMPUTO</h3>
    <div id="pdf-resumen-calculo" style="margin-bottom: 20px; line-height: 1.6;">
        </div>

    <h3 style="background: #f0f2f5; padding: 8px;">III. PROYECCI√ìN DE BENEFICIOS PENALES</h3>
    <div id="pdf-beneficios">
        </div>

    <div style="margin-top: 50px; text-align: center;">
        <div style="width: 200px; border-top: 1px solid #000; margin: 0 auto;"></div>
        <p style="font-size: 0.8em;">Firma Autorizada<br>Especialista en Derecho Penal</p>
    </div>
</div>

<script>
  let idDelitoEnEdicion = null; // null = Nuevo, "ID" = Editando

// FUNCI√ìN DE AYUDA PARA FORMATO DE FECHA LATINO
function formatFechaLatina(fechaStr) {
    if(!fechaStr) return "";
    const [y, m, d] = fechaStr.split('-');
    return `${d}/${m}/${y}`;
}

// CONFIGURACI√ìN DE FIREBASE
const firebaseConfig = {
apiKey: "AIzaSyBvqlV6yj-V1GMkTiOL2pDBg0VHFanJRa4",
authDomain: "calculadora-penal-dffb3.firebaseapp.com",
projectId: "calculadora-penal-dffb3",
storageBucket: "calculadora-penal-dffb3.firebasestorage.app",
messagingSenderId: "293337226624",
appId: "1:293337226624:web:7b5acb2356faa8842f3555",
measurementId: "G-PN6ZDB6DZ9"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
const analytics = firebase.analytics(); 
// --- INICIO DE NUEVA L√ìGICA DE SINCRONIZACI√ìN DE INTERRUPTORES ---
function actualizarEstadoSync(estado) {
    localStorage.setItem('preferenciaSync', estado);
    const checkGestion = document.getElementById('syncToggleGestion');
    const checkPrincipal = document.getElementById('syncToggle');
    if (checkGestion) checkGestion.checked = estado;
    if (checkPrincipal) checkPrincipal.checked = estado;
    console.log("Sincronizaci√≥n de nube: " + (estado ? "ACTIVADA" : "DESACTIVADA"));
}

function cargarPreferenciaSync() {
    const preference = localStorage.getItem('preferenciaSync');
    const estadoInicial = (preference === null) ? true : (preference === 'true');
    actualizarEstadoSync(estadoInicial);
}
// --- FIN DE NUEVA L√ìGICA DE SINCRONIZACI√ìN DE INTERRUPTORES ---

// HELPER DE CIFRADO AUTOM√ÅTICO E2EE
const encryptionHelper = {
getSecretKey: (uid) => CryptoJS.SHA256(uid).toString(),
encrypt: (data, uid) => {
if (!data || data.toString().trim() === "") return "";
return CryptoJS.AES.encrypt(data.toString(), encryptionHelper.getSecretKey(uid)).toString();
},
decrypt: (ciphertext, uid) => {
if (!ciphertext || ciphertext.toString().trim() === "") return "";
try {
const bytes = CryptoJS.AES.decrypt(ciphertext.toString(), encryptionHelper.getSecretKey(uid));
return bytes.toString(CryptoJS.enc.Utf8);
} catch (e) { return "Error de lectura"; }
}
};

// --- NUEVA L√ìGICA DE GESTI√ìN DE EXPEDIENTES ---
let eventosTemporales = [];

// --- FUNCI√ìN DE LIMPIEZA UNIFICADA (Resetea Gesti√≥n y C√≥mputo) ---
function nuevoExpediente() {
    // 1. Limpiar Identificadores
    document.getElementById('casoActivoId').value = ""; 
    document.getElementById('idCasoGestion').value = "";

    // 2. Limpiar todos los inputs, selects y textareas de ambas secciones
    const contenedores = ['#gestion', '#principal'];
    contenedores.forEach(selector => {
        const elementoRaiz = document.querySelector(selector);
        if (elementoRaiz) {
            elementoRaiz.querySelectorAll('input, select, textarea').forEach(i => {
                if (i.tagName === 'SELECT') {
                    i.selectedIndex = 0;
                } else {
                    i.value = "";
                }
            });
        }
    });

    // 3. Limpiar elementos din√°micos espec√≠ficos de C√≥mputo
    document.getElementById('listaRedenciones').innerHTML = "";
    document.getElementById('contenedorPeriodos').innerHTML = "";
    document.getElementById('resultado').style.display = 'none';
    
    // Resetear fecha de corte a hoy por defecto
    const hoy = new Date().toISOString().split('T')[0];
    if (document.getElementById('fFechaCorte')) {
        document.getElementById('fFechaCorte').value = hoy;
    }

    // 4. Limpiar elementos din√°micos espec√≠ficos de Gesti√≥n
    eventosTemporales = [];
    renderizarEventos();
    document.getElementById('gDivDrogas').style.display = 'none';

    // 5. Resetear estados visuales (como la acumulaci√≥n de penas)
    toggleAcumulacion(); 

    console.log("Sistema reseteado: Ambas pesta√±as han sido limpiadas.");
}

// Para mantener compatibilidad con los botones que ya tienes creados:
function nuevoExpedienteGestion() {
    nuevoExpediente();
}

// FUNCI√ìN DE AGREGAR EVENTO ADAPTADA A LOS NUEVOS CAMPOS (Fecha/Hora y Recordatorio)
function agregarEvento() {
    const fecha = document.getElementById('evFecha').value;
    const recordatorio = document.getElementById('evRecordatorio').value;
    const minuta = document.getElementById('evMinuta').value;
    
    if(!fecha || !minuta) return alert("Complete al menos la fecha del evento y la descripci√≥n.");
    
    // Formateamos para que se vea limpio (quitando la T de datetime-local)
    const recordatorioFormateado = recordatorio ? recordatorio.replace('T', ' ') : "Sin recordatorio";
    
    eventosTemporales.push({ 
        fecha: fecha.replace('T', ' '), 
        recordatorio: recordatorioFormateado, 
        minuta 
    });
    
    // Ordenar por fecha (el m√°s reciente o pr√≥ximo primero)
    eventosTemporales.sort((a, b) => new Date(b.fecha) - new Date(a.fecha));
    renderizarEventos();
    
    // Limpiar campos despu√©s de agregar
    document.getElementById('evMinuta').value = "";
    document.getElementById('evFecha').value = "";
    document.getElementById('evRecordatorio').value = "";
}

function renderizarEventos() {
    const container = document.getElementById('scrollEventos');
    container.innerHTML = "";
    if(eventosTemporales.length === 0) {
        container.innerHTML = "No hay eventos registrados.";
        return;
    }

    eventosTemporales.forEach((ev, index) => {
        const item = document.createElement('div');
        item.className = "beneficio-item";
        item.style.padding = "10px";
        
        // Capturamos los datos actuales para el recordatorio
        const nombreCliente = document.getElementById('gNombre').value || "Cliente";
        const expediente = document.getElementById('gExpJud').value || "Sin Exp.";

        const fEvento = new Date(ev.fecha);
        const fFormat = fEvento.toLocaleDateString('es-ES') + ' ' + fEvento.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});

        item.innerHTML = `
        <div style="display:flex; justify-content: space-between; align-items:center;">
            <div style="flex-grow:1;">
                <b>üìÖ Evento:</b> ${fFormat}<br>
                <b>üîî Aviso:</b> ${ev.recordatorio}<br>
                <b>üìù:</b> ${ev.minuta}
            </div>
            <div style="display:flex; flex-direction:column; gap:5px; margin-left:10px;">
                <button onclick="enviarAGoogleCalendar('${nombreCliente}', '${ev.minuta}', '${ev.recordatorio}', '${expediente}')" 
                        style="background:#1a73e8; color:white; border:none; padding:8px; border-radius:5px; cursor:pointer; font-size:0.75em; font-weight:bold;">
                    üóìÔ∏è SINCRONIZAR
                </button>
                <button onclick="eventosTemporales.splice(${index},1); renderizarEventos();" 
                        style="background:#fee2e2; border:none; cursor:pointer; padding:5px; border-radius:5px; color:#dc2626; font-size:0.75em;">Eliminar</button>
            </div>


        </div>`;
        container.appendChild(item);
    });
}
function listarCasosGestion() {
    const busq = document.getElementById('busquedaGestion').value.toLowerCase();
    const div = document.getElementById('listaCasosGestion');
    if (!div) return; 
    
    div.innerHTML = "";

    casos.filter(c => 
        (c.nombre || "").toLowerCase().includes(busq) || 
        (c.cedula || "").includes(busq)
    ).forEach(c => {
        const idActual = c.id || c.tempId;
        const card = document.createElement('div');
        card.className = "case-card";
        
        card.style.display = "flex";
        card.style.justifyContent = "space-between";
        card.style.alignItems = "center";
        card.style.padding = "10px";

        card.innerHTML = `
            <div style="flex-grow:1;">
                <b>${c.nombre}</b><br>
                <small style="color:#666;">V-${c.cedula}</small>
            </div>
            <div style="display: flex; gap: 8px; align-items: center;">
                <button onclick="cargarCaso('${idActual}')" 
                        style="background:#1a73e8; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer; font-size:0.85em;">
                    Abrir
                </button>
                <button class="btn-delete" onclick="eliminarCaso('${idActual}')">
                    üóëÔ∏è
                </button>
            </div>
        `;
        div.appendChild(card);
    });
}

function cargarCasoEnGestion(id) {
    cargarCaso(id);
}

// LOGICA DE ACCESO
function loginFirebase() {
const email = document.getElementById('f_email').value;
const pass = document.getElementById('f_pass').value;
const errorDom = document.getElementById('f_error');

if(!email || !pass) return errorDom.innerText = "Complete todos los campos.";

auth.signInWithEmailAndPassword(email, pass).catch(e => {
if(e.code === 'auth/user-not-found') {
errorDom.innerText = "El usuario no existe. Use 'Crear Cuenta'.";
} else if(e.code === 'auth/wrong-password') {
errorDom.innerText = "Contrase√±a incorrecta.";
} else {
errorDom.innerText = "Error: Acceso denegado.";
}
});
}

function logoutFirebase() {
if(confirm("¬øSeguro que desea cerrar sesi√≥n?")) {
auth.signOut().then(() => {
localStorage.removeItem('terminosAceptados'); 
window.location.reload();
});
}
}

function olvideClave() {
const email = document.getElementById('f_email').value;
if(!email) return alert("Por favor, escriba su correo electr√≥nico arriba.");
auth.sendPasswordResetEmail(email)
.then(() => alert("Se ha enviado un enlace de recuperaci√≥n a su correo."))
.catch(e => alert("Error: Aseg√∫rese de que el correo sea v√°lido."));
}

// Funci√≥n visual para alternar pantallas
function toggleModoRegistro(mostrarRegistro) {
    const loginBlock = document.getElementById('bloque-login');
    const regBlock = document.getElementById('bloque-registro');
    const titulo = document.getElementById('auth-title');
    document.getElementById('f_error').innerText = ""; // Limpiar errores

    if (mostrarRegistro) {
        loginBlock.style.display = 'none';
        regBlock.style.display = 'block';
        titulo.innerText = "Crear Nueva Cuenta";
    } else {
        loginBlock.style.display = 'block';
        regBlock.style.display = 'none';
        titulo.innerText = "Inicie Sesi√≥n para continuar";
    }
}

// Funci√≥n de Registro Blindada
function registroFirebase() {
    const email = document.getElementById('f_email').value.trim();
    const pass = document.getElementById('f_pass').value;
    const referidoInput = document.getElementById('f_referido').value.trim();
    const errorDom = document.getElementById('f_error');

    if(!email || !pass) return errorDom.innerText = "Ingrese correo y contrase√±a.";
    if(pass.length < 6) return errorDom.innerText = "M√≠nimo 6 caracteres.";

    // --- AQU√ç EST√Å LA VALIDACI√ìN CLAVE ---
    let referidoFinal = "Ninguno";

    if (referidoInput !== "") {
        // 1. Verificar que parezca un correo real
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(referidoInput)) {
            return errorDom.innerText = "‚ö†Ô∏è El referido debe ser un CORREO v√°lido (ej: abogado@gmail.com).";
        }
        
        // 2. Verificar que no sea √©l mismo
        if (referidoInput.toLowerCase() === email.toLowerCase()) {
            return errorDom.innerText = "‚ö†Ô∏è No puede colocarse a s√≠ mismo como referido.";
        }

        referidoFinal = referidoInput.toLowerCase();
    }

    // Crear usuario
    auth.createUserWithEmailAndPassword(email, pass)
    .then(async (userCredential) => {
        const uid = userCredential.user.uid;
        await db.collection('usuarios').doc(uid).set({
            email: email,
            vencimiento: new Date(Date.now() + (1 * 24 * 60 * 60 * 1000)).toISOString(),
            rol: 'prueba',
            referidoPor: referidoFinal, 
            premioEntregado: false,
            fechaRegistro: new Date().toISOString()
        });
        alert("¬°Bienvenido! Su cuenta ha sido creada.");
    })
    .catch(e => {
        if(e.code === 'auth/email-already-in-use') errorDom.innerText = "El correo ya existe. Inicie sesi√≥n.";
        else if(e.code === 'auth/invalid-email') errorDom.innerText = "Correo inv√°lido.";
        else errorDom.innerText = "Error: " + e.message;
    });
}


function aceptarTerminos() {
localStorage.setItem('terminosAceptados', 'true');
document.getElementById('modalTerminos').style.display = 'none';
}

auth.onAuthStateChanged(user => {
if(user) {
document.getElementById('auth-overlay').style.display = 'none';
document.getElementById('status-bar').style.display = 'flex';
document.getElementById('user-display').innerText = user.email.split('@')[0].toUpperCase();
if (!localStorage.getItem('terminosAceptados')) {
document.getElementById('modalTerminos').style.display = 'block';
}
obtenerSuscripcion(user.uid);
cargarPreferenciaSync();
sincronizarConNube();
} else {
document.getElementById('auth-overlay').style.display = 'flex';
document.getElementById('status-bar').style.none;
}
});

// Variable global para controlar el acceso
let suscripcionVencida = false;

async function obtenerSuscripcion(uid) {
    try {
        const docRef = db.collection('usuarios').doc(uid);
        const doc = await docRef.get();
        let venc;
        let esAdmin = false;

        if (doc.exists) {
            const data = doc.data();
            
            // 1. SI ES ADMIN, TODO BIEN
            if (data.rol === 'admin') {
                esAdmin = true;
                window.usuarioEsAdmin = true;
            }

            // 2. RECUPERAMOS FECHA (SI EXISTE)
            if (data.vencimiento) {
                venc = new Date(data.vencimiento);
            }
        }

        // =======================================================
        // EL MURO DE PAGO (CERO D√çAS DE PRUEBA)
        // =======================================================
        // Si no es admin y (es nuevo O no tiene fecha)...
        if (!esAdmin && !venc) {
            
            // FECHA DR√ÅSTICA: 1 de Enero de 1970 (Super Vencido)
            venc = new Date(0); 
            
            console.log("Usuario nuevo detectado: Bloqueando acceso...");

            // Lo guardamos en la base de datos como vencido
            const user = auth.currentUser;
            await docRef.set({
                email: user.email,
                vencimiento: venc.toISOString(),
                rol: 'usuario', 
                fechaRegistro: new Date().toISOString()
            }, { merge: true });
        }
        // =======================================================


        // 3. LOGICA VISUAL DEL BOT√ìN ADMIN
        const btnAdmin = document.getElementById('tab-admin');
        if (btnAdmin) {
            if (esAdmin) {
                btnAdmin.style.display = 'inline-block';
                btnAdmin.innerText = "üõ°Ô∏è ADMIN";
            } else {
                btnAdmin.style.display = 'none';
            }
        }

        // 4. VEREDICTO FINAL (VIGENTE O VENCIDO)
        if (esAdmin) {
            // ADMIN PASA
            document.getElementById('days-display').innerText = "Modo Dios (Admin)";
            document.getElementById('days-display').style.color = "#00c853";
            suscripcionVencida = false;
            if(document.getElementById('modalVencimiento')) 
                document.getElementById('modalVencimiento').style.display = 'none';
        } else {
            // MORTALES
            const hoy = new Date();
            // Llevamos la fecha de vencimiento al final del d√≠a
            venc.setHours(23, 59, 59, 999);
            
            const diff = Math.ceil((venc - hoy) / (1000 * 60 * 60 * 24));

            // Si diff es negativo, est√° vencido.
            if (diff < 0) {
                document.getElementById('days-display').innerText = "SUSCRIPCI√ìN VENCIDA";
                document.getElementById('days-display').style.color = "#ff3d00";
                suscripcionVencida = true; // BLOQUEADO üö´
                
                // Opcional: Si quieres forzar que le salga el modal apenas entre:
                // if(document.getElementById('modalVencimiento')) 
                //    document.getElementById('modalVencimiento').style.display = 'flex';
                
            } else {
                // Si entra aqu√≠ es porque PAG√ì (o es un usuario viejo con fecha vieja)
                document.getElementById('days-display').innerText = diff + " d√≠as restantes";
                document.getElementById('days-display').style.color = "#2563eb";
                suscripcionVencida = false; // PASA ‚úÖ
                if(document.getElementById('modalVencimiento')) 
                    document.getElementById('modalVencimiento').style.display = 'none';
            }
        }

    } catch (e) { 
        console.error("Error suscripci√≥n:", e);
        suscripcionVencida = true; // Ante la duda, bloqueamos
    }
}




// Funci√≥n auxiliar para validar antes de ejecutar tareas premium
function validarAccesoPremium() {
if (suscripcionVencida) {
document.getElementById('modalVencimiento').style.display = 'block';
return false;
}
return true;
}

function abrirWhatsAppSuscripcion() {
const email = auth.currentUser ? auth.currentUser.email : "Usuario no identificado";
const mensaje = encodeURIComponent(`Hola Dr. Charles Reyes, mi correo es ${email} y deseo conocer los planes de suscripci√≥n para Iuris Penal.`);
window.open(`https://wa.me/584247640846?text=${mensaje}`, '_blank');
}

let casos = JSON.parse(localStorage.getItem('casosIuris')) || [];
const DIAS_A√ëO = 360;
const DIAS_MES = 30;

// ==========================================
// FUNCI√ìN DE PESTA√ëAS (CON BLOQUEO DE FECHA)
// ==========================================
function openTab(evt, tabName) {
    // 1. VALIDACI√ìN DE SEGURIDAD PREMIUM (Mantiene su l√≥gica original)
    if (tabName === 'calculadora') {
        if (!validarAccesoPremium()) return; 
    }

    // 2. L√ìGICA VISUAL (Ocultar y Mostrar Pesta√±as)
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tab-content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tab-button");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    if (evt) evt.currentTarget.className += " active";

    // --- 3. NUEVO: C√ìDIGO DE RASTREO PARA GOOGLE ANALYTICS üìä ---
    
    // Traducimos el "ID t√©cnico" a un "Nombre Bonito" para el reporte
    let nombrePantalla = "Desconocido";
    
    if (tabName === 'gestion') nombrePantalla = "Gesti√≥n de Expedientes";
    else if (tabName === 'principal') nombrePantalla = "C√≥mputo de Pena";
    else if (tabName === 'calculadora') nombrePantalla = "Dosimetr√≠a Penal";
    else if (tabName === 'prescripciones') nombrePantalla = "Prescripciones";
    else if (tabName === 'conversiones') nombrePantalla = "Conversiones";
    else if (tabName === 'herramientas') nombrePantalla = "Herramientas";
    else if (tabName === 'biblioteca') nombrePantalla = "Biblioteca Jur√≠dica";
    else if (tabName === 'adminPanel') nombrePantalla = "Panel Admin";
    else nombrePantalla = tabName; // Por si acaso hay otra nueva

    // Enviamos el aviso a Google
    if (typeof firebase !== 'undefined' && firebase.analytics) {
        firebase.analytics().logEvent('screen_view', {
            firebase_screen: nombrePantalla, 
            firebase_screen_class: nombrePantalla
        });
        
        console.log("Analytics: Visto pantalla -> " + nombrePantalla);
    }
}






function exportarDB() {
if (casos.length === 0) return alert("No hay expedientes.");
const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(casos));
const dl = document.createElement('a'); dl.setAttribute("href", dataStr);
dl.setAttribute("download", "C√≥mputos_Iuris_" + new Date().toLocaleDateString() + ".json");
dl.click();
}

function importarDB(event) {
const reader = new FileReader();
reader.onload = (e) => {
try {
const importados = JSON.parse(e.target.result);
if (confirm(`¬øImportar ${importados.length} expedientes?`)) {
casos = importados; localStorage.setItem('casosIuris', JSON.stringify(casos));
listarCasos(); listarCasosGestion(); alert("√âxito.");
}
} catch (err) { alert("Archivo inv√°lido."); }
};
reader.readAsText(event.target.files[0]);
}

// --- FUNCI√ìN DE GUARDADO MEJORADA CON CIFRADO DE BIT√ÅCORA ---
async function guardarCasoCompleto() {
    if (!validarAccesoPremium()) return; // Mantiene tu validaci√≥n de suscripci√≥n
    const userId = auth.currentUser.uid;
    
    // Mantiene tu l√≥gica de identificaci√≥n de caso activo
    let idActivo = document.getElementById('casoActivoId').value || document.getElementById('idCasoGestion').value;
    if (!idActivo) idActivo = "local_" + Date.now();

    const nombre = document.getElementById('gNombre').value || document.getElementById('pNombre').value;
    const cedula = document.getElementById('gCedula').value || document.getElementById('pCedula').value;
    
    if(!nombre || !cedula) return alert("Nombre y C√©dula son obligatorios.");

    // Mantiene tu l√≥gica de recolecci√≥n de datos para uso LOCAL (Sin cifrar en el tel√©fono)
    const datosCasoBase = {
        id: idActivo,
        nombre: nombre,
        cedula: cedula,
        fase: document.getElementById('gFase').value,
        expJud: document.getElementById('gExpJud').value,
        expFis: document.getElementById('gExpFis').value,
        expCar: document.getElementById('gExpCar').value,
        numFis: document.getElementById('gNumFis').value,
        tribunal: document.getElementById('gTribunal').value,
        lugar: document.getElementById('gLugar').value,
        delito: document.getElementById('gDelito').value,
        fIni: document.getElementById('gFechaIni').value,
        familiar: document.getElementById('gFamiliar').value,
        tel: document.getElementById('gTel').value,
        esDrogas: document.getElementById('gEsDrogas').value,
        pTipoDroga: document.getElementById('gTipoDroga').value,
        pCantDroga: document.getElementById('gCantDroga').value,
        cAno: document.getElementById('cAno').value,
        cMes: document.getElementById('cMes').value,
        cDia: document.getElementById('cDia').value,
        esAcum: document.getElementById('esAcum').value,
        fDetencionActual: document.getElementById('fDetencionActual').value,
        eventos: eventosTemporales, 
        fechaMod: Date.now() // Importante para la sincronizaci√≥n incremental
    };

    // Mantiene tu l√≥gica de actualizaci√≥n del array global y localStorage
    const index = casos.findIndex(c => c.id === idActivo);
    if (index !== -1) { casos[index] = datosCasoBase; } else { casos.push(datosCasoBase); }
    localStorage.setItem('casosIuris', JSON.stringify(casos));

    // --- NUEVO M√ìDULO DE SINCRONIZACI√ìN CON CIFRADO TOTAL ---
    const syncActiva = document.getElementById('syncToggle').checked;
    if (syncActiva) {
        try {
            // CIFRAMOS LOS EVENTOS (BIT√ÅCORA)
            const eventosCifrados = eventosTemporales.map(ev => ({
                ...ev,
                minuta: encryptionHelper.encrypt(ev.minuta, userId)
            }));

            // CIFRAMOS TODOS LOS CAMPOS SENSIBLES PARA LA NUBE
            const datosCifrados = {
                ...datosCasoBase,
                nombre: encryptionHelper.encrypt(nombre, userId),
                cedula: encryptionHelper.encrypt(cedula, userId),
                delito: encryptionHelper.encrypt(datosCasoBase.delito, userId),
                fase: encryptionHelper.encrypt(datosCasoBase.fase, userId),
                expJud: encryptionHelper.encrypt(datosCasoBase.expJud, userId),
                expFis: encryptionHelper.encrypt(datosCasoBase.expFis, userId),
                expCar: encryptionHelper.encrypt(datosCasoBase.expCar, userId),
                numFis: encryptionHelper.encrypt(datosCasoBase.numFis, userId),
                tribunal: encryptionHelper.encrypt(datosCasoBase.tribunal, userId),
                lugar: encryptionHelper.encrypt(datosCasoBase.lugar, userId),
                familiar: encryptionHelper.encrypt(datosCasoBase.familiar, userId),
                tel: encryptionHelper.encrypt(datosCasoBase.tel, userId),
                pTipoDroga: encryptionHelper.encrypt(datosCasoBase.pTipoDroga, userId),
                pCantDroga: encryptionHelper.encrypt(datosCasoBase.pCantDroga, userId),
                eventos: eventosCifrados 
            };

            if(idActivo.startsWith("local_")) {
                const docRef = await db.collection('usuarios').doc(userId).collection('expedientes').add(datosCifrados);
                datosCasoBase.id = docRef.id;
                actualizarIdEnPantalla(docRef.id);
                localStorage.setItem('casosIuris', JSON.stringify(casos));
            } else {
                await db.collection('usuarios').doc(userId).collection('expedientes').doc(idActivo).set(datosCifrados);
            }
            alert("Sincronizado con cifrado total ‚úÖ");
        } catch(e) {
            console.error(e);
            alert("Error de conexi√≥n. Guardado local.");
        }
    } else {
        alert("Guardado local exitoso üíæ");
    }
    
    // Mantiene el refresco de tus listas
    listarCasos();
    listarCasosGestion();
}



function actualizarIdEnPantalla(nuevoId) {
    document.getElementById('casoActivoId').value = nuevoId;
    document.getElementById('idCasoGestion').value = nuevoId;
}

// --- SINCRONIZACI√ìN CON DESCIFRADO DE BIT√ÅCORA ---
async function sincronizarConNube() {
    const userId = auth.currentUser.uid;
    const estaSincronizado = document.getElementById('syncToggle').checked;

    if (!estaSincronizado) {
        casos = JSON.parse(localStorage.getItem('casosIuris')) || [];
        listarCasos(); listarCasosGestion();
        return;
    }

    try {
        const ultimaSync = parseInt(localStorage.getItem('ultimaSyncExito')) || 0;
        const snap = await db.collection('usuarios').doc(userId).collection('expedientes')
            .where('fechaMod', '>', ultimaSync).get();

        let casosLocales = JSON.parse(localStorage.getItem('casosIuris')) || [];
        const mapCasos = new Map();
        casosLocales.forEach(c => mapCasos.set(c.id, c));

        if (!snap.empty) {
            snap.forEach(doc => {
                const dataNube = doc.data();
                
                // DESCIFRAMOS LA BIT√ÅCORA
                const eventosDescifrados = (dataNube.eventos || []).map(ev => ({
                    ...ev,
                    minuta: encryptionHelper.decrypt(ev.minuta, userId)
                }));

                // DESCIFRAMOS TODOS LOS CAMPOS AL DESCARGAR
                const casoNubeDecodificado = {
                    ...dataNube,
                    id: doc.id,
                    nombre: encryptionHelper.decrypt(dataNube.nombre, userId),
                    cedula: encryptionHelper.decrypt(dataNube.cedula, userId),
                    delito: encryptionHelper.decrypt(dataNube.delito, userId),
                    fase: encryptionHelper.decrypt(dataNube.fase, userId),
                    expJud: encryptionHelper.decrypt(dataNube.expJud, userId),
                    expFis: encryptionHelper.decrypt(dataNube.expFis, userId),
                    expCar: encryptionHelper.decrypt(dataNube.expCar, userId),
                    numFis: encryptionHelper.decrypt(dataNube.numFis, userId),
                    tribunal: encryptionHelper.decrypt(dataNube.tribunal, userId),
                    lugar: encryptionHelper.decrypt(dataNube.lugar, userId),
                    familiar: encryptionHelper.decrypt(dataNube.familiar, userId),
                    tel: encryptionHelper.decrypt(dataNube.tel, userId),
                    pTipoDroga: encryptionHelper.decrypt(dataNube.pTipoDroga, userId),
                    pCantDroga: encryptionHelper.decrypt(dataNube.pCantDroga, userId),
                    eventos: eventosDescifrados
                };
                mapCasos.set(doc.id, casoNubeDecodificado);
            });

            casos = Array.from(mapCasos.values());
            localStorage.setItem('casosIuris', JSON.stringify(casos));
            localStorage.setItem('ultimaSyncExito', Date.now());
        }

        listarCasos();
        listarCasosGestion();
    } catch(e) {
        console.error("Error en sync:", e);
    }
}


function listarCasos() {
    const b = document.getElementById('busqueda').value.toLowerCase();
    const div = document.getElementById('listaCasos'); 
    if (!div) return;
    
    div.innerHTML = "";

    const casosFiltrados = casos.filter(c => {
        const coincideBusqueda = (c.nombre || "").toLowerCase().includes(b) || (c.cedula || "").includes(b);
        const esEjecucion = (c.fase === "Ejecuci√≥n");
        return coincideBusqueda && esEjecucion;
    });

    casosFiltrados.sort((a, b) => b.fechaMod - a.fechaMod).forEach(c => {
        const card = document.createElement('div'); 
        card.className = "case-card";
        card.innerHTML = `
            <span><b>${c.nombre}</b><br><small>${c.cedula}</small></span>
            <div>
                <button onclick="cargarCaso('${c.id}')" style="background:#1a73e8; color:white; border:none; padding:5px 10px; border-radius:5px;">Abrir</button>
                <button onclick="eliminarCaso('${c.id}')" class="btn-delete">üóëÔ∏è</button>
            </div>`;
        div.appendChild(card);
    });

    if (casosFiltrados.length === 0 && b === "") {
        div.innerHTML = "<p style='text-align:center; color:#666; font-size:0.8em; padding:10px;'>No hay privados en Fase de Ejecuci√≥n registrados.</p>";
    }
}

// --- FUNCI√ìN DE CARGA MEJORADA ---
function cargarCaso(id) {
    const c = casos.find(i => i.id == id); 
    if(!c) return;

    // Sincronizar IDs activos en ambos campos ocultos
    document.getElementById('casoActivoId').value = c.id; 
    document.getElementById('idCasoGestion').value = c.id;

    // --- CARGA EN PESTA√ëA GESTI√ìN ---
    document.getElementById('gNombre').value = c.nombre || "";
    document.getElementById('gCedula').value = c.cedula || "";
    document.getElementById('gExpJud').value = c.expJud || "";
    document.getElementById('gExpFis').value = c.expFis || "";
    document.getElementById('gExpCar').value = c.expCar || "";
    document.getElementById('gNumFis').value = c.numFis || "";
    document.getElementById('gTribunal').value = c.tribunal || "";
    document.getElementById('gLugar').value = c.lugar || "";
    document.getElementById('gFase').value = c.fase || "Preparatoria";
    document.getElementById('gDelito').value = c.delito || "";
    document.getElementById('gFechaIni').value = c.fIni || ""; 
    document.getElementById('gFamiliar').value = c.familiar || "";
    document.getElementById('gTel').value = c.tel || "";
    
    // Cargar Drogas
    document.getElementById('gEsDrogas').value = c.esDrogas || 'no';
    document.getElementById('gTipoDroga').value = c.pTipoDroga || '';
    document.getElementById('gCantDroga').value = c.pCantDroga || '';
    document.getElementById('gDivDrogas').style.display = (c.esDrogas === 'si' ? 'block' : 'none');

    // Cargar Eventos/Bit√°cora
    eventosTemporales = c.eventos || [];
    renderizarEventos();

    // --- CARGA EN PESTA√ëA C√ìMPUTO ---
    document.getElementById('pNombre').value = c.nombre || ""; 
    document.getElementById('pCedula').value = c.cedula || "";
    document.getElementById('pExpJud').value = c.expJud || ""; 
    document.getElementById('pExpCar').value = c.expCar || "";
    document.getElementById('pDelito').value = c.delito || ""; 
    document.getElementById('pLugar').value = c.lugar || "";
    
    // C√≥mputo espec√≠fico
    document.getElementById('cAno').value = c.cAno || ""; 
    document.getElementById('cMes').value = c.cMes || ""; 
    document.getElementById('cDia').value = c.cDia || "";
    document.getElementById('fDetencionUnica').value = c.fIni || ""; // Sincroniza fecha
    document.getElementById('esAcum').value = c.esAcum || "no"; 
    document.getElementById('fDetencionActual').value = c.fDetencionActual || "";

    // Limpiar y cargar Redenciones
    document.getElementById('listaRedenciones').innerHTML = '';
    if(c.redenciones) c.redenciones.forEach(r => agregarFilaRedencion(r.a, r.m, r.d));

    // Limpiar y cargar Periodos Previos
    document.getElementById('contenedorPeriodos').innerHTML = "";
    if(c.periodosPrevios) {
        c.periodosPrevios.forEach(p => {
            const div = document.createElement('div');
            div.className = 'modulo';
            div.style.background = "#f0f7ff";
            div.innerHTML = `<label>Desde:</label><input type="date" class="pInicio" value="${p.inicio}"><label>Hasta:</label><input type="date" class="pFin" value="${p.fin}">`;
            document.getElementById('contenedorPeriodos').appendChild(div);
        });
    }
    
    // Actualizar visibilidad de secciones (Drogas, Acumulaci√≥n, etc.)
    toggleAcumulacion();
    
    // Ocultar resultados previos de la otra pesta√±a si existen
    document.getElementById('resultado').style.display = 'none';

    console.log("Expediente cargado y sincronizado en todas las pesta√±as.");
}

function agregarFilaRedencion(a, m, d) {
const div = document.createElement('div'); div.className = 'grid-red';
div.innerHTML = `<input type="number" class="rAno" value="${a}" placeholder="A"><input type="number" class="rMes" value="${m}" placeholder="M"><input type="number" class="rDia" value="${d}" placeholder="D">
<button class="btn-delete" onclick="this.parentElement.remove()">üóëÔ∏è</button>`;
document.getElementById('listaRedenciones').appendChild(div);
}

function obtenerDiasCalendarioReal(fechaInicio, fechaFin) {
    let f1 = new Date(fechaInicio + "T12:00:00");
    let f2 = new Date(fechaFin + "T12:00:00");
    if (isNaN(f1.getTime()) || isNaN(f2.getTime())) return 0;
    if (f1 > f2) return 0;
    let anio1 = f1.getFullYear();
    let mes1 = f1.getMonth();
    let dia1 = f1.getDate();
    let anio2 = f2.getFullYear();
    let mes2 = f2.getMonth();
    let dia2 = f2.getDate();
    if (dia1 > 30) dia1 = 30;
    if (dia2 > 30) dia2 = 30;
    let d = dia2 - dia1;
    let m = mes2 - mes1;
    let a = anio2 - anio1;
    if (d < 0) { m--; d += 30; }
    if (m < 0) { a--; m += 12; }
    return (a * 360) + (m * 30) + d;
}

function procesarRedencionAutomatica() {
const f1 = new Date(document.getElementById('redInicio').value);
const f2 = new Date(document.getElementById('redFin').value);
const ds = parseInt(document.getElementById('redDiasSemana').value) || 5;
const hd = parseInt(document.getElementById('redHorasDia').value) || 8;
if (isNaN(f1.getTime()) || isNaN(f2.getTime())) return alert("Fechas inv√°lidas");
const diasCronologicos = Math.ceil(Math.abs(f2 - f1) / 86400000);
const totalHoras = (diasCronologicos / 7) * ds * hd;
const diasTrabajados = Math.floor(totalHoras / 8);
const diasRedimidosTotal = Math.floor(diasTrabajados / 2);
if (diasRedimidosTotal >= 0) {
const a√±os = Math.floor(diasRedimidosTotal / 360);
const meses = Math.floor((diasRedimidosTotal % 360) / 30);
const dias = Math.floor((diasRedimidosTotal % 360) % 30);
agregarFilaRedencion(a√±os, meses, dias);
document.getElementById('resultadoMiniRed').innerHTML = `
<div class="info-red">
<b>D√≠as Cronol√≥gicos:</b> ${diasCronologicos}<br><hr>
<b>D√≠as Laborados:</b> ${diasTrabajados}<br><b>Lapso Laborado:</b> ${desglosar(diasTrabajados)}<br><hr>
<b>D√≠as Redimidos (TOTAL):</b> ${diasRedimidosTotal}<br>
<b style="color:#1a73e8;">Lapso a Redimir:</b> ${a√±os}a, ${meses}m, ${dias}d
</div>`;
}
}

function desglosar(t) { 
let a = Math.floor(t / 360); let m = Math.floor((t % 360) / 30); let d = Math.floor((t % 360) % 30);
let res = [];
if (a > 0) res.push(a + (a == 1 ? " a√±o" : " a√±os"));
if (m > 0) res.push(m + (m == 1 ? " mes" : " meses"));
if (d > 0) res.push(d + (d == 1 ? " d√≠a" : " d√≠as"));
return res.length > 0 ? res.join(", ") : "0 d√≠as";
}

function desglosarBreve(totalDias) { 
if (totalDias <= 0) return "0d";
let a = Math.floor(totalDias / 360); let restoDias = totalDias % 360;
let m = Math.floor(restoDias / 30); let d = Math.floor(restoDias % 30);
let resultado = "";
if (a > 0) resultado += a + "a ";
if (m > 0) resultado += m + "m ";
if (d > 0 || resultado === "") resultado += Math.round(d) + "d";
return resultado.trim();
}

function exportarAPDF() {
    const plantilla = document.getElementById('plantilla-pdf');
    const resumenHTML = document.getElementById('resResumen').innerHTML;
    const beneficiosHTML = document.getElementById('resBeneficios').innerHTML;

    if (!resumenHTML || resumenHTML.trim() === "") {
        alert("Primero debe realizar el c√°lculo de la pena para generar un informe.");
        return;
    }

    document.getElementById('pdf-nombre').innerText = document.getElementById('pNombre').value || "No especificado";
    document.getElementById('pdf-cedula').innerText = document.getElementById('pCedula').value || "No especificado";
    document.getElementById('pdf-exp').innerText = document.getElementById('pExpJud').value || "No especificado";
    document.getElementById('pdf-delito').innerText = document.getElementById('pDelito').value || "No especificado";

    const esDrogas = document.getElementById('gEsDrogas').value;
    if(esDrogas === 'si') {
        document.getElementById('pdf-fila-drogas').style.display = 'table-row';
        document.getElementById('pdf-drogas').innerText = 
            (document.getElementById('gTipoDroga').value || "N/A") + " (" + (document.getElementById('gCantDroga').value || "N/A") + ")";
    } else {
        document.getElementById('pdf-fila-drogas').style.display = 'none';
    }

    document.getElementById('pdf-resumen-calculo').innerHTML = resumenHTML;
    document.getElementById('pdf-beneficios').innerHTML = beneficiosHTML;

    const opciones = {
        margin: [15, 15, 15, 15],
        filename: `Informe_Penal_${document.getElementById('pNombre').value || 'Sin_Nombre'}.pdf`,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2, logging: false, useCORS: true },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    plantilla.style.display = 'block';
    
    html2pdf().set(opciones).from(plantilla).save().then(() => {
        plantilla.style.display = 'none';
    }).catch(err => {
        console.error("Error al generar PDF:", err);
        plantilla.style.display = 'none';
    });
}

function toggleAcumulacion() { const esA = document.getElementById('esAcum').value === 'si'; document.getElementById('seccionUnica').style.display = esA ? 'none' : 'block'; document.getElementById('seccionAcumulada').style.display = esA ? 'block' : 'none'; }
function toggleSubModulo() { const sm = document.getElementById('subModuloRedencion'); sm.style.display = sm.style.display === 'block' ? 'none' : 'block'; }
function agregarPeriodo() {
    const div = document.createElement('div');
    div.className = 'modulo';
    div.style.background = "#f0f7ff";
    div.style.position = "relative";
    div.style.marginBottom = "10px";
    div.innerHTML = `
        <div style="display: flex; justify-content:Âª∫ËÆæ; align-items: center; gap: 10px;">
            <div style="flex-grow: 1;">
                <label>Desde:</label>
                <input type="date" class="pInicio">
                <label>Hasta:</label>
                <input type="date" class="pFin">
            </div>
            <button class="btn-delete" 
                    onclick="this.parentElement.parentElement.remove()" 
                    style="height: fit-content; margin-top: 20px;">
                üóëÔ∏è
            </button>
        </div>
    `;
    
    document.getElementById('contenedorPeriodos').appendChild(div);
}

function abrirWhatsApp() { window.open(`https://wa.me/584247640846`, '_blank'); }

function calcularTodo() {
    const fechaCorteInput = document.getElementById('fFechaCorte').value;
    const hoyStr = fechaCorteInput || new Date().toISOString().split('T')[0];
    
    let df_total_dias = 0; 
    let desgloseHTML = '<div style="font-size: 0.85em; margin-top: 5px; border-top: 1px solid #ccc; padding-top: 5px;">';
    const esAcumulado = document.getElementById('esAcum').value === 'si';

    if (!esAcumulado) {
        const fDetStr = document.getElementById('fDetencionUnica').value;
        if (fDetStr) {
            const dias = obtenerDiasCalendarioReal(fDetStr, hoyStr);
            df_total_dias = dias;
            desgloseHTML += `<b>Detenci√≥n √∫nica:</b> ${formatFechaLatina(fDetStr)} al ${formatFechaLatina(hoyStr)} <br>¬ª Lapso: ${desglosar(dias)}<br>`;
        } else {
            alert("Por favor, ingrese la Fecha de Detenci√≥n.");
            return;
        }
    } else {
        const inis = document.getElementsByClassName('pInicio');
        const fins = document.getElementsByClassName('pFin');
        let contador = 1;

        for (let i = 0; i < inis.length; i++) {
            if (inis[i].value && fins[i].value) {
                const diasLapso = obtenerDiasCalendarioReal(inis[i].value, fins[i].value);
                df_total_dias += diasLapso;
                desgloseHTML += `<b>${contador}¬™ Detenci√≥n:</b> ${formatFechaLatina(inis[i].value)} al ${formatFechaLatina(fins[i].value)} <br>¬ª Lapso: ${desglosar(diasLapso)}<br>`;
                contador++;
            }
        }
        
        const fActStr = document.getElementById('fDetencionActual').value;
        if (fActStr) {
            const diasActual = obtenerDiasCalendarioReal(fActStr, hoyStr);
            df_total_dias += diasActual;
            desgloseHTML += `<b>Detenci√≥n Actual:</b> ${formatFechaLatina(fActStr)} al ${formatFechaLatina(hoyStr)} <br>¬ª Lapso: ${desglosar(diasActual)}<br>`;
        } else {
            alert("En modo acumulado, debe ingresar la 'Detenci√≥n Actual (Desde)'.");
            return;
        }
    }
    desgloseHTML += '</div>';

    let dr = 0;
    const rAnos = document.getElementsByClassName('rAno'),
          rMeses = document.getElementsByClassName('rMes'),
          rDias = document.getElementsByClassName('rDia');
    
    for (let i = 0; i < rAnos.length; i++) {
        dr += (parseInt(rAnos[i].value) || 0) * 360 + 
              (parseInt(rMeses[i].value) || 0) * 30 + 
              (parseInt(rDias[i].value) || 0);
    }

    const pt = (parseInt(document.getElementById('cAno').value) || 0) * 360 + 
               (parseInt(document.getElementById('cMes').value) || 0) * 30 + 
               (parseInt(document.getElementById('cDia').value) || 0);

    if (pt === 0) {
        alert("La pena impuesta no puede ser 0.");
        return;
    }

    const tc = df_total_dias + dr;

    document.getElementById('resultado').style.display = 'block';
    document.getElementById('resTitulo').innerText = "C√≥mputo: " + (document.getElementById('pNombre').value || "S/N");
    document.getElementById('resResumen').innerHTML = `
        <div class="res-box">
            <b>F√≠sico Total:</b> ${desglosar(df_total_dias)}
            ${desgloseHTML}
        </div>
        <div class="res-box"><b>Redimido:</b> ${desglosar(dr)}</div>
        <div class="res-box" style="background:#e6ffed;"><b>TOTAL CUMPLIDO (F√≠sico + Redimido):</b> ${desglosar(tc)}</div>
    `;

    document.getElementById('resBeneficios').innerHTML = `
        ${crearFichaDoble("100% (Fin de Condena)", pt, df_total_dias, dr)}
        ${crearFichaDoble("1/2 (Destacamento de Trabajo)", pt * 0.5, df_total_dias, dr)}
        ${crearFichaDoble("2/3 (R√©gimen Abierto)", pt * (2 / 3), df_total_dias, dr)}
        ${crearFichaDoble("3/4 (Libertad Condicional)", pt * 0.75, df_total_dias, dr)}
    `;
}

function crearFichaDoble(titulo, metaDiasEnBase360, fisicoActual, redimidoActual) {
const fechaCorteInput = document.getElementById('fFechaCorte').value;
let fechaReferencia = fechaCorteInput ? new Date(fechaCorteInput + "T12:00:00") : new Date();
fechaReferencia.setHours(12, 0, 0, 0, 0); 
const opcionesFecha = { day: '2-digit', month: '2-digit', year: 'numeric' };
const diffFisicoTotalDias = Math.round(metaDiasEnBase360 - fisicoActual);
const diffMixtoTotalDias = Math.round(metaDiasEnBase360 - (fisicoActual + redimidoActual));
function proyectarFechaCalendario(diasFaltantes) {
let fechaResultante = new Date(fechaReferencia.getTime());
const signo = diasFaltantes >= 0 ? 1 : -1;
const diasAbs = Math.abs(diasFaltantes);
let anios = Math.floor(diasAbs / 360) * signo;
let meses = Math.floor((diasAbs % 360) / 30) * signo;
let dias = Math.floor(diasAbs % 30) * signo;
fechaResultante.setFullYear(fechaResultante.getFullYear() + anios);
fechaResultante.setMonth(fechaResultante.getMonth() + meses);
fechaResultante.setDate(fechaResultante.getDate() + dias);
return fechaResultante;
}
const fechaFisico = proyectarFechaCalendario(diffFisicoTotalDias);
const fechaMixto = proyectarFechaCalendario(diffMixtoTotalDias);
const diasFisicoTexto = diffFisicoTotalDias > 0 ? diffFisicoTotalDias : 0;
const diasMixtoTexto = diffMixtoTotalDias > 0 ? diffMixtoTotalDias : 0;
return `
<div class="beneficio-item">
<b style="color: #1a73e8; font-size: 1.1em;">${titulo}</b><hr style="border: 0; border-top: 1px solid #eee;">
<div style="margin-bottom: 10px;"><b style="color: #555; font-size: 0.9em;">üîπ Escenario: Solo tiempo f√≠sico</b><br>
<b>Tiempo faltante:</b> ${desglosarBreve(diasFisicoTexto)}<br>
<b>${diffFisicoTotalDias <= 0 ? '‚úÖ Cumplido el:' : 'üìÖ Fecha de cumplimiento:'}</b> 
<span class="${diffFisicoTotalDias <= 0 ? 'txt-cumplido' : 'txt-destaque'}">${fechaFisico.toLocaleDateString('es-ES', opcionesFecha)}</span></div>
<div><b style="color: #555; font-size: 0.9em;">üîπ Escenario: F√≠sico + Redenciones</b><br>
<b>Tiempo faltante:</b> ${desglosarBreve(diasMixtoTexto)}<br>
<b>${diffMixtoTotalDias <= 0 ? '‚úÖ Cumplido el:' : 'üìÖ Fecha de cumplimiento:'}</b> 
<span class="${diffMixtoTotalDias <= 0 ? 'txt-cumplido' : 'txt-destaque'}">${fechaMixto.toLocaleDateString('es-ES', opcionesFecha)}</span></div></div>`;
}

async function eliminarCaso(id) { 
    if(confirm(`¬øEst√° seguro de que desea eliminar este expediente de forma permanente?`)) { 
        try {
            // 1. Intentar eliminar de la nube si el usuario est√° autenticado y tiene ID de Firebase
            if (auth.currentUser && !id.startsWith("local_")) {
                await db.collection('usuarios')
                        .doc(auth.currentUser.uid)
                        .collection('expedientes')
                        .doc(id)
                        .delete();
                console.log("Eliminado de la nube ‚úÖ");
            }

            // 2. ELIMINACI√ìN LOCAL (Obligatoria para que desaparezca de la vista)
            // Filtramos el array global 'casos' para quitar el ID seleccionado
            casos = casos.filter(i => i.id !== id); 
            
            // 3. Actualizar el almacenamiento del navegador
            localStorage.setItem('casosIuris', JSON.stringify(casos));

            // 4. REFRESCAR AMBAS VISTAS
            listarCasos();        // Refresca pesta√±a de C√≥mputo
            listarCasosGestion(); // Refresca pesta√±a de Gesti√≥n
            
            alert("Expediente eliminado con √©xito.");

        } catch(e) {
            console.error("Error al eliminar:", e);
            alert("Hubo un problema al eliminar. Int√©ntelo de nuevo.");
        }
    } 
}


function validarYCalcular() { 
    if (!validarAccesoPremium()) return; // <--- Bloqueo
    if(!document.getElementById('cAno').value) return alert("Ingrese la pena."); 
    calcularTodo(); 
}

function calc71() {
const f1 = new Date(document.getElementById('calc71_inicio').value), f2 = new Date(document.getElementById('calc71_fin').value);
if(isNaN(f1)||isNaN(f2)) return;
let a=f2.getFullYear()-f1.getFullYear(), m=f2.getMonth()-f1.getMonth(), d=f2.getDate()-f1.getDate();
if(d<0){m--;d+=30}if(m<0){a--;m+=12}
document.getElementById('res71').innerText = `Lapso: ${a}a, ${m}m, ${d}d`;
}
function agregarFilaSuma() {
const div = document.createElement('div'); div.className = 'grid-3'; div.style.marginTop = '5px';
div.innerHTML = `<input type="number" class="sa" placeholder="A"><input type="number" class="sm" placeholder="M"><input type="number" class="sd" placeholder="D">`;
document.getElementById('listaLapsosSuma').appendChild(div);
}
function calc72() {
let a=0, m=0, d=0; document.querySelectorAll('.sa').forEach(i=>a+=parseInt(i.value||0)); document.querySelectorAll('.sm').forEach(i=>m+=parseInt(i.value||0)); document.querySelectorAll('.sd').forEach(i=>d+=parseInt(i.value||0));
m+=Math.floor(d/30); d=d%30; a+=Math.floor(m/12); m=m%12; document.getElementById('res72').innerText = `Total: ${a}a, ${m}m, ${d}d`;
}
function calc73() {
const a1 = parseInt(document.getElementById('r1a').value || 0), m1 = parseInt(document.getElementById('r1m').value || 0), d1 = parseInt(document.getElementById('r1d').value || 0);
const a2 = parseInt(document.getElementById('r2a').value || 0), m2 = parseInt(document.getElementById('r2m').value || 0), d2 = parseInt(document.getElementById('r2d').value || 0);
const totalDias1 = (a1 * 360) + (m1 * 30) + d1, totalDias2 = (a2 * 360) + (m2 * 30) + d2;
const diferencia = totalDias1 - totalDias2;
if (diferencia < 0) { document.getElementById('res73').innerText = "Resultado: El segundo lapso no puede ser mayor al primero."; document.getElementById('res73').style.color = "red"; }
else { document.getElementById('res73').innerText = "Resultado: " + desglosar(diferencia); document.getElementById('res73').style.color = "#856404"; }
}
function calc745(op) {
const dateInput = document.getElementById('fBase745').value;
if (!dateInput) return alert("Por favor, seleccione una fecha base.");
const partes = dateInput.split('-'); const anioBase = parseInt(partes[0], 10), mesBase = parseInt(partes[1], 10) - 1, diaBase = parseInt(partes[2], 10);
const a√±osAdd = parseInt(document.getElementById('la745').value || 0), mesesAdd = parseInt(document.getElementById('lm745').value || 0), d√≠asAdd = parseInt(document.getElementById('ld745').value || 0);
let f = new Date(anioBase, mesBase, diaBase);
if (op === 'sumar') { f.setFullYear(f.getFullYear() + a√±osAdd); f.setMonth(f.getMonth() + mesesAdd); f.setDate(f.getDate() + d√≠asAdd); }
else { f.setFullYear(f.getFullYear() - a√±osAdd); f.setMonth(f.getMonth() - mesesAdd); f.setDate(f.getDate() - d√≠asAdd); }
document.getElementById('res745').innerText = "Fecha Resultante: " + f.toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit', year: 'numeric' });
}
function calc76() {
const t = (parseInt(document.getElementById('fra').value||0)*360) + (parseInt(document.getElementById('frm').value||0)*30) + (parseInt(document.getElementById('frd').value||0));
const p = document.getElementById('fraccion').value.split('/'); 
document.getElementById('res76').innerText = "Producto: " + desglosarBreve(Math.floor((t*parseInt(p[0]))/parseInt(p[1])));
}

function generarReporteFiltrado() {
const fDelito = document.getElementById('repDelito').value.toLowerCase();
const fLugar = document.getElementById('repLugar').value.toLowerCase();
const fDesde = document.getElementById('repDesde').value, fHasta = document.getElementById('repHasta').value;
const filtrados = casos.filter(c => {
const cumpleDelito = !fDelito || (c.delito && c.delito.toLowerCase().includes(fDelito));
const cumpleLugar = !fLugar || (c.lugar && c.lugar.toLowerCase().includes(fLugar));
let cumpleFecha = true; if(fDesde || fHasta) { const fechaMod = new Date(c.fechaMod); if(fDesde && fechaMod < new Date(fDesde)) cumpleFecha = false; if(fHasta && fechaMod > new Date(fHasta)) cumpleFecha = false; }
return cumpleDelito && cumpleLugar && cumpleFecha;
});
if (filtrados.length === 0) return alert("No hay datos.");
let html = `<div style="padding:20px; font-family:sans-serif;"><h1 style="color:#1a73e8; text-align:center;">REPORTE DE EXPEDIENTES</h1><table border="1" style="width:100%; border-collapse:collapse; font-size:10px;"><thead><tr style="background:#f2f2f2;"><th>NOMBRE</th><th>C√âDULA</th><th>DELITO</th><th>LUGAR</th><th>CONDENA</th></tr></thead><tbody>${filtrados.map(c => `<tr><td>${c.nombre}</td><td>${c.cedula}</td><td>${c.delito || ''}</td><td>${c.lugar || ''}</td><td>${c.cAno||0}a ${c.cMes||0}m ${c.cDia||0}d</td></tr>`).join('')}</tbody></table></div>`;
const el = document.createElement('div'); el.innerHTML = html;
html2pdf().set({ margin: 10, filename: 'Reporte_Iuris.pdf', html2canvas: { scale: 2 } }).from(el).save();
}

function generarExcelFiltrado() {
const fDelito = document.getElementById('repDelito').value.toLowerCase();
const fLugar = document.getElementById('repLugar').value.toLowerCase();
const fDesde = document.getElementById('repDesde').value, fHasta = document.getElementById('repHasta').value;
const camposSeleccionados = Array.from(document.querySelectorAll('.col-excel:checked')).map(cb => cb.value);
if (camposSeleccionados.length === 0) return alert("Seleccione al menos un campo.");
const filtrados = casos.filter(c => {
const cumpleDelito = !fDelito || (c.delito && c.delito.toLowerCase().includes(fDelito));
const cumpleLugar = !fLugar || (c.lugar && c.lugar.toLowerCase().includes(fLugar));
let cumpleFecha = true; if(fDesde || fHasta) { const fechaMod = new Date(c.fechaMod); if(fDesde && fechaMod < new Date(fDesde)) cumpleFecha = false; if(fHasta && fechaMod > new Date(fHasta)) cumpleFecha = false; }
return cumpleDelito && cumpleLugar && cumpleFecha;
});
const cabeceras = { nombre: "NOMBRE", cedula: "C√âDULA", delito: "DELITO", lugar: "LUGAR", expJud: "EXP. JUDICIAL", expCar: "EXP. CARCELARIO" };
const dataExcel = filtrados.map(c => { let fila = {}; camposSeleccionados.forEach(campo => { fila[cabeceras[campo]] = c[campo] || ""; }); return fila; });
const ws = XLSX.utils.json_to_sheet(dataExcel); const wb = XLSX.utils.book_new(); XLSX.utils.book_append_sheet(wb, ws, "Expedientes");
XLSX.writeFile(wb, `Reporte_Iuris_${new Date().toLocaleDateString()}.xlsx`);
}

document.getElementById('fFechaCorte').value = new Date().toISOString().split('T')[0];
listarCasos();
listarCasosGestion();

// 1. Modificamos el objeto de puntos magn√©ticos para incluir la fracci√≥n exacta
function actualizarLabelRebaja(valor) {
    let val = parseFloat(valor);
    const lblPorcentaje = document.getElementById('labelPorcentaje');
    const lblProporcion = document.getElementById('labelProporcion');
    const slider = document.getElementById('sliderRebaja');
    
    // Definimos la fracci√≥n matem√°tica real para el c√°lculo
    const puntosMagneticos = [
        { valor: 12.5, etiqueta: "1/8", fraccion: 1/8 },
        { valor: 16.66, etiqueta: "1/6", fraccion: 1/6 },
        { valor: 20, etiqueta: "1/5", fraccion: 1/5 },
        { valor: 25, etiqueta: "1/4", fraccion: 1/4 },
        { valor: 33.33, etiqueta: "1/3", fraccion: 1/3 },
        { valor: 50, etiqueta: "1/2", fraccion: 1/2 }
    ];

    let etiquetaActual = "Proporcional";
    let fraccionCalculo = val / 100; // Por defecto usa el porcentaje
    const umbral = 1.5; 

    puntosMagneticos.forEach(punto => {
        if (Math.abs(val - punto.valor) < umbral) {
            val = punto.valor;
            etiquetaActual = punto.etiqueta;
            fraccionCalculo = punto.fraccion; // <--- USAMOS LA FRACCI√ìN EXACTA
            slider.value = val;
        }
    });

    if (val === 0) {
        etiquetaActual = "0";
        fraccionCalculo = 0;
    }

    lblPorcentaje.innerText = val.toFixed(2);
    lblProporcion.innerText = etiquetaActual;
    
    // Guardamos la fracci√≥n exacta en un atributo del slider para usarla en el c√°lculo final
    slider.dataset.fraccionEfectiva = fraccionCalculo;
}

// 2. Ajustamos la funci√≥n de c√°lculo para usar esa fracci√≥n exacta
function calcularAdmision() {
    if (!validarAccesoPremium()) return;
    const totalHoras = aHoras(
        document.getElementById('adm_a').value,
        document.getElementById('adm_m').value,
        document.getElementById('adm_d').value,
        document.getElementById('adm_h').value
    );
    
    // Obtenemos la fracci√≥n exacta guardada o el valor del slider
    const slider = document.getElementById('sliderRebaja');
    const fraccion = slider.dataset.fraccionEfectiva ? parseFloat(slider.dataset.fraccionEfectiva) : (parseFloat(slider.value) / 100);
    
    if (totalHoras <= 0) return alert("Ingrese una pena.");
    
    // Ahora el c√°lculo es: 15 a√±os * (1/3) = 5 a√±os exactos (en horas)
    const rebaja = totalHoras * fraccion;
    const totalFinal = totalHoras - rebaja;

    document.getElementById('resAdmision').innerHTML = 
        `<small>Pena Original: ${desglosarHoras(totalHoras)}</small><br>` +
        `<small>Rebaja: -${desglosarHoras(rebaja)}</small><hr>` +
        `<div style="font-size: 1.2em; color: #27ae60; font-weight: bold;">Final: ${desglosarHoras(totalFinal)}</div>`;
}


function actualizarLabelIncremento(valor) {
    let val = parseFloat(valor);
    const lblPorcentaje = document.getElementById('labelPorcentajeInc');
    const lblProporcion = document.getElementById('labelProporcionInc');
    const slider = document.getElementById('sliderIncremento');

    const puntos = [
        { valor: 12.5, etiqueta: "1/8" },
        { valor: 16.66, etiqueta: "1/6" },
        { valor: 20, etiqueta: "1/5" },
        { valor: 25, etiqueta: "1/4" },
        { valor: 33.33, etiqueta: "1/3" },
        { valor: 50, etiqueta: "1/2" }
    ];

    let etiqueta = "Proporcional";
    const umbral = 1.5;

    puntos.forEach(p => {
        if (Math.abs(val - p.valor) < umbral) {
            val = p.valor;
            etiqueta = p.etiqueta;
            slider.value = val;
        }
    });

    if (val === 0) etiqueta = "0";

    if (lblPorcentaje) lblPorcentaje.innerText = val.toFixed(2);
    if (lblProporcion) lblProporcion.innerText = etiqueta;
}

function agregarFilaPenaReal() {
    const div = document.createElement('div');
    div.className = 'grid-4'; // Cambiado a grid-4
    div.style.marginBottom = '8px';
    div.innerHTML = `
        <input type="number" class="ra" placeholder="A√±os">
        <input type="number" class="rm" placeholder="Meses">
        <input type="number" class="rd" placeholder="D√≠as">
        <input type="number" class="rh" placeholder="Horas">
    `;
    document.getElementById('listaPenasReal').appendChild(div);
}

function calcularConcursoReal() {
    // Asumiendo que usas una funci√≥n aHoras para convertir todo a una unidad com√∫n
    const filas = document.querySelectorAll('#listaPenasReal .grid-4');
    let penasEnHoras = [];

    filas.forEach(fila => {
        const a = fila.querySelector('.ra').value || 0;
        const m = fila.querySelector('.rm').value || 0;
        const d = fila.querySelector('.rd').value || 0;
        const h = fila.querySelector('.rh').value || 0;
        
        // Convertir a horas (usando tu l√≥gica de aHoras)
        penasEnHoras.push(aHoras(a, m, d, h));
    });

    if (penasEnHoras.length === 0) return;

    // Ordenar de mayor a menor
    penasEnHoras.sort((a, b) => b - a);

    const penaMayor = penasEnHoras[0];
    const sumasRestantes = penasEnHoras.slice(1).reduce((acc, curr) => acc + curr, 0);
    
    // Regla: Pena mayor + mitad de la suma de las restantes
    const totalFinalHoras = penaMayor + (sumasRestantes / 2);

    document.getElementById('resReal').innerHTML = 
        `Pena Resultante: ${desglosarHoras(totalFinalHoras)}`; // Usando tu funci√≥n desglosarHoras
}


function exportarTodaLaDataExcel() {
    if (casos.length === 0) return alert("No hay expedientes para exportar.");
    const dataExcel = casos.map(c => {
        return {
            "NOMBRE": c.nombre || "",
            "C√âDULA": c.cedula || "",
            "EXP. JUDICIAL": c.expJud || "",
            "EXP. FISCAL√çA": c.expFis || "",
            "EXP. CARCELARIO": c.expCar || "",
            "FISCAL√çA N¬∫": c.numFis || "",
            "TRIBUNAL": c.tribunal || "",
            "LUGAR DE RECLUSI√ìN": c.lugar || "",
            "FASE PROCESAL": c.fase || "",
            "DELITO": c.delito || "",
            "FECHA DETENCI√ìN": formatFechaLatina(c.fIni),
            "FAMILIAR": c.familiar || "",
            "TEL√âFONO": c.tel || "",
            "FECHA REGISTRO": new Date(c.fechaMod).toLocaleDateString()
        };
    });
    const ws = XLSX.utils.json_to_sheet(dataExcel);
    const wb = XLSX.utils.book_new();
    XLSX.utils.book_append_sheet(wb, ws, "Base de Datos Iuris");
    XLSX.writeFile(wb, `Base_Datos_Completa_Iuris_${new Date().toISOString().split('T')[0]}.xlsx`);
}
async function copiarResultados(event) {
    const nombre = document.getElementById('pNombre')?.value || "N/A";
    const resumen = document.getElementById('resResumen')?.innerText || "";
    const beneficios = document.getElementById('resBeneficios')?.innerText || "";

    const textoACopiar = `INFORME DE C√ìMPUTO PENAL\n` +
                         `Privado: ${nombre}\n\n` +
                         `RESUMEN:\n${resumen}\n\n` +
                         `BENEFICIOS:\n${beneficios}`;

    const btn = event.currentTarget;
    const originalText = btn.innerHTML;

    try {
        await navigator.clipboard.writeText(textoACopiar);
        mostrarExito(btn, originalText);
    } catch (err) {
        try {
            const textArea = document.createElement("textarea");
            textArea.value = textoACopiar;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);
            mostrarExito(btn, originalText);
        } catch (secondaryErr) {
            console.error('Error definitivo al copiar: ', secondaryErr);
            alert("Error al acceder al portapapeles.");
        }
    }
}

function mostrarExito(btn, textoOriginal) {
    btn.style.background = "#28a745";
    btn.innerHTML = "¬°Copiado con √©xito! ‚úÖ";
    
    setTimeout(() => {
        btn.style.background = "#6c757d";
        btn.innerHTML = textoOriginal;
    }, 2000);
}

function enviarAGoogleCalendar(cliente, descripcion, fechaRecordatorio, expediente) {
    if (!fechaRecordatorio || fechaRecordatorio === "No asignado" || fechaRecordatorio === "") {
        alert("Por favor, asigne una fecha en el campo 'Avisarme el d√≠a' antes de sincronizar.");
        return;
    }

    const fechaLimpia = fechaRecordatorio.replace(/-/g, '');
    const titulo = encodeURIComponent(`IURIS: Exp. ${expediente} - ${cliente}`);
    const detalles = encodeURIComponent(`Gesti√≥n Pendiente: ${descripcion}\n\nGenerado por Calculadora Penal Iuris.`);
    const fechas = `${fechaLimpia}/${fechaLimpia}`;

    const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${titulo}&details=${detalles}&dates=${fechas}`;
    window.open(url, '_blank');
}

function compartirReferido() {
    const emailUsuario = auth.currentUser ? auth.currentUser.email : "mi_correo";
    const mensaje = encodeURIComponent(
        `üìå *INVITACI√ìN ESPECIAL*\n\n` +
        `Colega, le recomiendo la *Calculadora Penal Iuris*. Es una herramienta excelente para c√≥mputos y dosimetr√≠a.\n\n` +
        `Reg√≠strese aqu√≠: https://consultoraiurislegal.github.io/calculadora-penal/\n\n` +
        `üéÅ *Diga que voy de su parte usando mi c√≥digo de referido:* ${emailUsuario}\n` +
        `y pida su mes de regalo al activar su plan.`
    );
    window.open(`https://wa.me/?text=${mensaje}`, '_blank');
}

// LOGICA DE ADMINISTRADOR (A√ëADIDA)
// ==========================================
// EL NUEVO PORTERO (VALIDACI√ìN POR FECHA)
// ==========================================
auth.onAuthStateChanged(user => {
    if (user) {
        // 1. El usuario existe, ocultamos login y mostramos app (visual)
        document.getElementById('login-container').style.display = 'none';
        document.getElementById('app-container').style.display = 'block';
        
        // 2. AHORA VALIDAMOS SU FECHA EN LA BASE DE DATOS
        db.collection('users').doc(user.uid).get().then(doc => {
            if (doc.exists) {
                const datos = doc.data();
                
                // A. ¬øEs el jefe? (Admin)
                window.usuarioEsAdmin = (datos.rol === 'admin');

                // B. L√≥gica de Calendario (Fecha de Vencimiento)
                const hoy = new Date();
                // Si el campo 'subscriptionEnd' no existe, ponemos fecha a√±o 1970 (vencido)
                let fechaVencimiento = datos.subscriptionEnd ? new Date(datos.subscriptionEnd) : new Date(0);
                
                // Le damos hasta el √∫ltimo segundo del d√≠a para que no se le corte a mediod√≠a
                fechaVencimiento.setHours(23, 59, 59, 999);

                // C. ¬øLa fecha es v√°lida (futuro) o ya pas√≥?
                const fechaEsValida = fechaVencimiento >= hoy;

                // D. VEREDICTO FINAL: Entra si es Admin O SI la fecha est√° vigente
                window.accesoVigente = window.usuarioEsAdmin || fechaEsValida;

                console.log("üìÖ Vencimiento:", fechaVencimiento.toLocaleDateString(), "| ‚úÖ Acceso:", window.accesoVigente);
                
                // Opcional: Si quieres mostrarle un aviso apenas entra si est√° vencido:
                if (!window.accesoVigente) {
                    // alert("‚ö†Ô∏è Su suscripci√≥n ha vencido. Algunas funciones estar√°n bloqueadas.");
                }
            }
        }).catch(error => {
            console.error("Error buscando usuario:", error);
            // Por seguridad, si falla internet, bloqueamos acceso premium
            window.accesoVigente = false; 
        });

    } else {
        // Si no hay usuario logueado, mostramos login
        document.getElementById('login-container').style.display = 'flex'; // O 'block'
        document.getElementById('app-container').style.display = 'none';
        
        // Reseteamos permisos
        window.accesoVigente = false;
        window.usuarioEsAdmin = false;
    }
});


// Variable para almacenar la clave del localStorage
const KEY_LAST_CHECK = 'admin_ultima_revision';

// Al cargar la p√°gina, mostramos la fecha guardada
document.addEventListener('DOMContentLoaded', () => {
    actualizarLabelFecha();
});

function actualizarLabelFecha() {
    const lastCheck = localStorage.getItem(KEY_LAST_CHECK);
    const lbl = document.getElementById('lblUltimaRev');
    if (lbl) {
        if (lastCheck) {
            const fecha = new Date(lastCheck).toLocaleString();
            lbl.innerText = `√öltima revisi√≥n: ${fecha}`;
        } else {
            lbl.innerText = "A√∫n no has revisado novedades.";
        }
    }
}

// --- FUNCI√ìN PRINCIPAL: VER SOLO LO NUEVO ---
async function verNuevosRegistros() {
    const tbody = document.getElementById('bodyUsuariosAdmin');
    tbody.innerHTML = "<tr><td colspan='5' style='text-align:center;'>Consultando novedades... ‚è≥</td></tr>";

    // 1. Recuperar la fecha de la √∫ltima vez que diste clic
    // Si no existe (es la primera vez), usamos una fecha muy antigua (a√±o 2020)
    let lastCheck = localStorage.getItem(KEY_LAST_CHECK) || '2020-01-01T00:00:00.000Z';

    try {
        // 2. Consulta INTELIGENTE: Dame solo los que se registraron DESPU√âS de lastCheck
        const snapshot = await db.collection('usuarios')
            .where('fechaRegistro', '>', lastCheck)
            .orderBy('fechaRegistro', 'desc')
            .get();

        if (snapshot.empty) {
            tbody.innerHTML = "<tr><td colspan='5' style='text-align:center; color:#2e7d32; font-weight:bold;'>‚úÖ Est√°s al d√≠a. No hay nuevos registros desde tu √∫ltima visita.</td></tr>";
            // Aunque no haya nuevos, actualizamos la fecha para que la pr√≥xima vez compare desde hoy
            guardarFechaActual();
            return;
        }

        // 3. Si hay nuevos, los mostramos
        renderizarTablaAdmin(snapshot, tbody);
        
        // 4. Guardamos la fecha de HOY como la nueva "√∫ltima revisi√≥n"
        guardarFechaActual();
        alert(`Se encontraron ${snapshot.size} usuarios nuevos.`);

    } catch (e) {
        console.error(e);
        if (e.message.includes("index")) {
            // Esto saldr√° la primera vez: Firebase te pedir√° crear un √≠ndice
            const link = e.message.match(/https:\/\/[^\s]+/)[0];
            tbody.innerHTML = `<tr><td colspan='5' style='color:red; font-size:0.9em;'>
                <b>‚ö†Ô∏è CONFIGURACI√ìN REQUERIDA:</b><br>
                Firebase necesita un √≠ndice para ordenar por fecha.<br>
                <a href="${link}" target="_blank" style="color:blue;">HAGA CLIC AQU√ç PARA CREARLO AUTOM√ÅTICAMENTE</a><br>
                (Espere 2 minutos despu√©s de crearlo y vuelva a intentar).
            </td></tr>`;
        } else {
            tbody.innerHTML = `<tr><td colspan='5' style='color:red;'>Error: ${e.message}</td></tr>`;
        }
    }
}

function guardarFechaActual() {
    localStorage.setItem(KEY_LAST_CHECK, new Date().toISOString());
    actualizarLabelFecha();
}

// Opci√≥n para reiniciar si quieres ver los √∫ltimos 10 sin importar la fecha
function resetearFechaAdmin() {
    if(confirm("¬øDesea borrar la memoria de √∫ltima visita y cargar los 10 √∫ltimos registros hist√≥ricos?")) {
        localStorage.removeItem(KEY_LAST_CHECK);
        actualizarLabelFecha();
        cargarUltimosRegistros(); // Llamamos a la funci√≥n que te di en la respuesta anterior (los 10 √∫ltimos)
    }
}

// MANTENEMOS TU FUNCI√ìN DE B√öSQUEDA (Es vital tenerla aparte)
async function buscarUsuarioAdmin() {
    const emailBusqueda = document.getElementById('adminSearchEmail').value.trim();
    const tbody = document.getElementById('bodyUsuariosAdmin');
    if (!emailBusqueda) return alert("Escriba un correo.");
    tbody.innerHTML = "<tr><td colspan='5' style='text-align:center;'>Buscando...</td></tr>";

    try {
        const snapshot = await db.collection('usuarios').where('email', '==', emailBusqueda).limit(1).get();
        if (snapshot.empty) {
            tbody.innerHTML = "<tr><td colspan='5' style='color:red; text-align:center;'>No encontrado.</td></tr>";
        } else {
            renderizarTablaAdmin(snapshot, tbody);
        }
    } catch(e) { alert(e.message); }
}

// Funci√≥n auxiliar de pintado (Reutilizable)
function renderizarTablaAdmin(snapshot, tbody) {
    tbody.innerHTML = "";
    snapshot.forEach(doc => {
        const u = doc.data();
        const uid = doc.id;
        const esVigente = new Date(u.vencimiento) > new Date();

        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td><b>${u.email}</b><br><small>${new Date(u.fechaRegistro).toLocaleDateString()} ${new Date(u.fechaRegistro).toLocaleTimeString()}</small></td>
            <td>${u.referidoPor && u.referidoPor!=="Ninguno" ? `<b style="color:#d93025">${u.referidoPor}</b>` : 'Ninguno'}</td>
            <td style="color:${esVigente?'green':'red'}"><b>${esVigente?'ACTIVO':'VENCIDO'}</b></td>
            <td><input type="date" id="venc-${uid}" value="${u.vencimiento?u.vencimiento.split('T')[0]:''}" style="width:110px;"></td>
            <td><button onclick="actualizarSuscripcionManual('${uid}')">üíæ</button></td>
        `;
        tbody.appendChild(tr);
    });
}


async function actualizarSuscripcionManual(uid) {
    const nuevaFecha = document.getElementById(`venc-${uid}`).value;
    if (!nuevaFecha) return alert("Seleccione una fecha v√°lida.");

    try {
        const fechaISO = new Date(nuevaFecha + "T23:59:59").toISOString();
        await db.collection('usuarios').doc(uid).update({
            vencimiento: fechaISO,
            rol: 'premium'
        });
        alert("Suscripci√≥n actualizada correctamente.");
        cargarUsuariosAdmin();
    } catch (e) {
        alert("Error al actualizar: " + e.message);
    }
}

// --- NUEVAS FUNCIONES PARA MANEJO DE HORAS ---

// Constantes basadas en a√±o de 360 d√≠as (est√°ndar laboral/penal habitual en tu c√≥digo)
const H_DIA = 24;
const H_MES = 30 * 24; // 720 horas
const H_ANO = 360 * 24; // 8640 horas

// Convierte A√±os, Meses, D√≠as, Horas a Total de Horas
function aHoras(a, m, d, h) {
    return (parseInt(a||0) * H_ANO) + 
           (parseInt(m||0) * H_MES) + 
           (parseInt(d||0) * H_DIA) + 
           parseInt(h||0);
}
function desglosarHoras(totalHoras) {
    totalHoras = Math.round(totalHoras); 
    if (totalHoras <= 0) return "0 horas";
    let a = Math.floor(totalHoras / H_ANO);
    let resto = totalHoras % H_ANO;
    let m = Math.floor(resto / H_MES);
    resto = resto % H_MES;
    let d = Math.floor(resto / H_DIA);
    let h = Math.floor(resto % H_DIA);
    let txt = [];
    if(a > 0) txt.push(a + "a");
    if(m > 0) txt.push(m + "m");
    if(d > 0) txt.push(d + "d");
    if(h > 0) txt.push(h + "h");
    return txt.join(" ");
}
function calcularTerminoMedio() {
    const minH = aHoras(
        document.getElementById('tm_min_a').value,
        document.getElementById('tm_min_m').value,
        document.getElementById('tm_min_d').value,
        document.getElementById('tm_min_h').value
    );
    const maxH = aHoras(
        document.getElementById('tm_max_a').value,
        document.getElementById('tm_max_m').value,
        document.getElementById('tm_max_d').value,
        document.getElementById('tm_max_h').value
    );
    if (minH === 0 && maxH === 0) return alert("Ingrese los l√≠mites.");
    const promedioHoras = (minH + maxH) / 2;
    document.getElementById('resTM').innerHTML = 
        `<b>T√©rmino Medio:</b> <br> ${desglosarHoras(promedioHoras)}`;
}
function calcularConcursoIdeal() {
    if (!validarAccesoPremium()) return; 
    const totalHoras = aHoras(
        document.getElementById('ideal_a').value,
        document.getElementById('ideal_m').value,
        document.getElementById('ideal_d').value,
        document.getElementById('ideal_h').value
    );
    const porcentaje = parseFloat(document.getElementById('sliderIncremento').value);
    if (totalHoras <= 0) return alert("Ingrese una pena base.");
    const aumento = totalHoras * (porcentaje / 100);
    const totalFinal = totalHoras + aumento;
    document.getElementById('resIdeal').innerHTML = 
        `Pena Base: ${desglosarHoras(totalHoras)}<br>` +
        `+ Aumento: ${desglosarHoras(aumento)}<br>` +
        `<strong>TOTAL: ${desglosarHoras(totalFinal)}</strong>`;
}
function calcularAdmision() {
    if (!validarAccesoPremium()) return;
    const totalHoras = aHoras(
        document.getElementById('adm_a').value,
        document.getElementById('adm_m').value,
        document.getElementById('adm_d').value,
        document.getElementById('adm_h').value
    );
    const porcentajeRebaja = parseFloat(document.getElementById('sliderRebaja').value);
    if (totalHoras <= 0) return alert("Ingrese una pena.");
    
    const rebaja = totalHoras * (porcentajeRebaja / 100);
    const totalFinal = totalHoras - rebaja;
    document.getElementById('resAdmision').innerHTML = 
        `<small>Pena Original: ${desglosarHoras(totalHoras)}</small><br>` +
        `<small>Rebaja: -${desglosarHoras(rebaja)}</small><hr>` +
        `<div style="font-size: 1.2em; color: #27ae60; font-weight: bold;">Final: ${desglosarHoras(totalFinal)}</div>`;
}
// ==========================================
// M√ìDULO DE GESTI√ìN DE DELITOS Y PRESCRIPCI√ìN
// ==========================================

// 1. CARGAR LISTA DE DELITOS AL INICIAR
// --- C√ìDIGO NUEVO (OPTIMIZADO) ---
// 1. CARGAR LISTA DE DELITOS AL INICIAR
document.addEventListener('DOMContentLoaded', () => {
    
    // === C√ìDIGO DE AUTO-LIMPIEZA PARA TUS 40 USUARIOS ===
    // Cada vez que tengas un problema as√≠, solo cambias "v1" por "v2", "v3", etc.
    const VERSION_ACTUAL = "v1_limpieza_delitos"; 
    
    // Si el usuario no tiene esta marca "v1", significa que tiene la basura vieja
    if (localStorage.getItem('version_cache_seguridad') !== VERSION_ACTUAL) {
        console.log("‚ö†Ô∏è Detectada versi√≥n antigua. Ejecutando limpieza autom√°tica...");
        
        // 1. Borramos la memoria corrupta/vieja
        localStorage.removeItem('catalogoDelitosCache');
        localStorage.removeItem('catalogoFecha');
        
        // 2. Le ponemos la "vacuna" para que no se borre cada vez que entra, solo hoy
        localStorage.setItem('version_cache_seguridad', VERSION_ACTUAL);
    }
    // ====================================================

    cargarDelitosEnSelect(); // Ahora descargar√° la lista limpia
    actualizarLabelFecha();  
});



// Variable global para almacenar delitos en memoria y no gastar lecturas de Firebase
let catalogoDelitos = [];

// --- FUNCIONES DEL ADMINISTRADOR ---

// ==========================================
// NUEVA L√ìGICA DE PRESCRIPCI√ìN (ART. 108 CP)
// ==========================================

// 1. GUARDAR DELITO (ADMIN ACTUALIZADO)
async function guardarDelitoAvanzado() {
    const nombre = document.getElementById('admDelitoNombre').value;
    const ley = document.getElementById('admDelitoLey').value;
    const art = document.getElementById('admDelitoArt').value;
    const min = parseFloat(document.getElementById('admDelitoMin').value);
    const max = parseFloat(document.getElementById('admDelitoMax').value);
    const sancion = document.getElementById('admDelitoSancion').value;
    const tipo = document.getElementById('admDelitoTipo').value;
    const condicion = document.getElementById('admDelitoCondicion').value;

    if (!nombre || isNaN(min) || isNaN(max)) return alert("Complete Nombre y Penas (Min/Max).");

    const datosDelito = {
        nombre: nombre,
        ley: ley,
        articulo: art,
        min: min,
        max: max,
        tipoSancion: sancion,
        tipoAccion: tipo,
        condicion: condicion,
        fechaModificacion: Date.now()
    };

    try {
        if (idDelitoEnEdicion === null) {
            // MODO CREAR NUEVO
            datosDelito.fechaCreacion = Date.now();
            await db.collection('configuracion_global').doc('catalogo_delitos').collection('lista').add(datosDelito);
            alert("Delito GUARDADO correctamente.");
        } else {
            // MODO EDITAR EXISTENTE
            await db.collection('configuracion_global').doc('catalogo_delitos').collection('lista').doc(idDelitoEnEdicion).update(datosDelito);
            alert("Delito ACTUALIZADO correctamente.");
            
            // Resetear modo edici√≥n
            idDelitoEnEdicion = null;
            document.querySelector('#adminPanel h2').innerText = "‚öñÔ∏è Gesti√≥n del Cat√°logo (Nuevo Delito)";
            document.querySelector('#btnGuardarDelito').innerText = "+ GUARDAR EN CAT√ÅLOGO";
            document.querySelector('#btnGuardarDelito').style.background = "#4a148c"; // Volver a morado
        }

        // Limpiar campos
        limpiarFormularioAdmin();
        cargarDelitosEnAdmin();
        
    } catch (e) {
        console.error(e);
        alert("Error: " + e.message);
    }
}

// Funci√≥n auxiliar para limpiar
function limpiarFormularioAdmin() {
    document.getElementById('admDelitoNombre').value = "";
    document.getElementById('admDelitoLey').value = "";
    document.getElementById('admDelitoArt').value = "";
    document.getElementById('admDelitoMin').value = "";
    document.getElementById('admDelitoMax').value = "";
    idDelitoEnEdicion = null;
}


// 2. FILTRADO R√ÅPIDO DE DELITOS (TIPO GOOGLE)
function filtrarDelitosUI() {
    const input = document.getElementById('inputBusquedaDelito');
    const select = document.getElementById('selDelitoPresc');
    
    // Usamos 'normalizarTexto' para quitar acentos y pasar a min√∫sculas
    const textoBusqueda = normalizarTexto(input.value); 
    
    select.innerHTML = "";

    // Filtramos la lista global
    const filtrados = catalogoDelitos.filter(d => 
        normalizarTexto(d.nombre).includes(textoBusqueda)
    );

    if(filtrados.length === 0) {
        const opt = document.createElement('option');
        opt.text = "No se encontraron delitos";
        select.appendChild(opt);
    } else {
        filtrados.forEach(d => {
            const opt = document.createElement('option');
            opt.value = d.id;
            opt.text = d.nombre;
            opt.className = "opcion-multilinea"; // <--- IMPORTANTE
            select.appendChild(opt);
        });
    }
}
function actualizarInterfazRebajas() {
    const ejecucion = document.getElementById('selGradoEjecucion').value;
    const divManual = document.getElementById('divFraccionManual');
    const inputFraccion = document.getElementById('fraccionEjecucion');

    if (ejecucion === 'Frustrado') {
        divManual.style.display = 'block';
        inputFraccion.value = "1/3"; // Defecto
    } else if (ejecucion === 'Tentativa') {
        divManual.style.display = 'block';
        inputFraccion.value = "1/2"; // Defecto (puede ser hasta 2/3)
    } else {
        divManual.style.display = 'none';
        inputFraccion.value = "";
    }
}

// 4. C√ÅLCULO INTELIGENTE (EL CORAZ√ìN DEL SISTEMA)
// ==========================================
// C√ÅLCULO ACTUALIZADO (REGLAS 1-6 + SUSPENSI√ìN)
// ==========================================

function calcularPrescripcionInteligente() {
    
    // ============================================================
    // 0. BLOQUEO DE SEGURIDAD (Igual que en Dosimetr√≠a)
    // ============================================================
    // Esto asegura que salga EXACTAMENTE el mismo modal
    if (typeof validarAccesoPremium === 'function') {
        if (!validarAccesoPremium()) return; 
    } else {
        // Por si acaso, un respaldo b√°sico
        if (typeof suscripcionVencida !== 'undefined' && suscripcionVencida) {
            alert("‚ö†Ô∏è Su suscripci√≥n ha vencido.");
            return;
        }
    }

    // ============================================================
    // 1. VALIDACIONES B√ÅSICAS (TU L√ìGICA ORIGINAL)
    // ============================================================
    const idDelito = document.getElementById('selDelitoPresc').value;
    const fechaHecho = document.getElementById('fHechoPresc').value;
    
    if (!idDelito) return alert("Por favor, seleccione un delito primero.");
    if (!fechaHecho) return alert("Ingrese la fecha de comisi√≥n del hecho.");

    const delito = catalogoDelitos.find(d => d.id === idDelito);
    
    // Iniciar Iter Procesal
    let iter = `>>> AN√ÅLISIS JUR√çDICO DE PRESCRIPCI√ìN <<<\n`;
    iter += `1. DATOS DEL DELITO\n`;
    iter += `   - Tipo: ${delito.nombre}\n`;
    iter += `   - Sanci√≥n Principal: ${delito.tipoSancion}\n`;
    iter += `   - Rango de Pena: ${delito.min} a ${delito.max} a√±os.\n`;

    // 2. VERIFICAR IMPRESCRIPTIBILIDAD
    if (delito.condicion === 'Imprescriptible') {
        mostrarResultadoImprescriptible(iter);
        return;
    }

    // 3. C√ÅLCULO DE LA PENA APLICABLE
    let terminoMedio = (delito.min + delito.max) / 2;
    let penaParaCalculo = terminoMedio;
    iter += `   - T√©rmino Medio Base: ${terminoMedio.toFixed(2)} a√±os.\n\n`;

    // A. Grado de Ejecuci√≥n
    const ejecucion = document.getElementById('selGradoEjecucion').value;
    if (ejecucion !== 'Consumado') {
        const fraccionStr = document.getElementById('fraccionEjecucion').value || "0";
        const [num, den] = fraccionStr.split('/').map(Number);
        if (den > 0) {
            const rebaja = terminoMedio * (num / den);
            penaParaCalculo -= rebaja;
            iter += `2. GRADO DE EJECUCI√ìN (${ejecucion})\n   - Rebaja aplicada: ${fraccionStr} (-${rebaja.toFixed(2)} a√±os)\n   - Subtotal: ${penaParaCalculo.toFixed(2)} a√±os.\n`;
        }
    }

    // B. Grado de Intervenci√≥n
    const intervencion = document.getElementById('selGradoIntervencion').value;
    if (intervencion === 'Complice') {
        const rebajaComplice = penaParaCalculo / 2;
        penaParaCalculo -= rebajaComplice;
        iter += `3. GRADO DE INTERVENCI√ìN (C√≥mplice/Facilitador)\n   - Rebaja legal: 1/2 (-${rebajaComplice.toFixed(2)} a√±os)\n`;
    }
    
    iter += `   >>> PENA APLICABLE FINAL: ${penaParaCalculo.toFixed(2)} A√ëOS <<<\n\n`;

    // 4. DETERMINACI√ìN DEL LAPSO
    let lapsoPrescripcion = 0;
    const s = delito.tipoSancion;
    const p = penaParaCalculo;

    iter += `4. REGLAS DE PRESCRIPCI√ìN (C√ìDIGO PENAL)\n`;

    if (p > 10) {
        lapsoPrescripcion = 15;
        iter += `   - Regla 1 (Prioridad por Cuant√≠a): La pena excede 10 a√±os.\n   - PLAZO: 15 A√ëOS.\n`;
    } else if (s === 'Presidio') {
        if (p > 7) { 
            lapsoPrescripcion = 10;
            iter += `   - Regla 2: Presidio > 7 y <= 10 a√±os.\n   - PLAZO: 10 A√ëOS.\n`;
        } else {
            lapsoPrescripcion = 7;
            iter += `   - Regla 3: Presidio <= 7 a√±os.\n   - PLAZO: 7 A√ëOS.\n`;
        }
    } else if (s === 'Prisi√≥n') {
        if (p > 3) {
            lapsoPrescripcion = 5;
            iter += `   - Regla 4: Prisi√≥n > 3 a√±os.\n   - PLAZO: 5 A√ëOS.\n`;
        } else {
            lapsoPrescripcion = 3;
            iter += `   - Regla 5: Prisi√≥n <= 3 a√±os.\n   - PLAZO: 3 A√ëOS.\n`;
        }
    } else if (['Arresto', 'Relegaci√≥n', 'Confinamiento', 'Expulsi√≥n'].includes(s)) {
        if (s === 'Arresto' && p > 0.5) {
            lapsoPrescripcion = 3;
            iter += `   - Regla 5: Arresto > 6 meses.\n   - PLAZO: 3 A√ëOS.\n`;
        } else if (s === 'Arresto' && p <= 0.5) {
            lapsoPrescripcion = 1;
            iter += `   - Regla 6: Arresto 1 a 6 meses.\n   - PLAZO: 1 A√ëO.\n`;
        } else {
            lapsoPrescripcion = 3;
            iter += `   - Regla 5: ${s}.\n   - PLAZO: 3 A√ëOS.\n`;
        }
    } else {
        lapsoPrescripcion = 1;
        iter += `   - Regla 6: Multa, Suspensi√≥n o Faltas.\n   - PLAZO: 1 A√ëO.\n`;
    }

    // 5. C√ÅLCULO DE FECHAS CON SUSPENSI√ìN
    const fechaBase = new Date(fechaHecho + "T12:00:00"); 
    
    let diasSuspendidos = 0;
    const haySuspension = document.getElementById('chkSuspension').checked;
    
    if (haySuspension) {
        const fSusIni = document.getElementById('fSuspInicio').value;
        const fSusFin = document.getElementById('fSuspFin').value;
        
        if (fSusIni && fSusFin) {
            const d1 = new Date(fSusIni + "T12:00:00");
            const d2 = new Date(fSusFin + "T12:00:00");
            const diffTime = d2 - d1;
            diasSuspendidos = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            iter += `\n5. SUSPENSI√ìN DEL LAPSO\n   - D√≠as suspendidos: ${diasSuspendidos}\n`;
        }
    }

    // Fechas finales
    const fOrdinaria = new Date(fechaBase);
    fOrdinaria.setFullYear(fOrdinaria.getFullYear() + lapsoPrescripcion);
    fOrdinaria.setDate(fOrdinaria.getDate() + diasSuspendidos);

    const lapsoExtraNumerico = lapsoPrescripcion * 1.5;
    const fExtraordinaria = new Date(fechaBase);
    const anosEnteros = Math.floor(lapsoExtraNumerico);
    const mesesRestantes = (lapsoExtraNumerico - anosEnteros) * 12;
    fExtraordinaria.setFullYear(fExtraordinaria.getFullYear() + anosEnteros);
    fExtraordinaria.setMonth(fExtraordinaria.getMonth() + mesesRestantes);
    fExtraordinaria.setDate(fExtraordinaria.getDate() + diasSuspendidos); 

    // 6. RENDERIZAR RESULTADOS
    document.getElementById('resPrescripcion').style.display = 'block';
    document.getElementById('resExtraordinarioBox').style.display = 'block';

    document.getElementById('resLapsoOrd').innerHTML = `${lapsoPrescripcion} A√ëOS <br><small>+ ${diasSuspendidos} d√≠as susp.</small>`;
    document.getElementById('resFechaOrd').innerText = fOrdinaria.toLocaleDateString();

    document.getElementById('resLapsoExtra').innerHTML = `${lapsoExtraNumerico} A√ëOS <br><small>+ ${diasSuspendidos} d√≠as susp.</small>`;
    document.getElementById('resFechaExtra').innerText = fExtraordinaria.toLocaleDateString();

    document.getElementById('iterProcesal').innerText = iter;
    document.getElementById('resPrescripcion').scrollIntoView({ behavior: 'smooth', block: 'start' });
}



function mostrarResultadoImprescriptible(iter) {
    document.getElementById('resPrescripcion').style.display = 'block';
    document.getElementById('resLapsoOrd').innerText = "IMPRESCRIPTIBLE";
    document.getElementById('resFechaOrd').innerText = "NUNCA";
    document.getElementById('resExtraordinarioBox').style.display = 'none';
    document.getElementById('iterProcesal').innerText = iter + "   - CONDICI√ìN: El delito es de Lesa Humanidad o contra el Patrimonio P√∫blico (Imprescriptible).";
    document.getElementById('resPrescripcion').scrollIntoView({ behavior: 'smooth', block: 'start' });
}


async function cargarDelitosEnAdmin() {
    const div = document.getElementById('listaDelitosAdmin');
    if(!div) return;
    div.style.display = 'block';
    div.innerHTML = "Cargando...";
    
    try {
        const snapshot = await db.collection('configuracion_global').doc('catalogo_delitos').collection('lista')
                                 .orderBy('nombre', 'asc').get();
        
        div.innerHTML = "";
        if (snapshot.empty) {
            div.innerHTML = "No hay delitos registrados.";
            return;
        }

        snapshot.forEach(doc => {
            const d = doc.data();
            // Creamos un string JSON seguro para pasar los datos a la funci√≥n
            const datosJson = JSON.stringify(d).replace(/"/g, '&quot;');
            
            const item = document.createElement('div');
            item.style.borderBottom = "1px solid #eee";
            item.style.padding = "8px";
            item.style.display = "flex";
            item.style.justifyContent = "space-between";
            item.style.alignItems = "center";
            
            item.innerHTML = `
                <div style="font-size:0.9em;">
                    <b>${d.nombre}</b><br>
                    <span style="color:#666;">${d.min}-${d.max} a√±os | ${d.ley}</span>
                </div>
                <div>
                    <button onclick="prepararEdicion('${doc.id}', ${datosJson})" style="margin-right:10px; cursor:pointer; background:#fff3cd; border:1px solid #ffeeba; border-radius:4px; padding:5px;">
                        ‚úèÔ∏è
                    </button>
                    <button onclick="borrarDelito('${doc.id}')" style="color:white; background:#dc3545; border:none; border-radius:4px; padding:5px 10px; cursor:pointer;">
                        X
                    </button>
                </div>
            `;
            div.appendChild(item);
        });
    } catch (e) {
        console.error(e);
        div.innerHTML = "Error al cargar lista.";
    }
}


async function borrarDelito(id) {
    if(confirm("¬øEliminar este delito del cat√°logo?")) {
        await db.collection('configuracion_global').doc('catalogo_delitos').collection('lista').doc(id).delete();
        cargarDelitosEnAdmin();
        cargarDelitosEnSelect();
    }
}

// --- FUNCIONES DEL USUARIO (PESTA√ëA PRESCRIPCI√ìN) ---

// ==========================================
// OPTIMIZACI√ìN: CARGA DE DELITOS CON CACH√â
// ==========================================

// ==========================================
// CARGA OPTIMIZADA (MODO ARCHIVO MAESTRO)
// ==========================================
// ==========================================
// CARGA OPTIMIZADA: CACH√â INMEDIATO + ACTUALIZACI√ìN SILENCIOSA
// ==========================================
// ==========================================
// FUNCI√ìN DE DIAGN√ìSTICO Y CARGA FORZADA
// ==========================================
// ==========================================
// CARGA DEFINITIVA (MODO SILENCIOSO / PRODUCCI√ìN)
// ==========================================
async function cargarDelitosEnSelect(forzar = false) {
    const selectPresc = document.getElementById('selDelitoPresc');
    const selectsDosim = document.querySelectorAll('.sel-delito-dosim');
    
    // 1. CARGA R√ÅPIDA (CACH√â): Mostrar lo guardado inmediatamente
    // Esto hace que la app parezca instant√°nea
    const memoriaLocal = localStorage.getItem('catalogoDelitosCache');
    if (memoriaLocal) {
        catalogoDelitos = JSON.parse(memoriaLocal);
        actualizarTodosLosSelects(selectPresc, selectsDosim);
        console.log("‚ö° Carga r√°pida desde memoria local.");
    }

    // 2. VERIFICACI√ìN EN SEGUNDO PLANO (SIN AVISOS)
    try {
        // Consultamos la nube calladitos
        const doc = await db.collection('configuracion_global').doc('catalogo_maestro').get();

        if (doc.exists && doc.data().contenido) {
            const jsonNube = doc.data().contenido;
            
            // Si la nube es diferente a lo que tiene el celular, actualizamos
            if (jsonNube !== memoriaLocal || forzar) {
                catalogoDelitos = JSON.parse(jsonNube);
                localStorage.setItem('catalogoDelitosCache', jsonNube); // Guardamos lo nuevo
                
                // Refrescamos la lista visualmente sin interrumpir
                actualizarTodosLosSelects(selectPresc, selectsDosim);
                console.log("‚òÅÔ∏è Base de datos actualizada en segundo plano.");
            } else {
                console.log("‚úÖ El usuario ya tiene la √∫ltima versi√≥n.");
            }
        } else {
            // PLAN B: Si falla el maestro, buscamos la lista individual (En silencio)
            console.warn("‚ö†Ô∏è Maestro no disponible. Usando lista individual...");
            const snap = await db.collection('configuracion_global').doc('catalogo_delitos').collection('lista').get();
            
            if (!snap.empty) {
                catalogoDelitos = [];
                snap.forEach(d => { 
                    let data = d.data(); 
                    data.id = d.id; 
                    catalogoDelitos.push(data); 
                });
                
                // Guardamos y actualizamos
                localStorage.setItem('catalogoDelitosCache', JSON.stringify(catalogoDelitos));
                actualizarTodosLosSelects(selectPresc, selectsDosim);
            }
        }
    } catch (error) {
        console.error("Error de conexi√≥n:", error);
        // NO mostramos alerta. Si falla internet, el usuario sigue feliz con la memoria local (Paso 1).
    }
}



function actualizarTodosLosSelects(selPresc, listaDosim) {
    // A. Actualizar Pesta√±a Prescripciones
    if (selPresc) {
        selPresc.innerHTML = ''; // Limpiamos
        
        // Opci√≥n por defecto
        const defaultOpt = document.createElement('option');
        defaultOpt.text = "-- Busque o seleccione un delito --";
        selPresc.appendChild(defaultOpt);

        // Agregamos los delitos con la clase CSS correcta
        catalogoDelitos.forEach(d => {
            const opt = document.createElement('option');
            opt.value = d.id;
            opt.text = d.nombre;
            opt.className = "opcion-multilinea"; // <--- ESTO ARREGLA EL TEXTO CORTADO
            selPresc.appendChild(opt);
        });
    }

    // B. Actualizar Pesta√±a Dosimetr√≠a (Mantiene tu l√≥gica existente)
    if (listaDosim) {
        listaDosim.forEach(sel => {
            const valorPrevio = sel.value; 
            sel.innerHTML = '<option value="">-- Resultados de la b√∫squeda --</option>' + generarOpcionesDelitos();
            sel.value = valorPrevio;
        });
    }
}


// Funci√≥n auxiliar para dibujar (no cuenta como lectura)
function renderizarOpcionesDelito(selectElement) {
    if(!selectElement) return;
    selectElement.innerHTML = '<option value="">-- Busque o seleccione un delito --</option>';
    
    catalogoDelitos.forEach(d => {
        const opt = document.createElement('option');
        opt.value = d.id;
        opt.text = d.nombre;
        selectElement.appendChild(opt);
    });
}

// Funci√≥n para poner en un bot√≥n si el usuario quiere actualizar manual
function forzarActualizacionDelitos() {
    if(confirm("¬øDesea descargar la lista m√°s reciente de delitos desde la nube?")) {
        cargarDelitosEnSelect(true); // 'true' obliga a descargar
    }
}


function cargarDatosDelitoSeleccionado() {
    const idSeleccionado = document.getElementById('selDelitoPresc').value;
    const infoDiv = document.getElementById('infoDelito');
    
    if (!idSeleccionado) {
        infoDiv.style.display = 'none';
        return;
    }

    const delito = catalogoDelitos.find(d => d.id === idSeleccionado);
    
    if (delito) {
        infoDiv.style.display = 'block';

        // Llenar datos b√°sicos
        document.getElementById('lblLey').innerText = delito.ley || "N/A";
        document.getElementById('lblArticulo').innerText = delito.articulo || "N/A";
        document.getElementById('lblSancion').innerText = delito.tipoSancion || "No especificada";
        document.getElementById('lblAccion').innerText = delito.tipoAccion || "P√∫blica";
        document.getElementById('lblCondicion').innerText = delito.condicion || "Prescriptible";
        
        // Llenar datos ocultos necesarios para el c√°lculo matem√°tico
        document.getElementById('lblMin').innerText = delito.min;
        document.getElementById('lblMax').innerText = delito.max;
        document.getElementById('lblTiempoPresc').innerText = delito.prescripcionAnos;

        // Mostrar Rango Visual
        document.getElementById('lblRango').innerText = `${delito.min} a ${delito.max} a√±os`;

        // CALCULAR Y MOSTRAR T√âRMINO MEDIO DESGLOSADO (Igual que Dosimetr√≠a)
        const mediaAnos = (delito.min + delito.max) / 2;
        // Usamos tu funci√≥n 'desglosar' multiplicando por 360 d√≠as
        document.getElementById('lblMediaBase').innerText = desglosar(mediaAnos * 360);
    }
}


function calcularPrescripcionExacta() {
    // 1. Validaciones
    const idSeleccionado = document.getElementById('selDelitoPresc').value;
    const fechaHechoStr = document.getElementById('fHechoPresc').value;
    
    if (!idSeleccionado) return alert("Por favor, seleccione un delito de la lista.");
    if (!fechaHechoStr) return alert("Ingrese la fecha de inicio ");

    const delito = catalogoDelitos.find(d => d.id === idSeleccionado);
    const anosBase = parseFloat(delito.prescripcionAnos);

    // 2. Manejo de Fechas
    // Truco: Usar UTC para evitar problemas de zona horaria al sumar a√±os puros
    let fechaInicio = new Date(fechaHechoStr + "T00:00:00"); 

    // 3. Verificar Suspensi√≥n
    let diasSuspension = 0;
    const tieneSuspension = document.getElementById('chkSuspension').checked;
    
    if (tieneSuspension) {
        const fSuspIniStr = document.getElementById('fSuspIni').value;
        const fSuspFinStr = document.getElementById('fSuspFin').value;
        
        if (fSuspIniStr && fSuspFinStr) {
            const fSi = new Date(fSuspIniStr);
            const fSf = new Date(fSuspFinStr);
            const diffTime = Math.abs(fSf - fSi);
            diasSuspension = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
        }
    }

    // 4. C√°lculo Ordinario
    // Fecha Base + A√±os de Prescripci√≥n + D√≠as de Suspensi√≥n
    let fOrdinaria = new Date(fechaInicio);
    fOrdinaria.setFullYear(fOrdinaria.getFullYear() + anosBase); // Sumar a√±os
    fOrdinaria.setDate(fOrdinaria.getDate() + diasSuspension); // Sumar suspensi√≥n

    // 5. C√°lculo Extraordinario (Judicial)
    // Lapso es Base + Mitad (1.5)
    const anosExtra = anosBase * 1.5;
    const anosEnteros = Math.floor(anosExtra);
    const mesesRestantes = (anosExtra - anosEnteros) * 12; // Si es 7.5, son 7 a√±os y 6 meses

    let fExtraordinaria = new Date(fechaInicio);
    fExtraordinaria.setFullYear(fExtraordinaria.getFullYear() + anosEnteros);
    fExtraordinaria.setMonth(fExtraordinaria.getMonth() + mesesRestantes);
    fExtraordinaria.setDate(fExtraordinaria.getDate() + diasSuspension); // Sumar suspensi√≥n tambi√©n aqu√≠

    // 6. Mostrar Resultados
    document.getElementById('resPrescripcion').style.display = 'block';
    
    // Formatear fechas para mostrar
    const options = { year: 'numeric', month: 'long', day: 'numeric' };

    document.getElementById('resAnosOrd').innerText = anosBase;
    document.getElementById('resFechaOrd').innerText = fOrdinaria.toLocaleDateString('es-ES', options);

    document.getElementById('resAnosExtra').innerText = anosExtra;
    document.getElementById('resFechaExtra').innerText = fExtraordinaria.toLocaleDateString('es-ES', options);

    // Nota de suspensi√≥n
    const divNota = document.getElementById('resNotaSusp');
    if (diasSuspension > 0) {
        divNota.innerHTML = `‚ö†Ô∏è <b>Nota:</b> Se han sumado <b>${diasSuspension} d√≠as</b> a las fechas de prescripci√≥n debido al periodo de suspensi√≥n indicado.`;
    } else {
        divNota.innerHTML = "";
    }
}
// ==========================================
// M√ìDULO 3: C√ÅLCULO DE PRESCRIPCI√ìN DE LA PENA
// ==========================================

function calcularPrescripcionPena() {
    
    // ============================================================
    // 0. BLOQUEO DE SEGURIDAD (Igual que en Dosimetr√≠a)
    // ============================================================
    if (typeof validarAccesoPremium === 'function') {
        if (!validarAccesoPremium()) return; 
    } else {
        if (typeof suscripcionVencida !== 'undefined' && suscripcionVencida) {
            alert("‚ö†Ô∏è Su suscripci√≥n ha vencido.");
            return;
        }
    }

    // ============================================================
    // 1. OBTENER DATOS (TU L√ìGICA ORIGINAL)
    // ============================================================
    const a = parseInt(document.getElementById('pen_a').value || 0);
    const m = parseInt(document.getElementById('pen_m').value || 0);
    const d = parseInt(document.getElementById('pen_d').value || 0);
    const tipo = document.getElementById('pen_tipo').value;
    const esConcurso = document.getElementById('chkConcursoPena').checked;
    const fInicioStr = document.getElementById('pen_inicio').value;

    if (a === 0 && m === 0 && d === 0) return alert("Ingrese el tiempo de la pena.");
    if (!fInicioStr) return alert("Ingrese la fecha de inicio del c√≥mputo.");

    // 2. C√ÅLCULOS
    let penaBaseDecimal = a + (m / 12) + (d / 360);
    let iter = `>>> AN√ÅLISIS DE PRESCRIPCI√ìN DE PENA (ART. 112 C.P.) <<<\n`;
    iter += `1. PENA IMPUESTA: ${a}a ${m}m ${d}d.\n   - Tipo: ${tipo}\n\n`;

    let tiempoOrdinario = 0;
    if (['Presidio', 'Prisi√≥n', 'Arresto'].includes(tipo)) {
        tiempoOrdinario = penaBaseDecimal * 1.5;
        iter += `2. C√ÅLCULO: Se suma la MITAD (1/2).\n`;
    } else {
        tiempoOrdinario = penaBaseDecimal + (penaBaseDecimal / 3);
        iter += `2. C√ÅLCULO: Se suma la TERCERA PARTE (1/3).\n`;
    }

    // 3. CONCURSO
    let tiempoFinal = tiempoOrdinario;
    if (esConcurso) {
        const incrementoConcurso = tiempoOrdinario / 4;
        tiempoFinal += incrementoConcurso;
        iter += `3. CONCURSO: Se suma 1/4 (+${decimalAA√±osMesesDias(incrementoConcurso)}).\n`;
    }

    // 4. FECHA FINAL
    const objTiempo = desglosarDecimal(tiempoFinal);
    const fechaInicio = new Date(fInicioStr + "T12:00:00");
    const fechaFinal = new Date(fechaInicio);
    fechaFinal.setFullYear(fechaFinal.getFullYear() + objTiempo.a);
    fechaFinal.setMonth(fechaFinal.getMonth() + objTiempo.m);
    fechaFinal.setDate(fechaFinal.getDate() + objTiempo.d);

    iter += `4. FECHA FINAL: ${fechaFinal.toLocaleDateString()}\n`;

    // 5. MOSTRAR RESULTADOS
    document.getElementById('resPenaBox').style.display = 'block';
    document.getElementById('lblTiempoPena').innerText = `${objTiempo.a} A√±os, ${objTiempo.m} Meses, ${objTiempo.d} D√≠as`;
    document.getElementById('lblFechaPena').innerText = fechaFinal.toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
    document.getElementById('iterPena').innerText = iter;
    document.getElementById('resPenaBox').scrollIntoView({ behavior: 'smooth' });
}



function desglosarDecimal(anosDecimales) {
    const a = Math.floor(anosDecimales);
    const restoAnos = anosDecimales - a;
    
    const mesesDecimales = restoAnos * 12;
    const m = Math.floor(mesesDecimales);
    
    const diasDecimales = (mesesDecimales - m) * 30;
    const d = Math.round(diasDecimales);
    
    return { a, m, d };
}

function decimalAA√±osMesesDias(val) {
    const o = desglosarDecimal(val);
    return `${o.a}a, ${o.m}m, ${o.d}d`;
}
// ==========================================
// C√ìDIGO JS PARA LA NUEVA DOSIMETR√çA AVANZADA
// ==========================================

let modificadoresTemporales = []; // Para el admin
let contadorDelitosUI = 0; // Para generar IDs √∫nicos

// --- B. INTERFAZ DE USUARIO (DOSIMETR√çA DIN√ÅMICA) ---

function agregarBloqueDelito() {
    contadorDelitosUI++;
    const idBloque = `delitoUI_${contadorDelitosUI}`;
    const idSelect = `sel_${contadorDelitosUI}`; 
    const contenedor = document.getElementById('contenedorDelitosDosimetria');
    
    const div = document.createElement('div');
    div.className = "sub-modulo";
    div.style.display = "block"; 
    div.style.borderLeft = "5px solid #1a73e8";
    div.style.marginBottom = "15px";
    div.id = idBloque;

    div.innerHTML = `
        <style>
            .opcion-multilinea { white-space: normal !important; border-bottom: 1px solid #f0f0f0; padding: 6px; font-size: 0.9em; }
        </style>

        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 style="margin:0;">Delito #${contadorDelitosUI}</h3>
            <button onclick="eliminarBloqueDelito('${idBloque}')" style="color:red; border:none; background:none; font-weight:bold; cursor:pointer;">üóëÔ∏è Eliminar</button>
        </div>
        
        <label>Buscar delito:</label>
        <input type="text" placeholder="Escriba para filtrar..." onkeyup="filtrarDelitosDosimetria(this, '${idSelect}')" style="margin-bottom:5px; background:#f0f8ff;">
        
        <select id="${idSelect}" class="sel-delito-dosim" onchange="cargarInfoDelitoDosimetria(this, '${idBloque}')" size="7" style="height: auto; min-height: 100px;">
            <option value="">-- Resultados de la b√∫squeda --</option>
            ${generarOpcionesDelitos()} 
        </select>
        
        <div class="info-base-dosim" style="background:#e8f0fe; padding:10px; margin-top:10px; border-radius:8px; font-size:0.9em; display:none; border: 1px solid #b6d4fe;">
            <div class="grid-2">
                <div><b>Ley:</b> <span class="lbl-ley"></span></div>
                <div><b>Art√≠culo:</b> <span class="lbl-art"></span></div>
            </div>
            <div style="margin-top:5px;">
                <b>Pena:</b> <span class="lbl-sancion" style="color:#d93025; font-weight:bold;"></span> 
                (<span class="lbl-rango"></span>)<br>
                <b>T√©rmino Medio:</b> <span class="lbl-media" style="color:#1a73e8; font-weight:bold;"></span>
            </div>
        </div>

        <div style="margin-top:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
            <label style="color:#333; font-weight:bold;">1. Pena Base Individualizada:</label>
            <div class="grid-3">
                <input type="number" class="pi-a" placeholder="A√±os" oninput="calcularPenaIndividual('${idBloque}')">
                <input type="number" class="pi-m" placeholder="Meses" oninput="calcularPenaIndividual('${idBloque}')">
                <input type="number" class="pi-d" placeholder="D√≠as" oninput="calcularPenaIndividual('${idBloque}')">
            </div>
        </div>

        <div style="margin-top:10px; border-bottom:1px solid #eee; padding-bottom:10px; background:#fff8e1; padding:10px; border-radius:5px;">
            <label style="color:#e67e22; font-weight:bold; margin-top:0;">2. Agravante/Atenuante Espec√≠fica (Manual):</label>
            <div class="grid-2">
                <div>
                    <label style="font-weight:normal; font-size:0.85em; margin:0;">Fracci√≥n (Ej: 1/4):</label>
                    <input type="text" class="manual-frac" placeholder="1/4" oninput="calcularPenaIndividual('${idBloque}')" style="background:white;">
                </div>
                <div>
                    <label style="font-weight:normal; font-size:0.85em; margin:0;">Acci√≥n:</label>
                    <select class="manual-tipo" onchange="calcularPenaIndividual('${idBloque}')" style="background:white;">
                        <option value="Aumento">AUMENTAR (+)</option>
                        <option value="Disminucion">REBAJAR (-)</option>
                    </select>
                </div>
            </div>
        </div>

        <div style="margin-top:10px; background:#f9f9f9; padding:10px; border-radius:8px;">
            <div class="area-modificadores" style="display:none; margin-bottom:15px;">
                <label style="color:#6a1b9a;">Circunstancias Ley Especial:</label>
                <div class="lista-checks-mod"></div>
            </div>

            <div style="margin-bottom:15px;">
                <label>3. Grado de Ejecuci√≥n:</label>
                <select class="sel-ejecucion" onchange="toggleFraccionTentativa(this); calcularPenaIndividual('${idBloque}')">
                    <option value="Consumado">Consumado</option>
                    <option value="Frustrado">Frustrado (1/3)</option>
                    <option value="Tentativa">Tentativa (Variable)</option>
                </select>
                <div class="box-tentativa" style="display:none; margin-top:5px;">
                    <input type="text" class="input-fraccion-tentativa" value="1/2" placeholder="Ej: 1/2" oninput="calcularPenaIndividual('${idBloque}')">
                </div>
            </div>

            <div>
                <label>4. Grado de Intervenci√≥n:</label>
                <select class="sel-participacion" onchange="toggleFraccionParticipacion(this); calcularPenaIndividual('${idBloque}')">
                    <option value="Perpetrador">Autor / Coautor</option>
                    <option value="Complice">C√≥mplice (1/2)</option>
                    <option value="Variable">Otro (Variable)</option>
                </select>
                <div class="box-participacion-var" style="display:none; margin-top:5px;">
                    <input type="text" class="input-fraccion-part" value="1/2" placeholder="Ej: 1/4" oninput="calcularPenaIndividual('${idBloque}')">
                </div>
            </div>

            <div style="margin-top:15px; border-top:1px dashed #ccc; padding-top:10px;">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <label style="margin:0; font-weight:bold; color:#2e7d32;">Admisi√≥n de Hechos (Individual)</label>
                    <div class="switch-container" style="padding: 2px; margin:0; border:none; background:none;">
                        <label class="switch">
                            <input type="checkbox" class="chk-admision-ind" onchange="toggleAdmisionIndividual(this); calcularPenaIndividual('${idBloque}')">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="box-admision-ind" style="display:none; margin-top:5px;">
                    <input type="text" class="input-fraccion-adm-ind" value="1/3" placeholder="Ej: 1/3" oninput="calcularPenaIndividual('${idBloque}')">
                </div>
            </div>
        </div>

        <div style="margin-top:10px; background:#e6ffed; padding:10px; border-radius:8px; border: 2px solid #2e7d32; text-align:center;">
             <small style="color:#2e7d32; font-weight:bold; text-transform:uppercase;">Pena Individual Estimada:</small><br>
             <span class="lbl-resultado-individual" style="font-size:1.2em; font-weight:bold; color:#1b5e20;">--</span>
        </div>
    `;
    
    contenedor.appendChild(div);
    verificarConcursoUI();
}



// === AGREGA ESTA PEQUE√ëA FUNCI√ìN NUEVA DEBAJO DE LA ANTERIOR ===
function toggleFraccionParticipacion(select) {
    const parentDiv = select.parentNode;
    const box = parentDiv.querySelector('.box-participacion-var');
    if (select.value === 'Variable') {
        box.style.display = 'block';
    } else {
        box.style.display = 'none';
    }
}

// ==========================================
// HELPER PARA B√öSQUEDAS (Ignora acentos y may√∫sculas)
// ==========================================
function normalizarTexto(texto) {
    if (!texto) return "";
    return texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
}



function generarOpcionesDelitos() {
    // Agregamos la clase 'opcion-multilinea' para que el CSS funcione
    return catalogoDelitos.map(d => `<option value="${d.id}" class="opcion-multilinea">${d.nombre}</option>`).join('');
}


function cargarInfoDelitoDosimetria(select, idBloque) {
    const bloque = document.getElementById(idBloque);
    const idDelito = select.value;
    const delito = catalogoDelitos.find(d => d.id === idDelito);
    
    if(!delito) {
        bloque.querySelector('.info-base-dosim').style.display = 'none';
        return;
    }

    bloque.querySelector('.info-base-dosim').style.display = 'block';
    bloque.querySelector('.lbl-ley').innerText = delito.ley || "N/A";
    bloque.querySelector('.lbl-art').innerText = delito.articulo || "N/A";
    bloque.querySelector('.lbl-sancion').innerText = delito.tipoSancion || "No especificada";
    bloque.querySelector('.lbl-rango').innerText = `${delito.min} a ${delito.max} a√±os`;
    
    // Convertimos a√±os a d√≠as (* 360) para mostrar el t√©rmino medio en texto
    const mediaAnos = (delito.min + delito.max) / 2;
    bloque.querySelector('.lbl-media').innerText = desglosar(mediaAnos * 360);

    // Cargar Modificadores con evento ONCHANGE
    const areaMod = bloque.querySelector('.area-modificadores');
    const listaMod = bloque.querySelector('.lista-checks-mod');
    listaMod.innerHTML = "";
    
    if(delito.modificadores && delito.modificadores.length > 0) {
        areaMod.style.display = 'block';
        delito.modificadores.forEach((m) => {
            const divCheck = document.createElement('div');
            // AQU√ç EST√Å EL CAMBIO CLAVE: agregamos onchange="calcularPenaIndividual..."
            divCheck.innerHTML = `
                <label style="display:inline; font-weight:normal;">
                    <input type="checkbox" class="chk-mod" 
                           data-tipo="${m.tipo}" 
                           data-fraccion="${m.fraccion}" 
                           data-nombre="${m.nombre}"
                           onchange="calcularPenaIndividual('${idBloque}')"> 
                    ${m.nombre} (${m.tipo === 'Aumento' ? '+' : '-'}${m.fraccion})
                </label>
            `;
            listaMod.appendChild(divCheck);
        });
    } else {
        areaMod.style.display = 'none';
    }
    
    // Ejecutar c√°lculo inicial (limpiar resultado anterior)
    calcularPenaIndividual(idBloque);
}



function verificarConcursoUI() {
    const num = document.getElementById('contenedorDelitosDosimetria').childElementCount;
    document.getElementById('seccionConcurso').style.display = (num > 1) ? 'block' : 'none';
}

function actualizarUIConcurso() {
    const tipo = document.getElementById('tipoConcurso').value;
    document.getElementById('uiConcursoIdeal').style.display = (tipo === 'Ideal') ? 'block' : 'none';
}

// --- C. L√ìGICA DE C√ÅLCULO (CON REORDENAMIENTO) ---

function calcularDosimetriaFinal() {
    const bloques = document.querySelectorAll('#contenedorDelitosDosimetria .sub-modulo');
    if(bloques.length === 0) return alert("Agregue al menos un delito.");

    let penasIndividuales = [];
    let iter = ">>> ITER DOSIM√âTRICO <<<\n\n";

    bloques.forEach((bloque, index) => {
        let nombreDelito = "Delito Desconocido";
        if(bloque.querySelector('.sel-delito-dosim').selectedIndex > 0) {
            nombreDelito = bloque.querySelector('.sel-delito-dosim').selectedOptions[0].text;
        }
        
        // A. Obtener pena base manual
        const a = parseFloat(bloque.querySelector('.pi-a').value) || 0;
        const m = parseFloat(bloque.querySelector('.pi-m').value) || 0;
        const d = parseFloat(bloque.querySelector('.pi-d').value) || 0;
        let penaHoras = aHoras(a, m, d, 0);

        iter += `DELITO ${index+1}: ${nombreDelito.toUpperCase()}\n`;
        iter += `   [BASE] Art. 37 CP: ${desglosarHoras(penaHoras)}\n`;

        // B. C√ÅLCULO EN CASCADA
        
        // --- 1. NUEVO: AJUSTE MANUAL ---
        const fracManual = bloque.querySelector('.manual-frac').value;
        const tipoManual = bloque.querySelector('.manual-tipo').value;
        if(fracManual && fracManual.includes('/')) {
            const [n, den] = fracManual.split('/').map(Number);
            if(den > 0) {
                const cantidad = penaHoras * (n/den);
                if(tipoManual === 'Aumento') {
                    penaHoras += cantidad;
                    iter += `   [AGRAVANTE MANUAL] Aumento de ${fracManual}: +${desglosarHoras(cantidad)}\n`;
                } else {
                    penaHoras -= cantidad;
                    iter += `   [ATENUANTE MANUAL] Rebaja de ${fracManual}: -${desglosarHoras(cantidad)}\n`;
                }
            }
        }

        // 2. Modificadores (Checks)
        const checks = bloque.querySelectorAll('.chk-mod:checked');
        checks.forEach(chk => {
            const [n, den] = chk.dataset.fraccion.split('/').map(Number);
            const cantidad = penaHoras * (n/den);
            if(chk.dataset.tipo === 'Aumento') { penaHoras += cantidad; iter += `   [AGRAVANTE LEY] ${chk.dataset.nombre}: +${desglosarHoras(cantidad)}\n`; }
            else { penaHoras -= cantidad; iter += `   [ATENUANTE LEY] ${chk.dataset.nombre}: -${desglosarHoras(cantidad)}\n`; }
        });

        // 3. Grado de Ejecuci√≥n
        const ejecucion = bloque.querySelector('.sel-ejecucion').value;
        if(ejecucion !== 'Consumado') {
            let rebaja = 0;
            if(ejecucion === 'Frustrado') rebaja = penaHoras / 3;
            else if(ejecucion === 'Tentativa') {
                const [n, den] = (bloque.querySelector('.input-fraccion-tentativa').value || "1/2").split('/').map(Number);
                if(den>0) rebaja = penaHoras * (n/den);
            }
            if(rebaja > 0) { penaHoras -= rebaja; iter += `   [EJECUCI√ìN] ${ejecucion}: -${desglosarHoras(rebaja)}\n`; }
        }

        // 4. Participaci√≥n
        const part = bloque.querySelector('.sel-participacion').value;
        if(part !== 'Perpetrador') {
            let rebaja = 0;
            let fracc = "1/2";
            if(part === 'Complice') rebaja = penaHoras / 2;
            else if(part === 'Variable') {
                fracc = bloque.querySelector('.input-fraccion-part').value || "1/2";
                const [n, den] = fracc.split('/').map(Number);
                if(den>0) rebaja = penaHoras * (n/den);
            }
            if(rebaja > 0) { penaHoras -= rebaja; iter += `   [PARTICIPACI√ìN] ${part} (${fracc}): -${desglosarHoras(rebaja)}\n`; }
        }

        // 5. ADMISI√ìN DE HECHOS INDIVIDUAL
        const admiteIndividual = bloque.querySelector('.chk-admision-ind').checked;
        if(admiteIndividual) {
            const fraccAdm = bloque.querySelector('.input-fraccion-adm-ind').value || "1/3";
            const [n, den] = fraccAdm.split('/').map(Number);
            if(den > 0) {
                const rebajaAdm = penaHoras * (n/den);
                penaHoras -= rebajaAdm;
                iter += `   [ADMISI√ìN INDIVIDUAL] Rebaja ${fraccAdm}: -${desglosarHoras(rebajaAdm)}\n`;
            }
        }

        iter += `   = SUB-TOTAL FINAL: ${desglosarHoras(penaHoras)}\n\n`;
        penasIndividuales.push(penaHoras);
    });

    // C. CONCURSO Y TOTALIZACI√ìN (Sin cambios, solo copiando para integridad)
    let penaTotalHoras = 0;
    if(penasIndividuales.length > 1) {
        penasIndividuales.sort((a, b) => b - a);
        const penaMayor = penasIndividuales[0];
        const tipoConcurso = document.getElementById('tipoConcurso').value;
        iter += `--- REGLAS DE CONCURSO (${tipoConcurso.toUpperCase()}) ---\n`;

        if(tipoConcurso === 'Real') {
            let sumaOtras = 0;
            for(let i=1; i < penasIndividuales.length; i++) sumaOtras += penasIndividuales[i];
            const aumento = sumaOtras / 2;
            penaTotalHoras = penaMayor + aumento;
            iter += `   - Pena Grave: ${desglosarHoras(penaMayor)} + Mitad Restantes: ${desglosarHoras(aumento)}\n`;
        
        } else if (tipoConcurso === 'SinConcurso') {
            iter += `   - Suma Aritm√©tica (Sin l√≠mites de concurso):\n`;
            penasIndividuales.forEach(p => penaTotalHoras += p);

        } else { // Ideal
            const fracInput = document.getElementById('fraccionIdeal').value || "0";
            let aumento = 0;
            if(fracInput.includes('/')) {
                const [n, d] = fracInput.split('/').map(Number);
                if(d>0) aumento = penaMayor * (n/d);
            }
            penaTotalHoras = penaMayor + aumento;
            iter += `   - Pena Grave + Aumento Ideal (${fracInput})\n`;
        }
    } else {
        penaTotalHoras = penasIndividuales[0];
        iter += `--- DELITO √öNICO (Sin Concurso) ---\n`;
    }

    // D. ADMISI√ìN GLOBAL
    const switchGlobal = document.getElementById('chkAdmision');
    if(!switchGlobal.disabled && switchGlobal.checked) {
        const fracAdm = document.getElementById('fraccionAdmision').value || "1/3";
        const [n, d] = fracAdm.split('/').map(Number);
        if(d>0) {
            const rebaja = penaTotalHoras * (n/d);
            penaTotalHoras -= rebaja;
            iter += `\n--- ADMISI√ìN DE LOS HECHOS (GLOBAL) ---\n   - Rebaja (${fracAdm}): -${desglosarHoras(rebaja)}\n`;
        }
    } else if (switchGlobal.disabled) {
        iter += `\n[NOTA] La Admisi√≥n Global no se aplica porque se detectaron admisiones individuales.\n`;
    }

    // MOSTRAR RESULTADO
    document.getElementById('resDosimetria').style.display = 'block';
    document.getElementById('lblPenaFinal').innerText = desglosarHoras(penaTotalHoras);
    document.getElementById('iterDosimetria').innerText = iter;
    
    // Calcular fecha final
    const hoy = new Date();
    const horasEnDias = Math.floor(penaTotalHoras / 24); 
    hoy.setDate(hoy.getDate() + horasEnDias);
    document.getElementById('lblFechaFinal').innerText = hoy.toLocaleDateString();
}


// L√ìGICA DE CONVERSIONES Y CONMUTACIONES
// ==========================================

function calcularEquivalencia() {
    // 1. Obtener d√≠as totales
    const a = parseInt(document.getElementById('conv_a').value || 0);
    const m = parseInt(document.getElementById('conv_m').value || 0);
    const d = parseInt(document.getElementById('conv_d').value || 0);
    
    // Usamos 360 y 30 para estandarizar
    let totalDiasOrigen = (a * 360) + (m * 30) + d;

    if (totalDiasOrigen <= 0) return alert("Ingrese el tiempo a convertir.");

    const regla = document.getElementById('tipoConversion').value;
    let diasResultantes = 0;
    let explicacion = "";

    // 2. Aplicar Reglas Matem√°ticas
    switch(regla) {
        // HACIA PRISI√ìN
        case 'arr_pri': // 2 Arresto = 1 Prisi√≥n
            diasResultantes = totalDiasOrigen / 2;
            explicacion = "Regla: 2 d√≠as de Arresto equivalen a 1 de Prisi√≥n (Entre 2).";
            break;
        case 'rel_pri': // 2 Rel/Conf = 1 Prisi√≥n
            diasResultantes = totalDiasOrigen / 2;
            explicacion = "Regla: 2 d√≠as de Releg/Conf equivalen a 1 de Prisi√≥n (Entre 2).";
            break;
        
        // HACIA PRESIDIO
        case 'arr_pres': // 3 Arresto = 1 Presidio
            diasResultantes = totalDiasOrigen / 3;
            explicacion = "Regla: 3 d√≠as de Arresto equivalen a 1 de Presidio (Entre 3).";
            break;
        case 'rel_pres': // 4 Relegaci√≥n = 1 Presidio
            diasResultantes = totalDiasOrigen / 4;
            explicacion = "Regla: 4 d√≠as de Relegaci√≥n equivalen a 1 de Presidio (Entre 4).";
            break;
        case 'conf_pres': // 5 Conf/Exp = 1 Presidio
            diasResultantes = totalDiasOrigen / 5;
            explicacion = "Regla: 5 d√≠as de Conf/Exp equivalen a 1 de Presidio (Entre 5).";
            break;
        case 'pri_pres': // 2 Prisi√≥n = 1 Presidio
            diasResultantes = totalDiasOrigen / 2;
            explicacion = "Regla: 2 d√≠as de Prisi√≥n equivalen a 1 de Presidio (Entre 2).";
            break;
    }

    // 3. Mostrar Resultado
    const div = document.getElementById('resEquivalencia');
    div.style.display = 'block';
    
    div.innerHTML = `
        <strong>Tiempo Origen:</strong> ${desglosar(totalDiasOrigen)}<br>
        <small>${explicacion}</small><hr>
        <strong style="color:#e67e22; font-size:1.2em;">EQUIVALE A: ${desglosar(Math.floor(diasResultantes))}</strong>
        <br><small>(D√≠as exactos: ${diasResultantes.toFixed(2)})</small>
    `;
}


function calcularConmutacion() {
    // 1. Obtener d√≠as totales
    const a = parseInt(document.getElementById('conm_a').value || 0);
    const m = parseInt(document.getElementById('conm_m').value || 0);
    const d = parseInt(document.getElementById('conm_d').value || 0);
    
    let diasBase = (a * 360) + (m * 30) + d;
    if (diasBase <= 0) return alert("Ingrese la pena original.");

    const tipo = document.getElementById('tipoConmutacion').value;
    let aumento = 0;
    let reglaTxt = "";

    // 2. Calcular Aumento
    if (tipo === 'pres_a_pri') {
        // Aumento de 1/3
        aumento = diasBase / 3;
        reglaTxt = "Aumento de una tercera parte (1/3)";
    } else if (tipo === 'pri_a_arr') {
        // Aumento de 1/4
        aumento = diasBase / 4;
        reglaTxt = "Aumento de una cuarta parte (1/4)";
    } else if (tipo === 'pri_a_conf') {
        // Aumento de 1/3
        aumento = diasBase / 3;
        reglaTxt = "Aumento de una tercera parte (1/3)";
    }

    const totalFinal = diasBase + aumento;

    // 3. Mostrar Resultado
    const div = document.getElementById('resConmutacion');
    div.style.display = 'block';
    
    div.innerHTML = `
        <strong>Pena Original:</strong> ${desglosar(diasBase)}<br>
        <small>${reglaTxt}: +${desglosar(Math.floor(aumento))}</small><hr>
        <strong style="color:#2980b9; font-size:1.2em;">NUEVA PENA: ${desglosar(Math.floor(totalFinal))}</strong>
    `;
}

function calcularOperacionFraccion() {
    // 1. Obtener Lapso Base
    const a = parseInt(document.getElementById('op_a').value || 0);
    const m = parseInt(document.getElementById('op_m').value || 0);
    const d = parseInt(document.getElementById('op_d').value || 0);
    
    // Convertir a d√≠as (Base 360)
    const totalBase = (a * 360) + (m * 30) + d;
    
    if (totalBase <= 0) return alert("Ingrese el lapso base.");

    // 2. Obtener Fracci√≥n
    const fracStr = document.getElementById('op_frac').value;
    if (!fracStr.includes('/')) return alert("Ingrese una fracci√≥n v√°lida (Ej: 1/3)");
    
    const [num, den] = fracStr.split('/').map(Number);
    if (!den || den === 0) return alert("Fracci√≥n inv√°lida.");

    // 3. Calcular la porci√≥n (La fracci√≥n del tiempo)
    const porcionDias = Math.floor(totalBase * (num / den));

    // 4. Realizar la Suma o Resta
    const operacion = document.getElementById('op_tipo').value;
    let totalFinal = 0;
    let signo = "";

    if (operacion === 'sumar') {
        totalFinal = totalBase + porcionDias;
        signo = "+ SUMA";
    } else {
        totalFinal = totalBase - porcionDias;
        signo = "- RESTA";
    }

    // 5. Mostrar Resultado
    const div = document.getElementById('resOperacionFrac');
    div.style.display = 'block';
    
    div.innerHTML = `
        <div style="font-size:0.9em;">
            <b>Base:</b> ${desglosar(totalBase)}<br>
            <b>El ${fracStr} es:</b> ${desglosar(porcionDias)}
        </div>
        <hr>
        <div style="font-size:1.1em; color:#8e44ad; font-weight:bold;">
            RESULTADO (${signo}):<br>
            ${desglosar(totalFinal)}
        </div>
    `;
}
// ==========================================
// FUNCI√ìN ADMIN: CREAR ARCHIVO MAESTRO
// ==========================================
async function publicarCatalogoMaestro() {
    if(!confirm("¬øDesea empaquetar todos los delitos en un Archivo Maestro?\nEsto permitir√° que 1000 usuarios descarguen todo gastando solo 1 lectura cada uno.")) return;

    try {
        console.log("Leyendo todos los delitos individuales...");
        // 1. Leemos (gastamos lecturas nosotros una sola vez)
        const snapshot = await db.collection('configuracion_global').doc('catalogo_delitos').collection('lista').get();
        
        let listaMaestra = [];
        snapshot.forEach(doc => {
            let d = doc.data();
            d.id = doc.id; // Guardamos el ID original
            listaMaestra.push(d);
        });

        console.log(`Empaquetando ${listaMaestra.length} delitos...`);

        // 2. Guardamos el PAQUETE COMPLETO en un solo documento
        // Usamos JSON.stringify para guardarlo como texto simple (es m√°s barato y r√°pido)
        const jsonString = JSON.stringify(listaMaestra);

        await db.collection('configuracion_global').doc('catalogo_maestro').set({
            contenido: jsonString,
            fechaPublicacion: Date.now(),
            totalDelitos: listaMaestra.length
        });

        alert(`‚úÖ ¬°√âXITO!\nSe ha publicado el Archivo Maestro con ${listaMaestra.length} delitos.\n\nAhora los usuarios descargar√°n este √∫nico archivo en lugar de consultar toda la base de datos.`);

    } catch (e) {
        console.error(e);
        alert("Error al publicar: " + e.message);
    }
}
function descargarPlantillaDelitos() {
    const data = [
        {
            "NOMBRE": "Ej: Homicidio Intencional",
            "LEY": "C√≥digo Penal",
            "ARTICULO": "405",
            "MIN_ANOS": 12,
            "MAX_ANOS": 18,
            "SANCION": "Presidio",   // Opciones: Presidio, Prisi√≥n, Arresto
            "ACCION": "P√∫blica",     // Opciones: P√∫blica, Privada
            "CONDICION": "Prescriptible" // Opciones: Prescriptible, Imprescriptible
        }
    ];
    
    const ws = XLSX.utils.json_to_sheet(data);
    const wb = XLSX.utils.book_new();
    XLSX.utils.book_append_sheet(wb, ws, "Plantilla_Delitos");
    XLSX.writeFile(wb, "Plantilla_Carga_Masiva_Iuris.xlsx");
}
async function procesarExcelDelitos() {
    const input = document.getElementById('inputExcelDelitos');
    const status = document.getElementById('statusExcel');
    
    if(!input.files[0]) return;

    status.innerText = "‚è≥ Leyendo archivo...";
    
    const reader = new FileReader();
    reader.onload = async (e) => {
        try {
            const data = new Uint8Array(e.target.result);
            const workbook = XLSX.read(data, {type: 'array'});
            const firstSheet = workbook.Sheets[workbook.SheetNames[0]];
            const jsonData = XLSX.utils.sheet_to_json(firstSheet);

            if(jsonData.length === 0) return alert("El archivo est√° vac√≠o.");

            if(!confirm(`Se encontraron ${jsonData.length} delitos. ¬øDesea subirlos a la base de datos?`)) {
                input.value = ""; // Limpiar
                status.innerText = "";
                return;
            }

            status.innerText = "üöÄ Subiendo a Firebase... Por favor espere.";
            
            let contador = 0;
            const batchSize = 400; // Firebase permite lotes de 500 max
            let batch = db.batch();

            for (let i = 0; i < jsonData.length; i++) {
                const row = jsonData[i];
                
                // Validamos que tenga al menos nombre
                if(!row.NOMBRE) continue;

                // Referencia a documento nuevo
                const docRef = db.collection('configuracion_global').doc('catalogo_delitos').collection('lista').doc();
                
                batch.set(docRef, {
                    nombre: row.NOMBRE || "Sin Nombre",
                    ley: row.LEY || "N/A",
                    articulo: row.ARTICULO ? String(row.ARTICULO) : "N/A",
                    min: parseFloat(row.MIN_ANOS) || 0,
                    max: parseFloat(row.MAX_ANOS) || 0,
                    tipoSancion: row.SANCION || "Prisi√≥n",
                    tipoAccion: row.ACCION || "P√∫blica",
                    condicion: row.CONDICION || "Prescriptible",
                    fechaCreacion: Date.now()
                });

                contador++;

                // Si llegamos al l√≠mite del lote o es el √∫ltimo, enviamos
                if (contador % batchSize === 0 || i === jsonData.length - 1) {
                    await batch.commit();
                    batch = db.batch(); // Reiniciar lote
                    status.innerText = `‚úÖ Procesados ${contador} de ${jsonData.length}...`;
                }
            }

            alert(`¬°√âxito! Se importaron ${contador} delitos correctamente.`);
            status.innerText = "Carga completada.";
            input.value = ""; // Limpiar input
            
            // Actualizar lista visual
            cargarDelitosEnAdmin(); 

        } catch (error) {
            console.error(error);
            alert("Error al procesar el archivo. Verifique que use la plantilla correcta.");
            status.innerText = "Error en la carga.";
        }
    };
    reader.readAsArrayBuffer(input.files[0]);
}
function prepararEdicion(id, datos) {
    // 1. Llenar los campos con los datos del delito seleccionado
    document.getElementById('admDelitoNombre').value = datos.nombre || "";
    document.getElementById('admDelitoLey').value = datos.ley || "";
    document.getElementById('admDelitoArt').value = datos.articulo || "";
    document.getElementById('admDelitoMin').value = datos.min || "";
    document.getElementById('admDelitoMax').value = datos.max || "";
    document.getElementById('admDelitoSancion').value = datos.tipoSancion || "Prisi√≥n";
    document.getElementById('admDelitoTipo').value = datos.tipoAccion || "P√∫blica";
    document.getElementById('admDelitoCondicion').value = datos.condicion || "Prescriptible";

    // 2. Cambiar estado global a "EDITANDO"
    idDelitoEnEdicion = id;

    // 3. Cambiar visualmente el bot√≥n para que se note
    const btn = document.querySelector('#adminPanel button[onclick="guardarDelitoAvanzado()"]');
    if(btn) {
        btn.id = "btnGuardarDelito"; // Asegurar que tenga ID
        btn.innerText = "üíæ ACTUALIZAR DATOS DELITO";
        btn.style.background = "#e67e22"; // Naranja para indicar edici√≥n
    }
    
    // 4. Scroll hacia arriba para ver el formulario
    document.getElementById('adminPanel').scrollIntoView({ behavior: 'smooth' });
    
    alert(`Modo Edici√≥n Activado para: ${datos.nombre}`);
}
// ==========================================
// UX: ANIMACI√ìN "EMPUJONCITO" DEL MEN√ö
// ==========================================
document.addEventListener('DOMContentLoaded', () => {
    // Esperamos 1.5 segundos a que el usuario se ubique
    setTimeout(() => {
        const menu = document.querySelector('.tabs-container');
        if(menu) {
            // 1. Deslizar suavemente a la derecha (mostrar que hay m√°s)
            menu.scrollBy({ left: 80, behavior: 'smooth' });
            
            // 2. Regresar al inicio autom√°ticamente
            setTimeout(() => {
                menu.scrollBy({ left: -80, behavior: 'smooth' });
            }, 800);
        }
    }, 1500);
});
// ==========================================
// NUEVAS FUNCIONES DE CONTROL DE ADMISI√ìN
// ==========================================

// 1. Eliminar Bloque y recalcular UI
function eliminarBloqueDelito(idBloque) {
    document.getElementById(idBloque).remove();
    verificarConcursoUI();
    verificarBloqueoAdmisionGlobal(); // Chequear si desbloqueamos el global
}

// 2. Mostrar/Ocultar caja individual y Bloquear Global
function toggleAdmisionIndividual(checkbox) {
    // Mostrar u ocultar la cajita verde de la fracci√≥n
    const parent = checkbox.closest('.sub-modulo');
    const box = parent.querySelector('.box-admision-ind');
    box.style.display = checkbox.checked ? 'block' : 'none';

    // Ejecutar l√≥gica de bloqueo
    verificarBloqueoAdmisionGlobal();
}

// 3. L√ìGICA MAESTRA DE BLOQUEO (EXCLUSI√ìN MUTUA)
function verificarBloqueoAdmisionGlobal() {
    // Buscamos todos los checks individuales activados
    const individualesActivos = document.querySelectorAll('.chk-admision-ind:checked');
    const switchGlobal = document.getElementById('chkAdmision');
    const contenedorGlobal = switchGlobal.closest('.modulo'); // El cuadro verde grande de abajo
    
    if (individualesActivos.length > 0) {
        // SI HAY ALGUNO INDIVIDUAL ACTIVADO:
        switchGlobal.checked = false; // Apagamos el global
        switchGlobal.disabled = true; // Lo congelamos
        
        // Efecto visual de deshabilitado
        contenedorGlobal.style.opacity = "0.5";
        contenedorGlobal.style.pointerEvents = "none"; // Evita clics
        
        // Mensaje visual opcional (para que el usuario sepa por qu√©)
        if(!document.getElementById('aviso-bloqueo-adm')) {
            const aviso = document.createElement('div');
            aviso.id = "aviso-bloqueo-adm";
            aviso.style.color = "red";
            aviso.style.fontWeight = "bold";
            aviso.style.fontSize = "0.9em";
            aviso.innerText = "üö´ Deshabilitado porque se aplic√≥ admisi√≥n individual arriba.";
            contenedorGlobal.insertBefore(aviso, contenedorGlobal.firstChild);
        }
        
    } else {
        // SI NO HAY NINGUNO INDIVIDUAL:
        switchGlobal.disabled = false; // Lo descongelamos
        contenedorGlobal.style.opacity = "1";
        contenedorGlobal.style.pointerEvents = "auto";
        
        // Quitamos el aviso si existe
        const aviso = document.getElementById('aviso-bloqueo-adm');
        if(aviso) aviso.remove();
    }
}
// ==========================================
// C√ÅLCULO EN TIEMPO REAL POR DELITO
// ==========================================
function calcularPenaIndividual(idBloque) {
    const bloque = document.getElementById(idBloque);
    if (!bloque) return;

    // 1. OBTENER PENA BASE
    const a = parseFloat(bloque.querySelector('.pi-a').value) || 0;
    const m = parseFloat(bloque.querySelector('.pi-m').value) || 0;
    const d = parseFloat(bloque.querySelector('.pi-d').value) || 0;
    
    if (a === 0 && m === 0 && d === 0) {
        bloque.querySelector('.lbl-resultado-individual').innerText = "--";
        return;
    }

    let penaHoras = aHoras(a, m, d, 0);

    // 2. NUEVO: APLICAR AJUSTE MANUAL (AGRAVANTE/ATENUANTE ESPEC√çFICA)
    const fracManual = bloque.querySelector('.manual-frac').value;
    const tipoManual = bloque.querySelector('.manual-tipo').value; // 'Aumento' o 'Disminucion'

    if(fracManual && fracManual.includes('/')) {
        const [n, den] = fracManual.split('/').map(Number);
        if(den > 0) {
            const cantidad = penaHoras * (n / den);
            if(tipoManual === 'Aumento') {
                penaHoras += cantidad;
            } else {
                penaHoras -= cantidad;
            }
        }
    }

    // 3. APLICAR MODIFICADORES AUTO (Checks de Ley Especial)
    const checks = bloque.querySelectorAll('.chk-mod:checked');
    checks.forEach(chk => {
        const [n, den] = chk.dataset.fraccion.split('/').map(Number);
        if (den > 0) {
            const cantidad = penaHoras * (n/den);
            if(chk.dataset.tipo === 'Aumento') penaHoras += cantidad; 
            else penaHoras -= cantidad; 
        }
    });

    // 4. GRADO DE EJECUCI√ìN
    const ejecucion = bloque.querySelector('.sel-ejecucion').value;
    if (ejecucion !== 'Consumado') {
        let rebaja = 0;
        if (ejecucion === 'Frustrado') {
            rebaja = penaHoras / 3;
        } else if (ejecucion === 'Tentativa') {
            const [n, den] = (bloque.querySelector('.input-fraccion-tentativa').value || "1/2").split('/').map(Number);
            if (den > 0) rebaja = penaHoras * (n / den);
        }
        penaHoras -= rebaja;
    }

    // 5. GRADO DE INTERVENCI√ìN
    const part = bloque.querySelector('.sel-participacion').value;
    if (part !== 'Perpetrador') {
        let rebaja = 0;
        if (part === 'Complice') {
            rebaja = penaHoras / 2;
        } else if (part === 'Variable') {
            const [n, den] = (bloque.querySelector('.input-fraccion-part').value || "1/2").split('/').map(Number);
            if (den > 0) rebaja = penaHoras * (n / den);
        }
        penaHoras -= rebaja;
    }

    // 6. ADMISI√ìN INDIVIDUAL
    const admiteIndividual = bloque.querySelector('.chk-admision-ind').checked;
    if (admiteIndividual) {
        const fraccAdm = bloque.querySelector('.input-fraccion-adm-ind').value || "1/3";
        const [n, den] = fraccAdm.split('/').map(Number);
        if (den > 0) {
            const rebajaAdm = penaHoras * (n / den);
            penaHoras -= rebajaAdm;
        }
    }

    // 7. MOSTRAR RESULTADO
    bloque.querySelector('.lbl-resultado-individual').innerText = desglosarHoras(penaHoras);
}

// ==========================================
// FUNCI√ìN DE B√öSQUEDA FALTANTE (DOSIMETR√çA)
// ==========================================
function filtrarDelitosDosimetria(inputElement, idSelect) {
    const texto = normalizarTexto(inputElement.value);
    const select = document.getElementById(idSelect);
    
    // 1. Limpiamos la lista actual
    select.innerHTML = "";

    // 2. Filtramos el cat√°logo global buscando coincidencias
    const filtrados = catalogoDelitos.filter(d => 
        normalizarTexto(d.nombre).includes(texto)
    );

    // 3. Volvemos a llenar el select con los resultados
    if(filtrados.length === 0) {
        const opt = document.createElement('option');
        opt.text = "-- No se encontraron delitos --";
        select.appendChild(opt);
    } else {
        // Si el usuario borr√≥ todo, ponemos un t√≠tulo bonito
        if (texto === "") {
             const titulo = document.createElement('option');
             titulo.text = "-- Resultados de la b√∫squeda --";
             select.appendChild(titulo);
        }

        filtrados.forEach(d => {
            const opt = document.createElement('option');
            opt.value = d.id;
            opt.text = d.nombre;
            opt.className = "opcion-multilinea"; // Mantiene el estilo de texto ajustado
            select.appendChild(opt);
        });
    }
}
// ==========================================
// M√ìDULO BIBLIOTECA LEGAL
// ==========================================

// 1. BASE DE DATOS DE LEYES (AQU√ç PEGAS EL TEXTO COMPLETO)
const bibliotecaLeyes = [
    {
        id: "cp",
        nombre: "C√ìDIGO PENAL VENEZOLANO",
        contenido: `
        CODIGO PENAL
G. O. (5768E) 13/4/2005
LA ASAMBLEA NACIONAL
DE LA REP√öBLICA BOLIVARIANA DE VENEZUELA
DECRETA:
el siguiente,
C√ìDIGO PENAL
LIBRO PRIMERO
DISPOSICIONES GENERALES SOBRE LOS DELITOS Y LAS FALTAS, LAS
PERSONAS RESPONSABLES Y LAS PENAS
T√çTULO I
De la Aplicaci√≥n de la Ley Penal
Art√≠culo 1. Nadie podr√° ser castigado por un hecho que no estuviere expresamente previsto
como punible por la ley, ni con penas que ella no hubiere establecido previamente.
Los hechos punibles se dividen en delitos y faltas.
Art√≠culo 2. Las leyes penales tienen efecto retroactivo en cuanto favorezcan al reo, aunque al
publicarse hubiere ya sentencia firme y el reo estuviere cumpliendo la condena.
Art√≠culo 3. Todo el que cometa un delito o una falta en el espacio geogr√°fico de la Rep√∫blica,
ser√° penado con arreglo a la ley venezolana.
Art√≠culo 4. Est√°n sujetos a enjuiciamiento en Venezuela y se castigar√°n de conformidad con
la ley penal venezolana:
1. Los venezolanos que, en pa√≠s extranjero se hagan reos de traici√≥n contra la
Rep√∫blica y los que, unos contra otros, cometan hechos punibles seg√∫n sus leyes.
2. Los s√∫bditos o ciudadanos extranjeros que en pa√≠s extranjero cometan alg√∫n
delito contra la seguridad de la Rep√∫blica o contra alguno de sus nacionales. En
los dos casos anteriores se requiere que el indiciado haya venido al espacio
geogr√°fico de la Rep√∫blica y que se intente acci√≥n por la parte agraviada, o por el
Ministerio P√∫blico en los casos de
traici√≥n o de delito contra la seguridad de Venezuela. Requi√©rese tambi√©n que el
indiciado no haya sido juzgado por los tribunales extranjeros, a menos que
habi√©ndolo sido hubiere evadido la
condena.
3. Los venezolanos o extranjeros que, sin autorizaci√≥n del Gobierno de la
Rep√∫blica, fabriquen, adquieran o despachen armas o municiones, con destino a Venezuela, o favorezcan en alguna manera su introducci√≥n en el territorio
venezolano.
4. Los venezolanos que, en pa√≠s extranjero, infrinjan las leyes relativas al estado
civil y capacidad de los venezolanos.
5. Los empleados diplom√°ticos, en los casos permitidos por el Derecho P√∫blico
de las Naciones, de conformidad con lo que establece la Constituci√≥n de la
Rep√∫blica Bolivariana de Venezuela.
6. Los empleados diplom√°ticos de la Rep√∫blica que desempe√±an mal sus
funciones, o que cometan cualquier hecho punible no enjuiciable en el lugar de
su residencia por raz√≥n de los privilegios inherentes a su cargo.
7. Los empleados y dem√°s personas de la dotaci√≥n y la mariner√≠a de los buques y
aeronaves de guerra nacionales por la comisi√≥n, en cualquier parte, de hechos
punibles.
8. Los Capitanes o Patrones, dem√°s empleados y la tripulaci√≥n y mariner√≠a, as√≠
como los pasajeros de los buques mercantes de la Rep√∫blica, por los hechos
punibles cometidos en alta Mar o a bordo en aguas de otra naci√≥nÕæ salvo,
siempre, respecto de los pasajeros, lo que se establece en el segundo aparte del
numeral 2 del presente art√≠culo.
9. Los venezolanos o extranjeros venidos a la Rep√∫blica que, en alta mar,
cometan actos de pirater√≠a u otros delitos de los que el Derecho Internacional
califica de atroces y contra la humanidadÕæ menos en el caso de que por ellos
hubieran sido ya juzgados en otro pa√≠s y cumplido la condena.
10. Los venezolanos que, dentro o fuera de la Rep√∫blica, tomen parte en la trata
de esclavos.
11. Los venezolanos o extranjeros venidos al espacio geogr√°fico de la Rep√∫blica
que, en otro pa√≠s, falsifiquen o tomen parte en la falsificaci√≥n de moneda de
curso legal en Venezuela o sellos de uso p√∫blico, estampillas o t√≠tulos de cr√©dito
de la naci√≥n, billetes de banco al portador o t√≠tulos, de capital y renta, de emisi√≥n
autorizada por la ley nacional.
12. Los venezolanos o extranjeros que de alguna manera favorezcan la
introducci√≥n, en la Rep√∫blica, de los valores especificados en el numeral anterior.
En los casos de los numerales procedentes queda siempre a salvo lo dispuesto en
el aparte segundo, numeral 2, de este art√≠culo.
13. Los Jefes, Oficiales y dem√°s individuos de un ejercito, en raz√≥n de los hechos
punibles que cometan en marcha por territorio extranjero neutral, contra los
habitantes del mismo.
14. Los extranjeros que entren en lugares de la Rep√∫blica no abiertos al comercio
exterior o que, sin derecho, se apropien sus producciones terrestres, mar√≠timas,
lacustre o fluvialesÕæ o que sin permiso ni t√≠tulos hagan uso de sus terrenos
despoblados.
15. Los extranjeros que infrinjan las cuarentenas y dem√°s disposiciones
establecidas en beneficio de la salud p√∫blica.
16. Los extranjeros o venezolanos que, en tiempo de paz, desde territorio, buques
de guerra o aeronaves extranjeras, lancen proyectiles o hagan cualquier otro mal
a las poblaciones, habitantes o al territorio de Venezuela, quedando a salvo lo
expuesto en los dos apartes del numeral 2 de este art√≠culo.
Art√≠culo 5. En los casos previstos en el art√≠culo anterior, cuando se condene de nuevo en la
Rep√∫blica a una persona que haya sido sentenciada en el extranjero, se computar√° la parte de
pena que haya cumplido en el otro pa√≠s y el tiempo de la detenci√≥n, conforme a la regla del
art√≠culo 40. Art√≠culo 6. La extradici√≥n de un venezolano no podr√° concederse por ning√∫n motivoÕæ pero
deber√° ser enjuiciado en Venezuela, a solicitud de parte agraviada o del Ministerio P√∫blico, si
el delito que se le Imputa mereciere pena por la ley venezolana.
La extradici√≥n de un extranjero no podr√° tampoco concederse por delitos pol√≠ticos ni por
infracciones conexas con estos delitos, ni por ning√∫n hecho que no este calificado de delito
por la ley venezolana.
La extradici√≥n de un extranjero por delitos comunes no podr√° acordarse sino por la autoridad
competente, de conformidad con los tramites y requisitos establecidos al efecto por los
Tratados Internacionales suscritos por Venezuela y que est√©n en vigor y, a falta de estos, por
las leyes venezolanas.
No se acordar√° la extradici√≥n de un extranjero acusado de un delito que tenga asignada en la
legislaci√≥n del pa√≠s requirente la pena de muerte o una pena perpetua. En todo caso, hecha la
solicitud de extradici√≥n, toca al Ejecutivo Nacional, seg√∫n el m√©rito de los comprobantes que
se acompa√±en, resolver sobre la detenci√≥n preventiva del extranjero, antes de pasar el asunto
al Tribunal Supremo de
Justicia.
Art√≠culo 7. Las disposiciones del presente C√≥digo en su Libro Primero se aplicar√°n tambi√©n a
las materias regidas por otras leyes, en cuanto dicten penas y siempre que en ellas no se
establezca nada en contrario.
T√çTULO II De
las Penas
Art√≠culo 8. Las penas se dividen principalmente en corporales y no corporales.
Art√≠culo 9. Las penas corporales, que tambi√©n se denominan restrictivas de la libertad, son
las siguientes:
1. Presidio.
2. Prisi√≥n.
3. Arresto.
4. Relegaci√≥n a una colonia penal.
5. Confinamiento.
6. Expulsi√≥n del Espacio geogr√°fico de la Rep√∫blica.
Art√≠culo 10. Las penas no corporales son:
1. Sujeci√≥n a la vigilancia de la autoridad p√∫blica.
2. Interdicci√≥n civil por condena penal.
3. Inhabilitaci√≥n pol√≠tica.
4. Inhabilitaci√≥n para ejercer alguna profesi√≥n, industria o cargo
5. Destituci√≥n de empleo
6. Suspensi√≥n del mismo.
7. Multa.
8. Cauci√≥n de no ofender o da√±ar.
9. Amonestaci√≥n o apercibimiento.
10. P√©rdida de los instrumentos o armas con que se cometi√≥ el hecho punible y de los efectos que de √©l provengan.
11. Pago de las costas procesales.
Art√≠culo 11. Las penas se dividen tambi√©n en principales y accesorias.
Son principales:
Las que la ley aplica directamente al castigo del delito.
Son accesorias:
Las que la ley trae como adherentes a la principal, necesaria o accidentalmente.
Art√≠culo 12. La pena de presidio se cumplir√° en las penitenciaras que establezca y reglamente
la ley.
Dicha pena comporta los trabajos forzados dentro o fuera del respectivo establecimiento,
conforme lo determine la ley, la cual fijara tambi√©n el tiempo que haya de pasar el reo en
aislamiento celular.
En todo caso, los trabajos ser√°n proporcionales a las fuerzas del penado, a quien, en sus
enfermedades, se cuidara en la Enfermer√≠a del establecimiento o en. locales adecuados, con la
debida seguridad.
Art√≠culo 13. Son penas accesorias de la de presidio:
1. La interdicci√≥n civil durante el tiempo de la pena.
2. La inhabilitaci√≥n pol√≠tica mientras dure la pena.
3. La sujeci√≥n a la vigilancia de la autoridad por una cuarta parte del tiempo
de la condena, desde que esta termine.
Art√≠culo 14. La pena de prisi√≥n de cumplir√° en los establecimientos penitenciarios que
establezca y reglamente la ley y en su defecto en alguna de las mismas penitenciarias
destinadas al cumplimiento de las penas de presidio. En este caso se mantendr√° la debida
separaci√≥n entre los condenados a una u otra pena.
Par√°grafo √∫nico: Cuando el tiempo de la prisi√≥n no haya de exceder de un a√±o despu√©s de
deducido el tiempo de la detenci√≥n, computable seg√∫n el art√≠culo 40, no podr√° el reo ser
enviado a establecimientos penales de la naci√≥n situados fuera de los l√≠mites del estado,
Distrito Metropolitano de Caracas o territorio federal donde hubiere sido sentenciado en
primera instancia, sino que cumplir√° la pena en el establecimiento penitenciario local
respectivo.
Art√≠culo 15. El condenado a prisi√≥n no estar√° obligado a otros trabajos sino a los de artes y
oficios que puedan verificarse dentro del establecimiento, con la facultad de elegir lo que mas
se conformaren con sus aptitudes o anteriores ocupaciones.
Art√≠culo 16. Son penas accesorias de la prisi√≥n:
1. La inhabilitaci√≥n pol√≠tica durante el tiempo de la condena.
2. La sujeci√≥n a la vigilancia de la autoridad por una quinta parte del tiempo
de la condena, terminada esta.
Art√≠culo 17. El arresto se cumplir√° en los establecimientos penitenciarios locales o en los
cuarteles de polic√≠a, seg√∫n lo determine el tribunal ejecutor de la sentencia, sin que ning√∫n
caso pueda obligarse al condenado a trabajar contra su voluntad.
Sin embargo, cuando lo disponga expresamente la ley, se cumplir√° el arresto en fortaleza o
establecimiento penitenciario. Esta pena comporta la suspensi√≥n, mientras se la cumple, del empleo que ejerza el reo.
Art√≠culo 18. Las mujeres cumplir√°n las penas de presidio, prisi√≥n y arresto en
establecimientos especiales, y mientras no se funden y hayan de cumplirlas en los
establecimientos comunes, estar√°n siempre separadas en estos de los hombres.
Par√°grafo √∫nico: El Presidente de la Rep√∫blica podr√° ordenar, en determinado caso, por
√≥rgano del Ministerio del Interior y Justicia, que las mujeres cumplan las mencionadas penas,
prestando sus servicios en los establecimientos oficiales de beneficencia, hospicios y
hospitales, con las debidas seguridades y bajo absoluta prohibici√≥n de salir de estos hasta el
t√©rmino de la pena.
Art√≠culo 19. La pena de relegaci√≥n a una colonia penitenciaria impone al reo la obligaci√≥n de
residir en la colonia que designe la sentencia firme que imponga la pena entre las que creare
la ley o disponga fundar el Ejecutivo Nacional en los territorios federales o en las fronteras
despobladas de la Rep√∫blica.
El relegado estar√° sometido a las reglas de vigilancia que paute el reglamento de la colonia
para impedir las deserciones, pero no a trabajos forzados.
Esta pena tiene como accesoria la suspensi√≥n, mientras se la cumple, del empleo que ejerza el
condenado.
Art√≠culo 20. La pena de confinamiento consiste en la obligaci√≥n impuesta al reo de residir,
durante el tiempo de la condena, en el Municipio que indique la sentencia firme que la
aplique, no pudiendo designarse al efecto ninguno que diste menos de cien kil√≥metros, tanto
de aquel donde se cometi√≥ el delito como de aquellos en que estuvieron domiciliados, el reo
al tiempo de la comisi√≥n del delito,
y el ofendido para la fecha de la sentencia de Primera Instancia.
El penado estar√° obligado, en comprobaci√≥n de estar cumpliendo la sentencia y mientras dure
la condena, a presentarse a la Jefatura Civil del Municipio con la frecuencia que el Jefe Civil
indique, la cual no podr√° ser mas de una vez cada d√≠a ni menos de una vez por semana.
Es pena accesoria a la de confinamiento la suspensi√≥n, mientras se la cumple, del empleo que
ejerza el reo.
Art√≠culo 21. La expulsi√≥n del espacio geogr√°fico de la Rep√∫blica impone al reo la obligaci√≥n
de no volver a esta durante el tiempo de la condena.
Esta pena comporta como accesoria la misma indicada en el aparte final del art√≠culo anterior.
Art√≠culo 22. La sujeci√≥n a la vigilancia de la autoridad p√∫blica no podr√° imponerse como
pena principal sino como accesoria a las de presidio o prisi√≥n y obliga al penado a dar cuenta
a los respectivos Jefes Civiles de los municipios donde resida o por donde transite, de su
salida y llegada a estos.
Art√≠culo 23. La interdicci√≥n civil por causa criminal no podr√° imponerse como pena
principal, sino √∫nicamente como accesoria de la de presidio.
Sus efectos son privar al reo de la disposici√≥n de sus bienes por actos entre vivos y de la
administraci√≥n de los mismos, de la patria potestad y de la autoridad marital.
A la administraci√≥n de los bienes del entredicho se proveer√° conforme lo dispone el C√≥digo
Civil respecto de los que se hallan en interdicci√≥n.
Art√≠culo 24. La inhabilitaci√≥n pol√≠tica no podr√° imponerse como pena principal sino como
accesoria de las de presidio o prisi√≥n y produce como efecto la privaci√≥n de los cargos o
empleos p√∫blicos o pol√≠ticos, que tenga el penado y laincapacidad durante la condena, para obtener otros y para el goce del derecho activo y pasivo del sufragio.
Tambi√©n perder√° toda dignidad o condecoraci√≥n oficial que se le haya conferido, sin poder
obtener las mismas ni ninguna otra durante el propio tiempo.
Art√≠culo 25. La inhabilitaci√≥n para el ejercicio de alguna profesi√≥n, industria o arte no puede
ser perpetua ni absoluta, sino temporal y limitada a determinada o determinadas profesiones,
industrias o artes. Puede imponerse como principal o como accesoria.
Art√≠culo 26. La destituci√≥n del empleo produce como efecto la separaci√≥n de √©l, del penado,
sin poder ejercerlo otra vez sino por nueva elecci√≥n o nombramiento.
Art√≠culo 27. La suspensi√≥n del empleo impide al penado su desempe√±o durante el tiempo de
la condena, con derecho, terminada esta, a continuar en el, si para su ejercicio estuviera fijado
un per√≠odo que entonces corriere a√∫n.
Par√°grafo √∫nico: Esta pena y la del articulo anterior pueden imponerse como principales o
como accesorias.
Art√≠culo 28. No se consideraran penas la remoci√≥n que, del empleado a quien este
sigui√©ndose juicio, disponga la autoridad de cuyo libre nombramiento sea el respectivo
destino, ni la suspensi√≥n provisional en el ejercicio de su cargo que, en el mismo caso, se
haga conforme a la ley procesal, del empleado que tenga derecho a gozarlo por tiempo
determinado.
Art√≠culo 29. Cuando las penas de inhabilitaci√≥n pol√≠tica, de destituci√≥n y de suspensi√≥n de
empleo recaen sobre personas eclesi√°sticas, se limitan sus efectos a los cargos, derechos y
honores en cuya provisi√≥n o pase ha habido intervenci√≥n oficialÕæ mas, en todo caso, los
eclesi√°sticos que incurran en dichas penas quedan impedidos, por el tiempo de su duraci√≥n,
para ejercer en la Rep√∫blica la
jurisdicci√≥n eclesi√°stica, la cura de almas y el ministerio de la predicaci√≥n.
Art√≠culo 30. La pena de multa consiste en la obligaci√≥n de pagar al Fisco del respectivo
estado, o a las Rentas Municipales del Distrito Metropolitano de Caracas en sus casos o al
Fisco Nacional si el juicio se inicio en un territorio federal, la cantidad que conforme a la ley
determine la sentencia.
Si el juicio ha sido por falta, la multa ser√° en beneficio del respectivo Fisco Municipal.
Art√≠culo 31. La pena de cauci√≥n de no ofender o da√±ar, obliga al condenado a dar las
seguridades que estime necesarias el juez ejecutor.
Art√≠culo 32. La amonestaci√≥n, o apercibimiento, es la correcci√≥n verbal que el juez ejecutor
da al penado en los t√©rminos que ordene la sentencia, extendi√©ndose acta de aquella, que se
publicara en el per√≠odo oficial.
Art√≠culo 33. Es necesariamente accesoria a otra pena principal, la p√©rdida de los instrumentos
o armas con que se cometi√≥ el hecho punible y de los efectos que de √©l provenganÕæ y se la
ejecutar√° as√≠: las armas ser√°n decomisadas de conformidad con el Cap√≠tulo I del T√≠tulo V del
Libro Segundo de este C√≥digoÕæ y los dem√°s efectos ser√°n asimismo decomisados y rematados
para adjudicar su precio al respectivo Fisco Nacional, del Estado o Municipio, seg√∫n las
reglas del art√≠culo 30.
Art√≠culo 34. La condenaci√≥n al pago de las costas proc√©sales no se considerara como pena
sino cuando se aplica en juicio penal y en este es necesariamente accesoria de toda condena a pena o penas principales y as√≠ se aplicar√°, quedando obligado el reo: a reponer el papel
sellado que indique la ley respectiva en lugardel com√∫n invertido, a inutilizar las estampillas
que se dejaron de usar en el proceso, a las indemnizaciones y derechos fijados por ley previa,
y a satisfacer los dem√°s gastos causados en el juicio o con ocasi√≥n de los que no estuvieren
tasados por la ley, ser√°n determinados por el juez, con asistencia de parte.
Par√°grafo √∫nico: Los penados por una misma infracci√≥n quedaran solidariamente obligados al
pago de las costas procesales.
Los condenados en un mismo juicio por diferentes hechos punibles, s√≥lo estar√°n obligados
solidariamente al pago de las costas comunes.
Art√≠culo 35. Siempre que los tribunales impusieren una pena que lleve consigo otras
accesorias por disposici√≥n de la ley, condenaran tambi√©n al reo a estas √∫ltimas.
Art√≠culo 36. La detenci√≥n del procesado durante el juicio no constituye pena, pero se la
tendr√° en cuenta para los efectos del art√≠culo 40.
T√çTULO III
De la Aplicaci√≥n de las Penas
Art√≠culo 37. Cuando la ley castiga un delito o falta con pena comprendida entre dos l√≠mites,
se entiende que la normalmente aplicable es el t√©rmino medio que se obtiene sumando los dos
n√∫meros y tomando la mitadÕæ se la reducir√° hasta el l√≠mite inferior o se la aumentar√° hasta el
superior, seg√∫n el m√©rito de las respectivas circunstancias atenuantes o agravantes que
concurran en el caso concreto, debiendo compens√°rselas cuando las haya de una y otra
especie.
No obstante, se aplicar√° la pena en su l√≠mite superior o en el inferior, cuando as√≠ lo disponga
expresamente la ley, y tambi√©n se traspasara uno u otro l√≠mite cuando as√≠ sea menester en
virtud de disposici√≥n legal que ordene aumentar o rebajar la pena correspondiente al delito en
una cuarta parte, que entonces se calculara en proporci√≥n a la cantidad de pena que el juez
habr√≠a aplicado al reo si no concurriese el motivo del aumento o de la disminuci√≥n. Si para el
aumento o rebaja mismo se fijaren tambi√©n dos l√≠mites, el tribunal har√° dentro de estos el
aumento o rebaja respectivo, seg√∫n la mayor o menor gravedad del hecho.
En todos estos casos se tendr√° siempre presente la regla del art√≠culo 94.
Art√≠culo 38. Las penas de destituci√≥n y amonestaci√≥n o apercibimiento, se aplicar√°n como
indivisibles a quien las merezca, sin tomarse en cuenta las circunstancias agravantes ni las
atenuantes y sin distinci√≥n de delito consumado o no, ni el mayor o menor grado de
participaci√≥n en el hecho.
Art√≠culo 39. Los lapsos de penas que deben sufrirse por tiempo determinado, se contaran del
modo pautado en el C√≥digo Civil.
El tiempo de la fuga no se contara en el de la condena que se est√° cumpliendo, pero si se
computar√° el de la enfermedad involuntaria.
Art√≠culo 40. En las sentencias condenatorias a pena de presidio, se computar√° a favor del reo
la detenci√≥n transcurrida despu√©s de cinco meses de efectuada, a raz√≥n de un d√≠a de detenci√≥n
por uno de presidio. En los dem√°s casos, el tiempo de la detenci√≥n en favor del reo se
computar√° as√≠Õæ un d√≠a de detenci√≥n por otro de prisi√≥nÕæ uno por dos de arrestoÕæ uno por tres de
relegaci√≥n a colonia penitenciariaÕæ
uno por cuatro de confinamiento o de expulsi√≥n del espacio geogr√°fico de la Rep√∫blicaÕæ y uno
por cada quince unidades tributarias (15 U.T.) de multa. Art√≠culo 41. El c√≥mputo ordenado en el art√≠culo anterior lo har√° el juez de la causa en el auto
en que mande ejecutar la sentencia condenatoria firmeÕæ y desde ese d√≠a se comenzar√° a contar
el tiempo de las penas de presidio, prisi√≥n o arresto, deducido el del c√≥mputo hecho, aun
cuando el reo no sea enviado sino posteriormente a la penitenciara o establecimiento
penitenciario donde haya de sufrir la condena.
Si se tratare de penas de relegaci√≥n a colonia penitenciaria, confinamiento o expulsi√≥n del
espacio geogr√°fico de la Rep√∫blica, en el propio auto se computar√° al reo, en la proporci√≥n
dicha, el tiempo que deba transcurrir entre esa fecha y el de la llegada a la colonia, al lugar de
confinamiento o al puerto o frontera de la Rep√∫blica por donde salga para el exterior, seg√∫n el
caso.
La duraci√≥n del viaje se calculara a raz√≥n de treinta kil√≥metros por d√≠a, y el tiempo durante el
cual debe sufrirse la pena se calcular√° haciendo previamente las deducciones indicadas, y
comenzar√° a contarse desde el d√≠a de la llegada del reo a la colonia, al lugar del
confinamiento o al de la salida de la Rep√∫blica.
Art√≠culo 42. En caso de sentencia condenatoria a pena de presidio, cualquiera que sea su
duraci√≥n o a la de prisi√≥n que haya de durar mas de un a√±o, despu√©s de hecho el c√≥mputo a
que se contraen los art√≠culos anteriores, as√≠ como tambi√©n en todos los casos de condena a
arresto en fortaleza o establecimiento penitenciario, el juez de la causa enviar√° copia
certificada de la sentencia
condenatoria firme y del auto contentivo del c√≥mputo, por √≥rgano del Ministerio del Interior y
Justicia, al Presidente de la Rep√∫blica, a fin de que designe el establecimiento penal de la
naci√≥n donde el reo debe cumplir la pena.
Art√≠culo 43. Cuando la pena haya de cumplirse en un establecimiento penitenciario local o en
un Cuartel de Polic√≠a, el juez de la causa enviar√° copia certificada de la sentencia al Jefe del
respectivo establecimiento y tomar√° todas las medidas conducentes a la ejecuci√≥n de aquella.
Art√≠culo 44. Cuando se trate de penas de relegaci√≥n a colonia penitenciaria, confinamiento o
expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, el juez de la causa tomar√°, directamente,
todas las medidas del caso para que el reo sea trasladado al lugar donde debe quedar relegado
o confinado o al puerto o sitio fronterizo por donde debe hac√©rsele salir del territorio
nacional.
Art√≠culo 45. En los casos del art√≠culo anterior, el juez enviar√° copia certificada de la
sentencia condenatoria firme y del auto contentivo del c√≥mputo, al jefe de la colonia
penitenciaria donde ha de cumplirse la relegaci√≥n o al Jefe Civil del municipio donde va a
residir el confinado. Si se trata de expulsi√≥n del territorio nacional, enviar√° iguales copias al
Presidente de la Rep√∫blica, para que dicte las medidas conducentes a impedir que el
condenado regrese a Venezuela durante el tiempo de la condena.
Art√≠culo 46. Ninguna sentencia que imponga pena a quien se halle en grave peligro de
muerte pr√≥xima por raz√≥n de enfermedad, se ejecutar√° ni aun se le notificara al reo, hasta que
desaparezca tal peligro.
Art√≠culo 47. El castigo de una mujer encinta, cuando por causa de √©l puedan peligrar su vida
o su salud, o por la vida o la salud de la criatura que lleva en su seno, se diferir√° para despu√©s
de seis meses del nacimiento de esta, siempre que viva la criatura.
T√çTULO IV
De la Conservaci√≥n y Conmutaci√≥n de Penas Art√≠culo 48. A los setenta a√±os termina toda pena corporal que hubiere durado por lo menos
cuatro a√±os y la que para entonces hubiere durado menos y estuviere en curso, se convertir√°
en arresto, si es de presidio, o prisi√≥n hasta que transcurran los cuatro a√±os.
Las providencias del caso las dictar√° el juez de Primera Instancia en lo penal que hubiere
conocido del proceso.
Art√≠culo 49. Fuera de los casos expresamente determinados por la ley, cuando por
impedimento del sentenciado a presidio o prisi√≥n no pudiera llevarse a cabo la condena
impuesta, el juez de la causa puede conmutarla, conforme a las reglas siguientes:
1. La pena de presidio se convertir√° en la de prisi√≥n con aumento de una tercera
parte.
2. La pena de prisi√≥n se convertir√° en la de arresto con aumento de una cuarta
parte.
Art√≠culo 50. Cuando la pena se√±alada al delito fuere de multa y no pudiese satisfacerla el
penado, se convertir√° en prisi√≥n o arresto, seg√∫n la edad, robustez, debilidad o fortuna de este,
fijando el tribunal la duraci√≥n de tales penas a raz√≥n de un d√≠a de prisi√≥n por cada treinta
unidades tributarias (30 U.T.) de multa y de uno de arresto por cada quince unidades
tributarias (15 U.T.).
En las faltas, la proporci√≥n ser√° de diez unidades tributarias (10 U.T.) por cada d√≠a de arresto.
Art√≠culo 51. La prisi√≥n por conversi√≥n de multa no podr√° exceder de seis meses, ni el arresto,
por la misma causa, de nueve meses, si se tratare‚Äö de delitos, ni de dos meses si, se tratare de
faltas.
El condenado puede siempre hacer cesar la prisi√≥n o el arresto pagando la multa, deducida la
parte correspondiente al tiempo transcurrido en la uno o el otro.
Art√≠culo 52. Todo reo condenado a prisi√≥n que, conforme al par√°grafo √∫nico del art√≠culo 14,
la cumpliere en establecimiento penitenciario local, puede pedir al juez de la causa, luego que
hayan transcurrido las tres cuartas partes de dicho tiempo, observando buena conducta,
comprobada con certificaci√≥n del Alcalde del respectivo establecimiento, la conversi√≥n del
resto de la pena en confinamiento por igual tiempo, y el tribunal podr√° acordarlo as√≠,
procediendo sumarialmente.
Art√≠culo 53. Todo reo condenado a presidio o prisi√≥n o destinado a penitenciar√≠a o
establecimiento penitenciario, que haya cumplido las tres cuartas partes de su condena,
observando conducta ejemplar, puede ocurrir al Tribunal Supremo de Justicia, en escrito
autenticado, solicitando la conmutaci√≥n del resto de la pena en la de relegaci√≥n a una colonia
penitenciaria por el mismo tiempo o confinamiento por un tiempo igual al que resta de la
pena, con aumento de una tercera parte.
Art√≠culo 54. Para atender a la gracia a que se contrae el art√≠culo anterior, el Tribunal Supremo
de Justicia consultar√° las copias que reposen en su archivo, y que deben enviarle cada mes los
Jefes de todos los establecimientos penales de la naci√≥n, de los asientos sumariales que en el
libro destinado al efecto anotar√°n semanalmente, haciendo constar la conducta observada por
cada penado.
En defecto de dichas copias, el Tribunal Supremo de Justicia se basar√° en otras pruebas que
se presentaren.
Art√≠culo 55. El procedimiento ante el Tribunal Supremo de Justicia ser√° breve y sumarioÕæ mas, por auto para mejor proveer, puede ordenar las investigaciones que juzgue necesarias.
Mientras se fundan las colonias penitenciarias, se acordar√° la conmutaci√≥n en confinamiento.
Art√≠culo 56. En ning√∫n caso podr√° concederse la gracia de la conmutaci√≥n al reincidente ni al
reo de homicidio perpetrado en ascendientes, descendientes, c√≥nyuge o hermanos, ni a los
que hubieren obrado con premeditaci√≥n, ensa√±amiento o alevos√≠a, o con fines de lucro.
Trat√°ndose de cualquier otro delito no cometido en tales circunstancias, el Tribunal Supremo
de Justicia queda facultado para conceder o negar la conmutaci√≥n, seg√∫n la apreciaci√≥n del
caso.
Art√≠culo 57. Cuando la pena que debiera imponerse al reo no excediere de treinta d√≠as de
arresto, cuarenta y cinco d√≠as de confinamiento o cuatrocientas cincuenta unidades tributarias
(450 U.T.) de multa, podr√° el juez de la causa conmutarla en la de apercibimiento o
amonestaci√≥n, siempre que el delito se hubiere cometido con circunstancias atenuantes y sin
concurrir la agravante de reincidencia.
Art√≠culo 58. Cuando el delincuente cayere en locura o imbecilidad despu√©s de reca√≠da
sentencia firme condenatoria, se proceder√° como lo dispone el art√≠culo 62 en su aparte final, y
si recobrare la raz√≥n, cumplir√° el tiempo de pena que a√∫n estuviere pendiente, descontado el
de la enfermedad.
Art√≠culo 59. La pena que debe sufrir una mujer condenada a prisi√≥n si, hecho el c√≥mputo de
la detenci√≥n, no hubiere de exceder los seis meses, se conmutara en arresto por el mismo
tiempo, y la de arresto en iguales condiciones, en la de confinamiento.
T√çTULO V
De la Responsabilidad Penal y de las Circunstancias
que la Excluyen, Aten√∫an o Agravan
Art√≠culo 60. La ignorancia de la ley no excusa ning√∫n delito ni falta.
Art√≠culo 61. Nadie puede ser castigado como reo de delito no habiendo tenido la intenci√≥n de
realizar el hecho que lo constituye, excepto cuando la ley se lo atribuye como consecuencia
de su acci√≥n u omisi√≥n.
El que incurra en faltas, responde de su propia acci√≥n u omisi√≥n, aunque no se demuestre que
haya querido cometer una infracci√≥n de la ley.
La acci√≥n u omisi√≥n penada por la ley se presumir√° voluntaria, a no ser que conste lo
contrario.
Art√≠culo 62. No es punible el que ejecuta la acci√≥n hall√°ndose dormido o en estado de
enfermedad mental suficiente para privarlo de la conciencia o de la libertad de sus actos.
Sin embargo, cuando el loco o demente hubiere ejecutado un hecho que equivalga en un
cuerdo a delito grave, el tribunal decretara la reclusi√≥n en uno de los hospitales o
establecimientos destinados a esta clase de enfermos, del cual no podr√° salir sin previa
autorizaci√≥n del mismo tribunal. Si el delito no fuere grave o si no es el establecimiento
adecuado, ser√° entregado a su familia, bajo fianza de custodia, a menos que ella no quiera
recibirlo.
Art√≠culo 63. Cuando el estado mental indicado en el art√≠culo anterior sea tal que aten√∫e en
alto grado la responsabilidad, sin excluirla totalmente, la pena establecida para el delito o
falta se rebajar√° conforme a las siguientes reglas: 1. En lugar de la de presidio, se aplicar√° la de prisi√≥n, disminuida entre dos
tercios y la mitad.
2. En lugar de la prisi√≥n, se aplicar√° la de arresto, con la disminuci√≥n indicada.
3. Las otras penas divisibles se aplicar√°n rebajadas por mitad.
Art√≠culo 64. Si el estado de perturbaci√≥n mental del encausado en el momento del delito
proviniere de embriaguez, se seguir√°n las reglas siguientes:
1. Si se probare que, con el fin de facilitarse la perpetraci√≥n del delito, o preparar
una excusa, el acusado hab√≠a hecho uso del licor, se aumentar√° la pena que
debiera aplic√°rsele de un quinto a un tercio, con tal que la totalidad no exceda del
m√°ximum fijado por la ley a este g√©nero de pena. Si la pena que debiere
impon√©rsele fuere la de presidio, se mantendr√° esta.
2. Si resultare probado que el procesado sabia y era notorio entre sus relaciones
que la embriaguez le hacia provocador y pendenciero, se le aplicar√°n sin
atenuaci√≥n las penas que para el delito cometido establece este C√≥digo.
3. Si no probada ninguna de las dos circunstancias de los dos numerales
anteriores, resultare demostrada la perturbaci√≥n mental por causa de la
embriaguez, las penas se reducir√°n a los dos tercios, sustituy√©ndose la prisi√≥n al
presidio.
4. Si la embriaguez fuere habitual, la pena corporal que deba sufrirse podr√°
mandarse cumplir en un establecimiento especial de correcci√≥n.
5. Si la embriaguez fuere enteramente casual o excepcional, que no tenga
precedente, las penas en que haya incurrido el encausado se reducir√°n de la mitad
a un cuarto, en su duraci√≥n, sustituy√©ndose la pena de presidio con la de prisi√≥n.
Art√≠culo 65. No es punible:
1. El que obra en cumplimiento de un deber o en el ejercicio leg√≠timo de un
derecho, autoridad, oficio o cargo, sin traspasar los limites legales.
2. El que obra en virtud de obediencia leg√≠tima y debida. En este caso, si el hecho
ejecutado constituye delito o falta, la pena correspondiente se le impondr√° al que
resultare haber dado la orden ilegal.
3. El que obra en defensa de su propia persona o derecho, siempre que concurran
las circunstancias siguientes:
a. Agresi √≥n ileg√≠tima por parte del que resulta ofendido por el
hecho.
b. Necesidad del medio empleado para impedirla o repelerla.
c. Falta de provocaci√≥n suficiente de parte del que pretenda haber
obrado en defensa propia.
Se equipara a la leg√≠tima defensa el hecho con el cual el agente, en el
estado de incertidumbre, temor o terror traspasa los l√≠mites de la
defensa.
d. El que obra constre√±ido por la necesidad de salvar su persona, o la
de
otro, de un peligro grave e inminente, al cual no haya dado
voluntariamente
causa, y que no pueda evitar de otro modo.
Art√≠culo 66. El que traspasare los l√≠mites impuestos por la ley en el caso del numeral 1 del art√≠culo anterior, y por la autoridad que dio la orden en el caso del numeral 2 del mismo, y el
que se excediere en la defensa, o en los medios empleados para salvarse del peligro grave e
inminente, haciendo mas de lo necesario, ser√° castigado con la pena correspondiente,
disminuida desde uno a dos tercios. La pena pecuniaria se aplicar√° con disminuci√≥n de la
mitad.
Art√≠culo 67. El que cometa el hecho punible en un momento de arrebato o de intenso dolor,
determinado por injusta provocaci√≥n, ser√° castigado, salvo disposici√≥n especial, con la pena
correspondiente disminuida desde un tercio hasta la mitad, seg√∫n la gravedad de la
provocaci√≥n.
Art√≠culo 68. Cuando alguno por error, o por alg√∫n otro accidente, cometa un delito en
perjuicio de persona distinta de aquella contra quien hab√≠a dirigido su acci√≥n, no se le
imputaran las circunstancias agravantes que dimanen de la categor√≠a del ofendido o lesionado
o de sus nexos con este, pero si las que habr√≠an disminuido la pena del hecho si lo hubiera
cometido en perjuicio de la persona contra quien se dirigi√≥ su acci√≥n.
Art√≠culo 69. No es punible: el menor de doce a√±os, en ning√∫n caso, ni el mayor de doce y
menor de quince a√±os, a menos que aparezca que obr√≥ con discernimiento.
El tribunal tomar√° las medidas que considere oportunas respecto a la educaci√≥n del menor
irresponsable, el cual ser√° mantenido en adecuado establecimiento de educaci√≥n o en casa de
familia de responsabilidad.
Art√≠culo 70. Si el mayor de doce a√±os y menor de quince fuere declarado responsable, la
pena correspondiente al hecho punible se convertir√° en arresto, si fuere de presidio o prisi√≥n,
con disminuci√≥n de la mitadÕæ as√≠ mismo se disminuir√°n por mitad las otras penas y todas las
que estuviere sufriendo cesar√°n al cumplir los veinti√∫n a√±os.
Art√≠culo 71. El que cometiere un hecho punible siendo mayor de quince a√±os, pero menor de
dieciocho, ser√° castigado con la pena correspondiente, disminuida en una tercera parte.
Art√≠culo 72. No se proceder√° en ning√∫n caso contra el sordomudo que al cometer el hecho
punible no hubiere cumplido los quince a√±osÕæ pero si fuere mayor de esta edad y menor de
dieciocho a√±os, se aplicar√°n las disposiciones del art√≠culo anterior, si obr√≥ con
discernimientoÕæ si no, se le declarara irresponsable, pero el tribunal dictar√° las medidas que
estime conducentes respecto a su educaci√≥n hasta que cumpla los veinti√∫n a√±os.
Art√≠culo 73. No es punible el que incurra en alguna omisi√≥n hall√°ndose impedido por causa
leg√≠tima o insuperable.
Art√≠culo 74. Se consideraran circunstancias atenuantes que, salvo disposiciones especiales de
la ley, no dan lugar a rebaja especial de pena, sino a que se las tome en cuenta para aplicar
‚Äöesta en menos del t√©rmino medio, pero sin bajar del l√≠mite inferior de la que al respectivo
hecho punible asigne la ley, las siguientes:
1. Ser el reo menor de veinti√∫n a√±os y mayor de dieciocho cuando cometi√≥ el
delito.
2. No haber tenido el culpable la intenci√≥n de causar un mal de tanta gravedad
como el que produjo.
3. Haber precedido injuria o amenaza de parte del ofendido, cuando no sea de tal
gravedad que de lugar a la aplicaci√≥n del art√≠culo 67. 4. Cualquier otra circunstancia de igual entidad que a juicio del tribunal aminore
la gravedad del hecho.
Art√≠culo 75. Al que ejecuta un hecho punible, siendo mayor de setenta a√±os, no se le
impondr√° pena de presidio, sino que en lugar de esta y de la prisi√≥n se aplicar√° la de arresto
que no exceder√° de cuatro a√±os.
Art√≠culo 76. En el caso del art√≠culo anterior pueden disponerse las mismas medidas previstas
en la aparte final del art√≠culo 62, en lugar de aplicarse la pena de arresto o a√∫n despu√©s que
√©sta se estuviere cumpliendo.
Art√≠culo 77. Son circunstancias agravantes de todo hecho punible las siguientes:
1. Ejecutarlo con alevos√≠a. Hay alevos√≠a cuando el culpable obra a traici√≥n o
sobre seguro.
2. Ejecutarlo mediante precio, recompensa o promesa.
3. Cometerlo por medio de inundaci√≥n, incendio, veneno, explosi√≥n, varamiento
de nave, aver√≠a causada de prop√≥sito, descarrilamiento de locomotora o por
medio del uso de otro artificio que pueda ocasionar grandes estragos.
4. Aumentar deliberadamente el mal del hecho, causando otros males
innecesarios para su ejecuci√≥n.
5. Obrar con premeditaci√≥n conocida.
6. Emplear astucia, fraude o disfraz.
7. Emplear medios o hacer concurrir circunstancias que a√±adan la ignominia a los
efectos propios del delito.
8. Abusar de la superioridad del sexo, de la fuerza, de las armas, de la autoridad o
emplear cualquier otro medio que debilite la defensa del ofendido.
9. Obrar con abuso de confianza.
10. Cometer el hecho punible aprovech√°ndose del incendio, naufragio,
inundaci√≥n u otra calamidad semejante.
11. Ejecutarlo con armas o en uni√≥n de otras personas que aseguren o
proporcionen la impunidad.
12. Ejecutarlo en despoblado o de noche. Esta circunstancia la estimaran los
Tribunales atendiendo a las del delincuente y a los efectos del delito.
13. Ejecutarlo en desprecio o en ofensa de la autoridad p√∫blica o donde esta se
halle ejerciendo sus funciones.
14. Ejecutarlo con ofensa o desprecio del respeto que por su dignidad, edad o
sexo mereciere el ofendido, o en su morada, cuando √©ste no haya provocado el
suceso.
15. Ejecutarlo con escalamiento. Hay escalamiento cuando se entra por v√≠a que
no es la destinada al efecto.
16. Ejecutarlo con rompimiento de pared, techo o pavimento o con fractura,
entendi√©ndose por esta toda fuerza, rotura, descomposici√≥n, demolici√≥n, derribo
o agujeramiento de paredes, terrenos o pavimentos, puertas, ventanas, cerraduras,
candados u otros utensilios o instrumentos quesirvan para cerrar o impedir el
paso o la entrada y de toda especie de cerraduras, sean las que fueren.
17. Ser agraviado c√≥nyuge del ofensor, o su ascendiente o hermano leg√≠timo,
natural o adoptivoÕæ o c√≥nyuge de estosÕæ o ascendientes, descendientes o hermano
leg√≠timo de su c√≥nyugeÕæ o su pupilo, disc√≠pulo, amigo √≠ntimo o bienhechor.
18. Que el autor, con ocasi√≥n de ejecutar el hecho y para prepararse a perpetrarlo,
se hubiere embriagado deliberadamente, conforme se establece en la numeral 1 del art√≠culo 64.
19. Ser vago el culpable.
20. Ser por car√°cter pendenciero.
Art√≠culo 78. Las circunstancias enumeradas en el art√≠culo anterior se tendr√°n en cuenta para
el c√°lculo de la pena que ordena el art√≠culo 37 en su primera parte, pero pueden dar lugar a la
aplicaci√≥n del m√°ximum y tambi√©n a un aumento excepcional que exceda al extremo superior
de los dos que al delito asigne la ley, cuando √©sta misma disponga especialmente que en la
concurrencia de alguna o
algunas de dichas circunstanciases se imponga una pena en su m√°ximum o se la aumente en
una cuarta parte.
Art√≠culo 79. No producir√°n el efecto de aumentar la pena las circunstancias agravantes que
por si misma constituyeron un delito especialmente penado por la ley, expresado al
describirlo o penarlo, ni aquellas de tal manera inherentes al delito, que, sin su concurrencia,
no pudiera cometerse.
T√çTULO VI
De la Tentativa y del Delito Frustrado
Art√≠culo 80. Son punibles, adem√°s del delito consumado y de la falta, la tentativa de delito y
el delito frustrado.
Hay tentativa cuando, con el objeto de cometer un delito, ha comenzado alguien su ejecuci√≥n
por medios apropiados y no ha realizado todo lo que es necesario a la consumaci√≥n del
mismo, por causas independientes de su voluntad.
Hay delito frustrado cuando alguien ha realizado, con el objeto de cometer un delito, todo lo
que es necesario para consumarlo y, sin embargo, no lo ha logrado por circunstancias
independientes de su voluntad.
Art√≠culo 81. Si voluntariamente desiste el agente de continuar en la tentativa, solo incurre en
pena cuando los actos ya realizados constituyan, de por s√≠, otro u otros delitos o faltas.
Art√≠culo 82. En el delito frustrado se rebajar√° la tercera parte de la pena que hubiere debido
imponerse por el delito consumado, atendidas todas las circunstanciasÕæ y en la tentativa del
mismo delito, se rebajar√° de la mitad a las dos terceras partes, salvo en uno y otro caso,
disposiciones especiales.
T√çTULO VII
De la Concurrencia de Varias Personas en un Mismo Hecho Punible
Art√≠culo 83. Cuando varias personas concurren a la ejecuci√≥n de un hecho punible, cada uno
de los perpetradores y de los cooperadores inmediatos queda sujeto a la pena correspondiente
al hecho perpetrado. En la misma pena incurre el que ha determinado a otro a cometer el
hecho.
Art√≠culo 84. Incurren en la pena correspondiente al respectivo hecho punible, rebajada por
mitad, los que en √©l hayan participado de cualquiera de los siguientes modos:
1. Excitando o reforzando la resoluci√≥n de perpetrarlo o prometiendo asistencia y
ayuda para despu√©s de cometido.
2. Dando instrucciones o suministrando medios para realizarlo.
3. Facilitando la perpetraci√≥n del hecho o prestando asistencia o auxilio para que se realice, antes de su ejecuci√≥n o durante ella. La disminuci√≥n de pena prevista
en este art√≠culo no tiene lugar, respecto del que se encontrare en algunos de los
casos especificados, cuando sin su concurso no se hubiera realizado el hecho.
Art√≠culo 85. Las circunstancias agravantes o atenuantes inherentes a la persona del
delincuente o que consistieren en sus relaciones particulares con el ofendido o en otra causa
personal, servir√°n para atenuar o agravar la responsabilidad solo de aquellos en quienes
concurran.
Las que consistieren en la ejecuci√≥n material del hecho o en los medios empleados para
realizarlo, servir√°n para agravar la responsabilidad √∫nicamente de los que tuvieron
conocimiento de ellas en el momento de la acci√≥n o en el de su cooperaci√≥n para perpetrar el
delito.
T√çTULO VIII
De la Concurrencia de Hechos Punibles y de las Penas Aplicables
Art√≠culo 86. Al culpable de dos o m√°s delitos, cada uno de los cuales acarree pena de
presidio, s√≥lo se le aplicar√° la correspondiente al hecho m√°s grave, pero con aumento de las
dos terceras partes del tiempo correspondiente a la pena del otro u otros.
Art√≠culo 87. Al culpable de uno o m√°s delitos que merecieren penas de presidio y de otro u
otros que acarreen penas de prisi√≥n, arresto, relegaci√≥n a colonia penitenciaria,
confinamiento, expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, o multa, se le convertir√°n
estas en la de presidio y se le aplicar√° solo la pena de esta especie correspondiente al delito
mas grave, pero con el aumento de las dos
terceras partes de la otra u otras penas de presidio en que hubiere incurrido por los dem√°s
delitos y de las dos terceras partes tambi√©n del tiempo que resulte de la conversi√≥n de las
otras penas indicadas en la de presidio.
La conversi√≥n se har√° computando un d√≠a de presidio por dos de prisi√≥n, por tres de arresto,
por cuatro de relegaci√≥n a colonia penitenciaria, por cinco de confinamiento o expulsi√≥n del
espacio geogr√°fico de la Rep√∫blica, y por sesenta unidades tributarias (60 U.T.) de multa.
Art√≠culo 88. Al culpable de dos o m√°s delitos cada uno de los cuales acarree pena de prisi√≥n,
solo se le aplicar√° la pena correspondiente al mas grave, pero con el aumento de la mitad del
tiempo correspondiente a la pena del otro u otros.
Art√≠culo 89. Al culpable de uno o m√°s delitos que merecieren pena de prisi√≥n y de otro u
otros que acarreen penas de arresto, relegaci√≥n a colonia penitenciaria, confinamiento,
expulsi√≥n del espacio geogr√°fico de la Rep√∫blica o multa, se le convertir√°n estas en la de
prisi√≥n y se le aplicar√° solo la pena de esta especie que mereciere por el hecho mas grave,
pero con el aumento de la mitad del tiempo correspondiente a la otra u otras penas de prisi√≥n
en que hubiere incurrido y de la mitad tambi√©n del tiempo que resulte de la conversi√≥n de las
otras penas indicadas en la de prisi√≥n.
La conversi√≥n se har√° computando un d√≠a de prisi√≥n por dos de arresto, por tres de relegaci√≥n
a colonia penitenciaria, confinamiento o expulsi√≥n del espacio geogr√°fico de la Rep√∫blica y
por treinta unidades tributarias (30 U.T.) de multa.
Art√≠culo 90. Al culpable de dos o m√°s hechos punibles, cada uno de los cuales acarree pena
de arresto, s√≥lo se le castigar√° con la pena correspondiente al mas graveÕæ pero aumentada en
la tercera parte del tiempo correspondiente a la pena del otro u otros. Art√≠culo 91. Al culpable de uno o m√°s hechos punibles que merecieren pena de arresto y de
otro u otros que acarrean penas de relegaci√≥n a colonia penitenciaria, confinamiento,
expulsi√≥n del espacio geogr√°fico de la Rep√∫blica o multa, se le convertir√°n ‚Äöestas en la de
arresto y se le aplicar√° s√≥lo la pena del hecho mas grave que la mereciere, pero con aumento
de la tercera parte de la otra u otras penas de arresto en que hubiere incurrido y de la tercera
parte tambi√©n del tiempo que resulte de la conversi√≥n de las otras penas indicadas en la de
arresto.
La conversi√≥n se har√° computando un d√≠a de arresto por dos de relegaci√≥n a colonia
penitenciaria, confinamiento o expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, y por quince
unidades tributarias (15 U.T.) de multa.
Art√≠culo 92. Al culpable de dos o m√°s hechos punibles que merecieren penas de relegaci√≥n a
colonia penitenciaria, confinamiento o expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, se le
aplicar√° la primera con aumento de una cuarta parte del tiempo correspondiente a la otra u
otras. En los mismos t√©rminos se aplicar√° la de confinamiento, si con ellas solo concurriere la
de expulsi√≥n del espacio geogr√°fico de la Rep√∫blica.
Art√≠culo 93. Cuando la pena de multa concurriere con la de relegaci√≥n a colonia
penitenciaria, confinamiento o expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, no se
aplicar√° aquella sino que se la convertir√° en la de estas que le sea concurrente y la cual se
impondr√° entonces con el aumento del tiempo correspondiente a la multa.
La conversi√≥n se har√° a raz√≥n de un d√≠a de relegaci√≥n a colonia penitenciaria, de
confinamiento o de expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, por diez unidades
tributarias (10 U.T.) de multa.
Art√≠culo 94. En ning√∫n caso exceder√° del l√≠mite m√°ximo de treinta a√±os la pena restrictiva de
libertad que se imponga conforme a la ley.
Art√≠culo 95. La duraci√≥n de las penas accesorias se calculara seg√∫n el monto de la pena
principal √∫nica que se imponga de conformidad con los art√≠culos anteriores.
Art√≠culo 96. Al culpable de dos o m√°s hechos punibles que acarreen sendas penas de multa,
se le aplicar√°n todas, pero nunca en m√°s de dos mil unidades tributarias (2.000 U.T.) si se
trata de delitos, ni de trescientas unidades tributarias (300 U.T.) si se trata de faltas.
Art√≠culo 97. Las reglas contenidas en los anteriores art√≠culos se aplicar√°n al caso en que,
despu√©s de una sentencia condenatoria, haya de ser juzgada la misma persona por otro hecho
punible cometido antes de la condena o despu√©s de √©sta, pero mientras est√© cumpli√©ndola.
Mas, s√≠ la pena se hubiere cumplido o se hubiere extinguido la condena antes que la nueva sea
ejecutable, se castigar√° el nuevo hecho punible con la pena que le corresponda.
Art√≠culo 98. El que con un mismo hecho viole varias disposiciones legales, ser√° castigado
con arreglo a la disposici√≥n que establece la pena mas grave.
Art√≠culo 99. Se consideran como un solo hecho punible las varias violaciones de la misma
disposici√≥n legal, aunque hayan sido cometidas en diferentes fechas, siempre que se hayan
realizado con actos ejecutivos de la misma resoluci√≥nÕæ pero se aumentar√° la pena de una sexta
parte a la mitad.
T√çTULO IX
De la Reincidencia Art√≠culo 100. El que despu√©s de una sentencia condenatoria y antes de los diez a√±os de
haberla cumplido o de haberse extinguido la condena, cometiere otro hecho punible, ser√°
castigado por este con pena comprendida entre el t√©rmino medio y m√°ximum de la que le
asigne la ley.
Si el nuevo hecho punible es de la misma √≠ndole que el anteriormente perpetrado, se aplicar√°
la pena correspondiente con aumento de una cuarta parte.
Art√≠culo 101. El que despu√©s de dos o m√°s sentencias condenatorias a pena corporal,
incurriere en hecho punible que la merezca de la misma especie y sea de la misma √≠ndole, en
el t√©rmino indicado en el art√≠culo anterior, ser√° castigado con la pena correspondiente al
nuevo hecho aumentada en la mitad.
Art√≠culo 102. Para los efectos de la ley penal, se consideran como delitos de la misma √≠ndole
no solo los que violan la propia disposici√≥n legal, sino tambi√©n los comprendidos bajo el
mote del mismo T√≠tulo de este C√≥digo y aun aquellos que, comprendidos en T√≠tulos
diferentes, tengan afinidad en sus m√≥viles o consecuencias.
T√çTULO X
De la Extinci√≥n de la Acci√≥n Penal y de la Pena
Art√≠culo 103. La muerte del procesado extingue la acci√≥n penal. La muerte del reo extingue
tambi√©n la pena, aun la pecuniaria impuesta y no satisfecha y todas las consecuencias penales
de la misma, pero no impide la confiscaci√≥n de los objetos o instrumentos con que se cometi√≥
el delito ni el pago de las costas proc√©sales que se har√°n efectivas contra los herederos.
Art√≠culo 104. La amnist√≠a extingue la acci√≥n penal y hace cesar la ejecuci√≥n de la condena y
todas las consecuencias penales de la misma. El indulto o gracia que condona la pena la hace
cesar con todas sus accesorias. Cuando el indulto se concede conmutando la pena impuesta
por otra inferior, se cumplir√° √©sta con las accesorias que le correspondan.
Art√≠culo 105. El cumplimiento de la condena extingue la responsabilidad criminal.
Art√≠culo 106. En los hechos punibles para cuya averiguaci√≥n y castigo es menester instancia
de parte, el perd√≥n del ofendido extingue la acci√≥n penal, pero no hace cesar la ejecuci√≥n de
la condena sino en aquellos casos establecidos por la ley.
El perd√≥n obtenido por uno de los reos alcanza tambi√©n a los dem√°s El perd√≥n no produce
efecto respecto de quien se niegue a aceptarlos.
Art√≠culo 107. Ni la amnist√≠a ni el indulto o gracia, ni el perd√≥n de la parte ofendida dan
derecho a la restituci√≥n de las armas o instrumentos confiscados, ni de las cantidades pagadas
a T√≠tulo de multa o por costas proc√©sales, pero no podr√°n cobrarse las cantidades que aun
debiere el procesado.
Art√≠culo 108. Salvo el caso en que la ley disponga otra cosa, la acci√≥n penal prescribe as√≠:
1. Por quince a√±os, si el delito mereciere pena de prisi√≥n que exceda de diez
a√±os.
2. Por diez a√±os, si el delito mereciere pena de prisi√≥n mayor de siete a√±os sin
exceder de diez.
3. Por siete a√±os, si el delito mereciere pena de prisi√≥n de siete a√±os o menos.
4. Por cinco a√±os, si el delito mereciere pena de prisi√≥n de m√°s de tres a√±os.
5. Por tres a√±os, si el delito mereciere pena de prisi√≥n de tres a√±os o menos, arresto de m√°s de seis meses, relegaci√≥n a colonia penitenciaria, confinamiento o
expulsi√≥n del especio geogr√°fico de la Rep√∫blica.
6. Por un a√±o, si el hecho punible s√≥lo acarreare arresto por tiempo de uno a seis
meses, o multa mayor de ciento cincuenta unidades tributarias (150 U.T.), o
suspensi√≥n del ejercicio de profesi√≥n, industria o arte.
7. Por tres meses, si el hecho punible s√≥lo acarreare pena de multa inferior a
ciento cincuenta unidades tributarias (150 U.T.), o arresto de menos de un mes.
Art√≠culo 109. Comenzar√° la prescripci√≥n: para los hechos punibles consumados, desde el d√≠a
de la perpetraci√≥nÕæ para las infracciones, intentadas o fracasadas, desde el d√≠a en que se
realiz√≥ el √∫ltimo acto de la ejecuci√≥nÕæ y para las infracciones continuadas o permanentes,
desde el d√≠a en que ceso la continuaci√≥n o permanencia del hecho.
Si no pudiere promoverse o proseguirse la acci√≥n penal sino despu√©s de autorizaci√≥n especial
o despu√©s de resuelta una cuesti√≥n prejudicial deferida a otro juicio, quedara en suspenso la
prescripci√≥n y no volver√° a correr hasta el d√≠a en que se d√© la autorizaci√≥n o se define la
cuesti√≥n prejudicial.
Art√≠culo 110. Se interrumpir√° el curso de la prescripci√≥n de la acci√≥n penal por el
pronunciamiento de la sentencia, siendo condenatoria, o por la requisitoria que se libre contra
el imputado, si √©ste se fugare.
Interrumpir√°n tambi√©n la prescripci√≥n, la citaci√≥n que como imputado practique el Ministerio
P√∫blico, o la instauraci√≥n de la querella por parte de la v√≠ctima o de cualquier persona a los
que la ley reconozca con tal car√°cterÕæ y las diligencias y actuaciones procesales que le siganÕæ
pero si el juicio, sin culpa del imputado, se prolongare por un tiempo igual al de la
prescripci√≥n aplicable m√°s la mitad del mismo, se declarar√° prescrita la acci√≥n penal.
Si establece la ley un t√©rmino de prescripci√≥n menor de un a√±o, quedar√° ella interrumpida por
cualquier acto de procedimientoÕæ pero si en el t√©rmino de un a√±o, contado desde el d√≠a en que
comenz√≥ a correr la prescripci√≥n no se dictare la sentencia condenatoria, se tendr√° por
prescrita la acci√≥n penal.
La prescripci√≥n interrumpida comenzar√° a correr nuevamente desde el d√≠a de la interrupci√≥n.
La interrupci√≥n de la prescripci√≥n surte efectos para todos los que han concurrido al hecho
punible, aun cuando los actos que interrumpan la prescripci√≥n no se refieren sino a uno.
Art√≠culo 111. Cuando un condenado sea sometido por cualquier otro hecho punible a un
nuevo juicio, se computar√° la prescripci√≥n seg√∫n la pena que deber√° imponerse en la nueva
sentencia, cuando resulte inferior a la impuesta en la anterior.
Art√≠culo 112. Las penas prescriben as√≠:
1. Las de prisi√≥n y arresto, por un tiempo igual al de la pena que haya de
cumplirse, m√°s la mitad del mismo.
2. Las de relegaci√≥n a colonia penitenciaria, confinamiento y expulsi√≥n del
espacio geogr√°fico de la Rep√∫blica, por un tiempo igual al de la condena, m√°s la
tercera parte del mismo.
3. Las de suspensi√≥n de empleo o inhabilitaci√≥n para el ejercicio de profesi√≥n,
industria o arte, por un tiempo igual al de la condena, m√°s la cuarta parte del
mismo.
4. Las de multas en estos lapsos: las que no excedan de ciento cuarenta unidades
tributarias (140 U.T.), a los tres mesesÕæ y las que pasen de dicho l√≠mite, a los seis
meses, pero si fueren mayores de quinientas unidades tributarias (500 U.T.), s√≥lo
prescriben al a√±o. 5. Las de amonestaci√≥n o apercibimiento, a los seis meses.
6. Se entiende que la pena que haya de cumplirse, a que se refieren los numerales
1 y 2 de este art√≠culo, es lo que resulte seg√∫n el c√≥mputo practicado por el juez de
la causa.
Cuando la sentencia firme impusiere penas a m√°s de un delito, el tiempo para la prescripci√≥n
se aumentar√° en una cuarta parte del designado en este art√≠culo para la respectiva pena.
El tiempo para la prescripci√≥n de la condena comenzar√° a correr desde el d√≠a en que qued√≥
firme la sentencia o desde el quebrantamiento de la condena, si hubiere √©sta comenzado a
cumplirseÕæ pero en el caso de nueva prescripci√≥n, se computar√° en ella al penado el tiempo de
la condena sufrida.
Se interrumpir√° esta prescripci√≥n, quedando sin efecto el tiempo transcurrido, en el caso de
que el imputado se presente o sea habido y cuando cometiere un nuevo hecho punible de la
misma √≠ndole antes de completar el tiempo de la prescripci√≥n, sin perjuicio de que √©sta pueda
comenzar a correr de nuevo.
Si en virtud de nuevas disposiciones penales m√°s favorables al penado, fuere menester revisar
una sentencia condenatoria modificando la pena impuesta, solo se tendr√° en consideraci√≥n,
para los efectos de la prescripci√≥n, la pena que preceda conforme a la nueva disposici√≥n legal,
la cual tendr√° efecto retroactivo en todo lo que fuere en beneficio del penado.
Tampoco se tomar√° en consideraci√≥n, para los efectos de la prescripci√≥n de la pena, la
agravaci√≥n que debiera aplicarse por quebrantamiento de la respectiva condena.
T√çTULO XI
De la Responsabilidad Civil, su Extensi√≥n y Efectos
Art√≠culo 113. Toda persona responsable criminalmente de alg√∫n delito o falta, lo es tambi√©n
civilmente.
La responsabilidad civil nacida de la penal no cesa porque se extingan √©stas o la pena, sino
que durar como las dem√°s obligaciones civiles con sujeci√≥n a las reglas del derecho civil.
Sin embargo, el perd√≥n de la parte ofendida respecto a la acci√≥n penal, produce la renuncia de
la acci√≥n civil si no se ha hecho reserva expresa.
Se prescribir√° por diez a√±os la acci√≥n civil que proceda contra funcionarios p√∫blicos por
hechos ejecutados en el ejercicio del cargo.
Art√≠culo 114. La exenci√≥n de la responsabilidad penal declarada en el art√≠culo 62 numeral 4
del art√≠culo 65 y art√≠culos 69, 72 y 73, no comprende la exenci√≥n de la responsabilidad civil,
la cual se har√° efectiva con sujeci√≥n a las reglas siguientes:
1. Son responsables civilmente por los hechos que ejecuten los locos o dementes
y dem√°s personas comprendidas en el art√≠culo 62, sus padres o guardadores a
menos que hagan constar que no hubo por su parte culpa ni negligencia.
No existiendo estos o no teniendo bienes, responder√°n con los suyos propios los
autores del hecho, salvo el beneficio de competencia en la forma que establezca
la ley civil.
2. Son responsables civilmente las personas en cuyo favor se haya precavido el
mal, a proporci√≥n del beneficio que hubieren reportado.
Los tribunales se√±alaran, seg√∫n su prudente arbitrio, la cuota proporcional de que
cada interesado deba responder.
3. Responder√°n con sus propios bienes los menores de quince a√±os que ejecuten
el hecho penado por la ley, salvo el beneficio de competencia.
Si no tuvieren bienes responder√°n sus padres o guardadores, a menos que conste que no hubo por su parte culpa o negligencia. La misma regla se observar√°
respecto al sordomudo irresponsable criminalmente.
4. En el caso del art√≠culo 73 responder√°n civilmente los que hubieren causado la
omisi√≥n y en su defecto los que hubieren incurrido en ella, salvo respecto a los
√∫ltimos, el beneficio de competencia.
Art√≠culo 115. Las dem√°s personas exentas de responsabilidad criminal lo est√°n tambi√©n de
responsabilidad civil.
Art√≠culo 116. Son responsables civilmente, en defecto de los que lo sean criminalmente, los
posaderos, due√±os de casas de ventas de v√≠veres o licores, y cualesquiera otras personas o
empresas, por los delitos que se cometieren en los establecimientos que dirijan, siempre que
por su parte o la de sus dependientes haya habido infracci√≥n de los reglamentos de polic√≠a.
Art√≠culo 117. Son adem√°s responsables subsidiariamente los posaderos o directores de
establecimientos o casas de hu√©spedes, de los efectos robados a estos dentro de las mismas
casas o establecimientos, o de su indemnizaci√≥n, siempre que los alojados hubieren dado
conocimiento al mismo posadero, o director o al que haga sus veces, del dep√≥sito de aquellos
objetos y adem√°s, hubieren observado las prevenciones que los dichos posaderos, o sus
sustitutos, les hubieren hecho sobre cuidado y vigilancia de los mismos.
Esta responsabilidad no tendr√° lugar en caso de robo con violencia hecha a las personas, a no
ser que este haya sido ejecutado por los dependientes de la casa.
La misma responsabilidad subsidiaria y con las mismas condiciones, toca a los capitanes o
patrones de embarcaciones mercantes o de transporte, por el robo de los efectos de los
pasajeros puestos a bordo de ellas, salvo que lo que se dice en el p√°rrafo anterior de los
dependientes, se entiende aqu√≠ de los empleados subalternos del buque.
Art√≠culo 118. Son tambi√©n responsables subsidiariamente los maestros y las personas
dedicadas a cualquier g√©nero de industria, por las faltas o los delitos en que incurran sus
disc√≠pulos, oficiales o aprendices en el desempe√±o de su obligaci√≥n o servicio.
No incurren en esta responsabilidad si prueban que no han podido evitar el hecho de sus
disc√≠pulos, oficiales o aprendices.
Art√≠culo 119. En caso de rebeli√≥n existe la solidaridad en la responsabilidad civil derivada de
los da√±os y expropiaciones causados por fuerzas rebeldes.
Tal responsabilidad solidaria comprende a todos los que figuren en la insurrecci√≥n con el
grado de general, aun cuando sea usurpado, y cualquiera que sea el lugar de la Rep√∫blica
donde las fuerzas rebeldes hayan causado el da√±o.
En cuanto a los rebeldes que hayan actuado con grados inferiores, aun cuando sean
usurpados, la solidaridad s√≥lo existe por los da√±os y depreciaciones que cause cualquier
fuerza rebelde en el respectivo estado, Distrito Metropolitano de Caracas, territorio o
dependencia federal, donde ellos hayan participado en la rebeli√≥n.
Se except√∫an √∫nicamente de responsabilidad civil los soldados reclutados por los rebeldes, o
que al cometer el da√±o lo hubiesen hecho en cumplimiento de ordenes superiores.
Art√≠culo 120. La responsabilidad civil establecida en los art√≠culos anteriores comprende:
1. La restituci√≥n.
2. La reparaci√≥n del da√±o causado.
3. La indemnizaci√≥n de perjuicios. Art√≠culo 121. La restituci√≥n deber√° hacerse de la misma cosa, siempre que sea posible, con
pago de los deterioros o menoscabos a regulaci√≥n del tribunal.
La restituci√≥n debe hacerse aun cuando la cosa se halle en poder de un tercero que la posea
legalmente, salvo su repetici√≥n contra quien corresponda.
No ser√° aplicable esta disposici√≥n cuando el tercero haya adquirido la cosa en la forma y con
los requisitos establecidos por las leyes para hacerla irreivindicable.
Si no fuere posible la restituci√≥n de la cosa, se reparar√° la p√©rdida pag√°ndose el valor de ella.
La reparaci√≥n se har√° valorando la entidad del da√±o a regulaci√≥n del tribunal, atendido el
precio natural de la cosa, siempre que fuere posible, y el grado de afecci√≥n en que la tenga el
agraviadoÕæ y solo se exigir√° cuando no haya lugar a la restituci√≥n.
Art√≠culo 122. La indemnizaci√≥n de perjuicios comprender√°n no solo los que se hubiesen
causado al agraviado, sino tambi√©n los que se hubieren irrogado por raz√≥n del delito, a su
familia o a un tercero.
Los Tribunales regular√°n el importe de esta indemnizaci√≥n, en los mismos t√©rminos
prevenidos para la reparaci√≥n del da√±o en el art√≠culo precedente.
Art√≠culo 123. La obligaci√≥n de restituir, reparar el da√±o o indemnizar los perjuicios, se
trasmite a los herederos del responsable, pero hasta concurrencia del monto de la herencia,
siempre que la acepten bajo beneficio de inventario.
La acci√≥n para repetir la restituci√≥n, reparaci√≥n o indemnizaci√≥n, se transmite igualmente a
los herederos del perjudicado.
Art√≠culo 124. Si el hecho punible es imputable a varias personas, quedan √©stas obligadas
solidariamente por el da√±o causado.
Art√≠culo 125. El que por t√≠tulo lucrativo participe de los efectos de un delito o falta, esta
obligado al resarcimiento hasta la cuant√≠a en que hubiere participado.
Art√≠culo 126. Los condenados como responsables criminalmente lo ser√°n tambi√©n en la
propia sentencia, en todo caso a la restituci√≥n de la cosa ajena o su valorÕæ en las costas
proc√©sales y en la indemnizaci√≥n de perjuicios, en caso de constituirse el agraviado en
acusador y parte civil.
Art√≠culo 127. En caso de que la responsabilidad civil haya de reclamarse contra una persona
distinta de la que cometi√≥ el hecho no podr√° hacerse efectiva sino en juicio separado en que
ella intervenga.
LIBRO SEGUNDO
DE LAS DIVERSAS ESPECIES DE DELITO
T√çTULO I
De los Delitos Contra la Independencia
y la Seguridad de la Naci√≥n
CAP√çTULO I
De la traici√≥n a la patria y otros delitos contra √©sta
Art√≠culo 128. Cualquiera que, de acuerdo con pa√≠s o Rep√∫blica extranjera, enemigos
exteriores, grupos o asociaciones terroristas, paramilitares, insurgentes o subversivos,
conspire contra la integridad del territorio de la patria o contra sus instituciones republicanas, o las hostilice por cualquier medio para alguno de estos fines, ser√° castigado con la pena de
presidio de veinte a treinta a√±os.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados, no
tendr√°n derecho a gozar de los beneficios procesales de ley ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 129. El que dentro o fuera de Venezuela, sin complicidad con otra naci√≥n, atente por
si solo contra la independencia o la integridad del espacio geogr√°fico de la Rep√∫blica, ser√°
castigado con la pena de presidio de veinte a veintis√©is a√±os.
Con la misma pena ser√° castigado quien solicite, gestione o impetre, en cualquier forma, la
intervenci√≥n de un Gobierno extranjero para derrocar al gobierno venezolano.
Art√≠culo 130. Cualquiera que, en tiempo de guerra de alguna naci√≥n extranjera con
Venezuela, aparezca sublevado en armas contra el Gobierno leg√≠timo de la Rep√∫blica, y no las
deponga a la primera intimaci√≥n de la autoridad p√∫blica, ser√° castigado con la pena de
presidio de dieciocho a veinticinco a√±os.
Art√≠culo 131. Cualquiera que, dentro o fuera del territorio nacional, y a tiempo que Venezuela
se halle amenazada de guerra extranjera, favorezca, facilite o ayude directa o indirectamente,
con revueltas intestinas, o por medio de actos de perturbaci√≥n del orden p√∫blico, las miras,
planes o prop√≥sitos de los enemigos extra√±os y no se aparte de aquellas revueltas, ni se
retraiga de dichos actos a la primera intimaci√≥n de la autoridad p√∫blica o por propia o
espont√°nea deliberaci√≥n, ser√° castigado con presidio de doce a veinticuatro a√±os.
Art√≠culo 132. Cualquiera que, dentro o fuera del territorio nacional, conspire para destruir la
forma pol√≠tica republicana que se ha dado la naci√≥n ser√° castigado con presidio de ocho a
diecis√©is a√±os.
En la misma pena incurrir√° el venezolano que solicitare la intervenci√≥n extranjera en los
asuntos de la pol√≠tica interior de Venezuela, o pidiere su concurso para trastornar la paz de la
Rep√∫blica o que ante sus funcionarios, o por publicaciones hechas en la prensa extranjera,
incitare a la guerra civil en la Rep√∫blica o difamare a su Presidente o ultrajare al representante
diplom√°tico o a los funcionarios consulares de Venezuela, por raz√≥n de sus funciones, en el
pa√≠s donde se cometiere el hecho.
Art√≠culo 133. Cualquiera que de la manera expresada en el art√≠culo 128, estorbe o impida,
enerve o disminuya la acci√≥n del Gobierno Nacional o de los estados para la defensa
nacional, sin atender ni respetar las intimaciones de la autoridad p√∫blica, ser√° castigado con
presidio de cinco a diez a√±os.
Art√≠culo 134. Cualquiera que indebidamente y con perjuicio de la Rep√∫blica, haya revelado
los secretos pol√≠ticos o militares concernientes a la seguridad de Venezuela, bien sea
comunicando o publicando los documentos, datos, dibujos, planos u otras informaciones
relativas al material, fortificaciones u operaciones militares, bien sea diafanizando de otra
manera su conocimiento, ser√° castigado con presidio de siete a diez a√±os.
La pena ser√° de ocho a doce a√±os si los secretos se han revelado a una naci√≥n que este en
guerra con Venezuela o a los agentes de dicha naci√≥n, o tambi√©n si el hecho ha causado la
perturbaci√≥n de las relaciones amistosas de la Rep√∫blica con otro gobierno.
La pena se aumentar√° con una tercera parte si el culpable tenia los dibujos, planos o
documentos, o hab√≠a adquirido el conocimiento de los secretos por raz√≥n de su empleo, cargo
p√∫blico o funciones. Tambi√©n se aumentar√° la pena de la misma manera si por fraude hurto o
violencia se hubiere hecho la adquisici√≥n de dicho conocimiento o de aquellos objetos. Art√≠culo 135. El que hubiere obtenido la revelaci√≥n de los secretos o se los hubiere procurado
por cualquier medio ileg√≠timo, ser√° castigado con las penas establecidas en el art√≠culo
anterior, y conforme a las distinciones que en el se hacen.
Art√≠culo 136. Si los secretos especificados en el art√≠culo 134 se han divulgado por efecto de
la negligencia o imprudencia de los que, en raz√≥n de su empleo, estaban en posesi√≥n de los
dibujos, planos o documentos, o ten√≠an conocimiento de los secretos, los culpables ser√°n
castigados con prisi√≥n de cuarenta y cinco d√≠as a nueve meses.
Art√≠culo 137. Cualquiera que, indebidamente, haya levantado los planos de las
fortificaciones, naves o aeronaves de guerra, establecimientos v√≠as u obras militares, o que
con tal objeto se hubiere introducido, clandestinamente o con enga√±o, en los lugares
prohibidos al acceso p√∫blico por la autoridad militar, ser√° castigado, con prisi√≥n de tres a
quince meses.
El solo hecho de introducirse con enga√±o o clandestinamente en los mencionados lugares,
merece pena de prisi√≥n que puede ser de uno hasta tres meses.
Art√≠culo 138. El individuo que, encargado por el Gobierno de la Rep√∫blica para tratar de
negocios de Venezuela con un Gobierno extranjero, traicione su mandato perjudicando los
intereses p√∫blicos, ser√° castigado con presidio de seis a doce a√±os.
Art√≠culo 139. Las penas determinadas por los art√≠culos 128 y siguientes, se aplicar√°n tambi√©n
si el delito se ha cometido con perjuicio de una naci√≥n aliada con Venezuela para la guerra y
en el curso de √©sta.
Art√≠culo 140. El venezolano o extranjero residente en el pa√≠s, que facilite directa o
indirectamente al pa√≠s o Rep√∫blica extranjera, grupos o asociaciones terroristas, paramilitares,
insurgentes o subversivos, albergue, resguarde, le entregue o reciba de ellos suma de dinero,
provisiones de alimentos o cualquier tipo de apoyo log√≠stico, o pertrechos de guerra, o
aparatos tecnol√≥gicos que puedan emplearse en perjuicio de la Rep√∫blica Bolivariana de
Venezuela, la integridad de su territorio, sus instituciones republicanas, ciudadanos y
ciudadanas o desestabilice el orden social, ser√° castigado con prisi√≥n de diez a quince a√±os.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados, no
tendr√°n derecho a gozar de los beneficios procesales de ley ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 141. Cualquiera que por desprecio arrebatare, rompiere o destruyere en un lugar
p√∫blico o abierto al p√∫blico, la bandera nacional u otro emblema de la Rep√∫blica, ser√°
castigado con prisi√≥n de dos meses a un a√±o. Si este delito se cometiere encontr√°ndose la
Rep√∫blica empe√±ada en una guerra extranjera, la prisi√≥n ser√° de trece meses a dos a√±os.
Art√≠culo 142. El venezolano que acepte honores, pensiones u otras d√°divas de alguna naci√≥n
que se halle en guerra con Venezuela, ser√° castigado con presidio de seis a doce a√±os.
CAP√çTULO II
De los delitos contra los poderes nacionales y de los estados
Art√≠culo 143.Ser√°n castigados con presidio de doce a veinticuatro a√±os:
1. Los que se alcen p√∫blicamente, en actitud hostil, contra el Gobierno
leg√≠timamente constituido o elegido, para deponerlo o impedirle tomar posesi√≥n
del mando. 2. Los que, sin el objeto de cambiar la forma pol√≠tica republicana que se ha dado
la naci√≥n, conspiren o se alcen para cambiar violentamente la Constituci√≥n de la
Rep√∫blica Bolivariana de Venezuela.
En la mitad de la pena referida incurrir√°n los que cometen los actos a que se
refieren los numerales anteriores, con respecto a los gobernadores de los estados,
los consejos legislativos de los estados y las constituciones de los estadosÕæ y en la
tercera parte de dicha pena, los que se cometieren contra los Alcaldes de los
municipios.
3. Los que promuevan la guerra civil entre la Rep√∫blica y los estados o entre
estos.
Art√≠culo 144. Cualquiera que, sin autorizaci√≥n del Gobierno Nacional, haga levas o arme
venezolanos o extranjeros en el espacio geogr√°fico de la Rep√∫blica para ponerlos al servicio
de otra naci√≥n ser√° castigado con arresto en fortaleza o c√°rcel pol√≠tica por tiempo de seis
meses a dos a√±os. La pena ser√° de uno a tres a√±os, si entre los reclutados hay alguno que
pertenezca al Ej√©rcito.
Art√≠culo 145. Cualquiera que ejecute alg√∫n acto que tenga por objeto hacer tomar las armas a
los habitantes de la Rep√∫blica contra los Poderes P√∫blicos de la naci√≥n, ser√° castigado con
presidio de tres a seis a√±os. Cuando los actos de que se trata en este art√≠culo se cometieren
con respecto a alguno de los estados de la Rep√∫blica, las penas que se establecen se reducir√°n
a la mitad de las indicadas en el propio art√≠culo.
Art√≠culo 146. El que, sin estar autorizado por la ley ni por orden del Gobierno, tome el
mando de tropas, plazas, fortalezas, puestos militares, puertos, poblaciones o buques o
aeronaves de guerra, ser√° castigado con arresto en fortaleza o c√°rcel pol√≠tica, por tiempo de
treinta meses a cinco a√±os.
Art√≠culo 147. Quien ofendiere de palabra o por escrito, o de cualquier otra manera irrespetare
al Presidente de la Rep√∫blica o a quien est√© haciendo sus veces, ser√° castigado con prisi√≥n de
seis a treinta meses si la ofensa fuere grave, y con la mitad de √©sta si fuere leve.
La pena se aumentar√° en una tercera parte si la ofensa se hubiere hecho p√∫blicamente.
Art√≠culo 148. Cuando los hechos especificados en el art√≠culo precedente se efectuaren contra
la persona del Vicepresidente Ejecutivo de la Rep√∫blica, de alguno de los Magistrados o
Magistradas del Tribunal Supremo de Justicia, de un Ministro del Despacho, de un
Gobernador de estado, de un diputado o diputada de la Asamblea Nacional, del Alcalde
Metropolitano, o de alg√∫n rector o rectora del
Consejo Nacional Electoral, o del Defensor del Pueblo, o del Procurador General, o del Fiscal
General o del Contralor General de la Rep√∫blica, o alg√∫n miembros del Alto Mando Militar,
la pena indicada en dicho art√≠culo, se reducir√° a su mitad, y a su tercera parte si se trata de los
Alcaldes de los municipios.
Art√≠culo 149. Cualquiera que vilipendiare p√∫blicamente a la Asamblea Nacional, al Tribunal
Supremo de Justicia o al Gabinete o Consejo de Ministros, as√≠ como a alguno de los consejos
legislativos de los estados o algunos de los tribunales superiores, ser√° castigado con prisi√≥n de
quince d√≠as a diez meses.
En la mitad de dicha pena incurrir√°n los que cometieren los hechos a que se refiere este
art√≠culo, con respecto a los consejos municipales.
La pena se aumentar√° proporcionalmente en la mitad, si la ofensa se hubiere cometido
hall√°ndose las expresadas corporaciones en ejercicio de sus funciones oficiales. Art√≠culo 150. Corresponde a los tribunales de justicia determinar sobre la gravedad o lenidad
de las ofensas a que se refieren los art√≠culos 147, 148 y 149.
Art√≠culo 151. El enjuiciamiento por los hechos de que hablan los art√≠culos precedentes no se
hace lugar sino mediante requerimiento de la persona o cuerpo ofendido, hecho por conducto
del representante del Ministerio P√∫blico, ante el juez competente.
CAP√çTULO III
De los delitos contra el derecho internacional
Art√≠culo 152. Los venezolanos o extranjeros que cometan actos de pirater√≠a ser√°n castigados
con presidio de diez a quince a√±os.
Incurren en este delito los que rigiendo o tripulando un buque no perteneciente a la Marina de
guerra de ninguna naci√≥n, ni provisto de patente de corso debidamente expedida, o haciendo
parte de un cuerpo armado que ande a su bordo, ataquen otras naves o cometan depredaciones
en ellas o en los lugares de la costa donde arriben, o se declaren en rebeli√≥n contra el
Gobierno de la Rep√∫blica.
Art√≠culo 153. Los venezolanos o extranjeros que en Venezuela recluten gente o acopien
armas, o formen juntas o preparen expediciones o salgan del espacio geogr√°fico de la
Rep√∫blica en actitud hostil para acometer o invadir el de una naci√≥n amiga o neutral, ser√°n
castigados con pena de tres a seis a√±os de arresto en fortaleza o c√°rcel pol√≠tica.
En la misma pena determinada en este art√≠culo incurren los venezolanos o extranjeros que en
Venezuela construyan buques, los armen en guerra o aumenten sus fuerzas o pertrechos, su
dotaci√≥n o el n√∫mero de sus marineros para hacer la guerra a una naci√≥n con la cual est√© en
paz la Rep√∫blica.
Art√≠culo 154. Las penas fijadas en el art√≠culo que antecede, se aumentar√°n en una tercera
parte si los actos hostiles contra la naci√≥n amiga o neutral, han expuesto a Venezuela al
peligro de una guerra internacional o han hecho romper las relaciones amistosas del Gobierno
de Rep√∫blica con el de aquella naci√≥n.
Se aplicar√°n dobladas las susodichas penas si por consecuencia de los actos mencionados, se
le ha declarado la guerra a la Rep√∫blica.
Art√≠culo 155. Incurren en pena de arresto en fortaleza o c√°rcel pol√≠tica por tiempo de uno a
cuatro a√±os:
1. Los venezolanos o extranjeros que, durante una guerra de Venezuela contra
otra naci√≥n, quebranten las treguas o armisticios o los principios que observan los
pueblos civilizados en la guerra, como el respeto debido a los prisioneros, a los
no combatientes, a la bandera blanca, a los parlamentarios, a la Cruz Roja y otros
casos semejantes, sin perjuicio de lo que dispongan las leyes militares, que se
aplicar√°n especialmente en todo lo que a √©ste respecto ordenen.
2. Los venezolanos o extranjeros que, con actos de hostilidad contra uno de los
beligerantes, cometidos dentro del espacio geogr√°fico de la Rep√∫blica,
quebranten la neutralidad de √©sta en caso de guerra entre naciones extra√±as.
3. Los venezolanos o extranjeros que violen las convenciones o tratados
celebrados por la Rep√∫blica, de un modo que comprometa la responsabilidad de
√©sta.
Art√≠culo 156. Los venezolanos o extranjeros que contra la prohibici√≥n de las leyes, decretos o mandamientos de las autoridades de una naci√≥n amiga o neutral, entren en ella por la fuerza o
clandestinamente partiendo del territorio de Venezuela, ser√°n castigados con pena de
expulsi√≥n del espacio geogr√°fico de la Rep√∫blica por tiempo de dos a cinco a√±os.
Art√≠culo 157. Cualquiera que cometa un delito en el espacio geogr√°fico de la Rep√∫blica
contra el Jefe o Primer Magistrado de una naci√≥n extranjera, incurrir√° en la pena aplicable al
hecho cometido con un aumento de una sexta a una tercera parte.
Si se tratara de un acto contra la vida, la seguridad o la libertad individual de dicho personaje,
la agravaci√≥n de la pena, de conformidad con la disposici√≥n anterior, no podr√° ser menor de
tres a√±os de prisi√≥n.
En los dem√°s casos la pena corporal no podr√° ser menor de sesenta d√≠as, ni la pena pecuniaria
inferior a doscientas cincuenta unidades tributarias (250 U.T.).
Si el hecho punible fuere de los que no permiten procedimiento de oficio, el juicio no se har√°
lugar sino a instancia del Gobierno extranjero.
Art√≠culo 158. Cualquiera que por acto de menosprecio a una potencia extranjera, arrebate,
rompa o destruya la bandera o cualquier otro emblema de dicha naci√≥n, ser√° castigado con
arresto en fortaleza o c√°rcel pol√≠tica por tiempo de uno a seis meses. El enjuiciamiento no se
har√° lugar sino a instancia del Gobierno extranjero.
Art√≠culo 159. En los casos de delitos cometidos contra los representantes de potencias
extranjeras acreditadas cerca del Gobierno de Venezuela, en raz√≥n de sus funciones, se
aplicar√°n las penas establecidas para los mismos hechos cometidos contra los funcionarios
p√∫blicos venezolanos, por raz√≥n de sus funciones. Si se tratare de ofensas cometidas, el
enjuiciamiento no podr√° hacerse lugar sino mediante la instancia correspondiente de la parte
agraviada.
CAP√çTULO IV
Disposiciones comunes a los cap√≠tulos precedentes
Art√≠culo 160. Cualquiera que para cometer alguno de los delitos previstos en los art√≠culos
131, 143 y 145, se valga de fuerza armada o ejerza en ella mando superior o atribuciones
especiales, ser√° castigado con arresto en fortaleza o c√°rcel pol√≠tica por tiempo de cinco a siete
a√±os.
Art√≠culo 161. Cualquiera que fuera de los casos previstos en el art√≠culo 84, proporcione
voluntariamente amparo o asistencia, facilite recurso a la fuerza armada de que se habla en el
art√≠culo precedente, o de alg√∫n modo favoreciere sus operaciones, ser√° castigado con arresto
en fortaleza o c√°rcel pol√≠tica por tiempo de tres a treinta meses.
Art√≠culo 162. Estar√°n exentos de la pena se√±alada a los actos previstos en los dos art√≠culos
precedentes:
1. Los que antes de toda medida de la autoridad o de la fuerza p√∫blica, o
inmediatamente despu√©s, hayan disuelto la gente armada o impedido que √©sta
cometiese el delito para el cual se hab√≠a reunido.
2. Los que no habiendo participado en la formaci√≥n o en el mando de la gente
armada, consintieren antes o inmediatamente despu√©s de dicha medida, en
retirarse sin resistencia entregando o abandonando sus armas.
3. Los soldados reclutados por las fuerzas rebeldes. Art√≠culo 163. Cuando varias personas han concertado o intentado, por medios determinados,
cometer alguno de los delitos previstos en los art√≠culos 128, 143 y 145 y primera parte del
art√≠culo 157, cada una de ellas ser√° castigada como sigue:
1. En los casos del art√≠culo 128, con la pena de presidio de seis a doce a√±os.
2. En el caso de los art√≠culos 143, con la pena de presidio de tres a seis a√±os y en
el caso del art√≠culo 145, con presidio de seis meses a un a√±o.
3. En el caso de primer aparte del art√≠culo 157, con prisi√≥n de uno a tres a√±os.
Estar√°n exentos de toda pena los que se retiren del complot antes de haberse dado principio a
la ejecuci√≥n del delito y antes de que se inicie el procedimiento judicial correspondiente.
El que, fuera de los casos previstos en los art√≠culos 83 y 84 excitare p√∫blicamente a cometer
alguno de los delitos previstos en los art√≠culos 128, 143 y 145, ser√° castigado, solamente por
ese hecho, con presidio de uno a tres a√±os en el caso del art√≠culo 128 y con prisi√≥n por igual
tiempo en los casos de los otros dos art√≠culos.
Art√≠culo 164. Cuando en el curso de la ejecuci√≥n de alguno de los delitos previstos en el
presente T√≠tulo, el inculpado cometa otro delito que merezca pena corporal, mayor de treinta
meses, la pena que resultare de la aplicaci√≥n del T√≠tulo VIII del Libro Primero, se aumentar√°
en una sexta parte.
Si el nuevo delito cometido, fuere el de homicidio o de lesiones, se seguir√°n las reglas
siguientes:
1. Si tales delitos fueron cometidos por las fuerzas rebeldes en acci√≥n de guerra,
se aumentar√° en una mitad la pena normalmente se√±alada para su castigo.
2. Los homicidios y lesiones cometidos por las fuerzas rebeldes no en acci√≥n de
guerra, se castigar√°n de conformidad con las disposiciones de los Cap√≠tulos I, II y
III, T√≠tulo IX, Libro Segundo del presente C√≥digo.
3. Los homicidios y lesiones cometidos por las fuerzas del Gobierno se
castigar√°n conforme al C√≥digo Militar.
Art√≠culo 165. La disposici√≥n del art√≠culo precedente se aplicar√° tambi√©n al que, para cometer
alguno de los delitos previstos en el presente T√≠tulo, invada alg√∫n edificio p√∫blico o
particular, o se apodere con violencia o enga√±o, de armas, municiones o v√≠veres existentes en
el lugar de la venta o dep√≥sito, aunque el hecho merezca una pena corporal menor de treinta
meses.
T√çTULO II
Delitos Contra la Libertad
CAP√çTULO I
De los delitos contra las libertades pol√≠ticas
Art√≠culo 166. Cualquiera que, por medio de violencias, amenazas o tumultos, impida o
paralice, total o parcialmente, el ejercicio de cualquiera de los derechos pol√≠ticos, siempre que
el hecho no este previsto por una disposici√≥n especial de la ley, ser√° castigado con arresto en
fortaleza o c√°rcel pol√≠tica por tiempo de quince d√≠as a quince meses.
Si el culpable es un funcionario p√∫blico y ha cometido el delito con abuso de sus funciones, el
arresto ser√° de seis a treinta meses.
CAP√çTULO II
De los delitos contra la libertad de cultos Art√≠culo 167. El que por ofender alg√∫n culto l√≠citamente establecido o que se establezca en la
Rep√∫blica, impida o perturbe el ejercicio de las funciones o ceremonias religiosas, ser√°
castigado con arresto desde cinco hasta cuarenta y cinco d√≠as.
Si el hecho fuere acompa√±ado de amenazas, violencias, ultrajes o demostraciones de
desprecio, el arresto ser√° por tiempo de cuarenta y cinco d√≠as a quince meses.
Art√≠culo 168. El que por hostilidad contra alg√∫n culto establecido o que se establezca en la
Rep√∫blica, vilipendie a la persona que lo profese, ser√° castigado, por acusaci√≥n de la parte
agraviada con prisi√≥n de uno hasta seis meses.
Art√≠culo 169. El que por desprecio a un culto establecido o que se establezca en la Rep√∫blica,
destruya, maltrate o desperfeccione de cualquier manera, en un lugar p√∫blico, las cosas
destinadas a dicho cultoÕæ y tambi√©n el que violente o vilipendie a alguno de sus ministros, ser√°
castigado con prisi√≥n de cuarenta y cinco d√≠as a quince meses.
Si se trata de otro delito cometido contra el ministro de alg√∫n culto en ejercicio de sus
funciones o causa de estas, la pena fijada a dicho delito se aumentar√° en una sexta parte.
Art√≠culo 170. Cualquiera que en los lugares destinados al culto, o en los cementerios,
deteriore, desperfeccione o afee los monumentos, pinturas, piedras, l√°pidas, inscripciones o
t√∫mulos, ser√° castigado con arresto de uno a seis meses o multa de ciento cincuenta unidades
tributarias (150 U.T.) a un mil quinientas unidades tributarias (1.500 U.T.).
Art√≠culo 171. Cualquiera que cometa actos de profanaci√≥n en el cad√°ver o en las cenizas de
una persona y cualquiera que con un fin injurioso, o simplemente il√≠cito, sustrajere,
fraudulentamente, el todo o parte de los despojos o restos mismos, o de alguna manera viole
un t√∫mulo o urna cineraria, ser√° castigado con prisi√≥n de seis meses a tres a√±os.
Art√≠culo 172. Cualquiera que fuera de los casos antes indicados, profanare total o
parcialmente, el cad√°ver de alguna persona, lo exhumare, sustrajere o se apoderare de sus
restos, ser√° castigado con prisi√≥n de tres a quince meses. Si el hecho se ha cometido por el
administrador o celador de un cementerio o lugar de sepulturas, o por persona a la cual se
hubiere confiado la guarda del cad√°ver o de
los restos, la pena se aumentar√° en una tercera parte en el primer caso, y en una cuarta parte
en el segundo.
CAP√çTULO III
De los delitos contra la libertad individual
Art√≠culo 173. Cualquiera que reduzca a esclavitud a alguna persona o la someta a una
condici√≥n an√°loga, ser√° castigado con presidio de seis a doce a√±os. En igual pena incurrir√°n
los que intervinieren en la trata de esclavos.
Art√≠culo 174. Cualquiera que ileg√≠timamente haya privado a alguno de su libertad personal
ser√° castigado con prisi√≥n de quince d√≠as a treinta meses.
Si el culpable para cometer el delito o durante su comisi√≥n, hizo uso de amenazas, sevicia o
enga√±o, o si lo cometi√≥ por esp√≠ritu de venganza o lucro, o con el fin o pretexto de religi√≥n, o
si secuestr√≥ la persona para ponerla al servicio militar de pa√≠s extranjero, la prisi√≥n ser√° de
dos a cuatro a√±os.
Si el delito se ha cometido contra alg√∫n ascendiente o c√≥nyuge, contra alg√∫n miembro de la
Asamblea NacionalÕæ de los consejos legislativos de los estados, contra alg√∫n Magistrado del
Tribunal Supremo de Justicia o contra cualquier otro Magistrado P√∫blico, por raz√≥n de sus funciones, o si del hecho ha resultado alg√∫n perjuicio grave para la persona, la salud o los
bienes del agraviado, la pena de
prisi√≥n ser√° de treinta meses a siete a√±os.
Si el culpable, espont√°neamente, ha puesto en libertad a la persona antes de toda diligencia de
enjuiciamiento, sin haber conseguido el fin que se propon√≠a ni haberle ocasionado da√±o
alguno, la pena ser√° de quince meses a tres y medio a√±os.
Art√≠culo 175. Cualquiera que, sin autoridad o derecho para ello, por medio de amenazas,
violencias u otros apremios ileg√≠timos, forzare a una persona a ejecutar un acto a que la ley no
la obliga o a tolerarlo o le impidiere ejecutar alguno que no le esta prohibido por la misma,
ser√° penado con prisi√≥n de quince d√≠as a treinta meses.
Si el hecho ha sido con abuso de autoridad p√∫blica, o contra alg√∫n ascendiente o c√≥nyuge, o
contra alg√∫n funcionario p√∫blico por raz√≥n de sus funciones, o si del hecho ha resultado alg√∫n
perjuicio grave para la persona, la salud o los bienes del agraviado, la pena ser√° de prisi√≥n de
treinta meses a cinco a√±os.
El que, fuera, de los casos indicados y de otros que prevea la ley, amenazare a alguno con
causarle un da√±o grave e injusto, ser√° castigado con relegaci√≥n a colonia penitenciaria por
tiempo de uno a diez meses o arresto de quince d√≠as a tres meses, previa la querella del
amenazado.
Art√≠culo 176. El funcionario p√∫blico que con abuso de sus funciones o quebrantando las
condiciones o las formalidades prescritas por la ley, privare de la libertad a alguna persona
ser√° castigado con prisi√≥n de cuarenta y cinco d√≠as a tres y medio a√±osÕæ y si el delito se ha
cometido con alguna de las circunstancias indicadas en el primero y segundo apartes del
art√≠culo precedente, la prisi√≥n ser√° de tres a cinco a√±os.
En el caso previsto en el √∫ltimo aparte del art√≠culo 174, la pena ser√° de diez meses a dos a√±os
y medio.
Art√≠culo 177. Cualquiera que con un objeto extra√±o al de satisfacer sus propias pasiones, de
contraer matrimonio o de realizar alguna ganancia hubiere arrebatado a una persona, menor
de quince a√±os, aun consinti√©ndolo ella, del lado de sus padres, tutores o dem√°s guardadores
siquiera sean temporalmente, ser√° castigado con prisi√≥n de seis meses a dos a√±osÕæ e igual
pena se impondr√° al que, indebidamente, secuestre a dicha persona aunque esta preste su
asenso para ello.
Si el delito se hubiere cometido sin la aquiescencia de la persona arrebatada o secuestrada, o
si √©sta no tuviere doce a√±os de edad, se aplicar√°n seg√∫n los casos, las disposiciones y las
penas especificadas en los art√≠culos precedentes.
Art√≠culo 178. El funcionario p√∫blico que, con abuso de sus funciones, ordene o ejecute la
pesquisa o registro del cuerpo de una persona, ser√° castigado con prisi√≥n de uno a cinco
meses.
Art√≠culo 179. El funcionario p√∫blico que rigiendo un establecimiento penitenciario o un
establecimiento penal, reciba en calidad de preso o de detenido, a alguna persona, sin orden
escrita de la autoridad competente, o se niegue a obedecer una orden escrita de excarcelaci√≥n
emanada de la misma autoridad, ser√° castigado con prisi√≥n de cuatro a seis meses.
Art√≠culo 180. Todo funcionario p√∫blico competente que, teniendo conocimiento de una
detenci√≥n ilegal, omita, retarde o reh√∫se tomar medidas para hacerla cesar o para denunciarla
a la autoridad que deba proveer al efecto ser√° castigado con multa de cien unidades tributarias
(100 U.T.) a un mil unidades tributarias (1.000 U.T.). Art√≠culo 180.A. La autoridad p√∫blica, sea civil o militar, o cualquier persona al servicio del
Estado que ileg√≠timamente prive de su libertad a una persona, y se niegue a reconocer la
detenci√≥n o a dar informaci√≥n sobre el destino o la situaci√≥n de la persona desaparecida,
impidiendo, el ejercicio de sus derechos y garant√≠as constitucionales y legales, ser√° castigado
con pena de quince a veinticinco a√±os
de presidio. Con igual pena ser√°n castigados los miembros o integrantes de grupos o
asociaciones con fines terroristas, insurgentes o subversivos, que actuando como miembros o
colaboradores de tales grupos o asociaciones, desaparezcan forzadamente a una persona,
mediante plagio o secuestro. Quien act√∫e como c√≥mplice o encubridor de este delito ser√°
sancionado con pena de doce a dieciocho a√±os de presidio.
El delito establecido en este art√≠culo se considerar√° continuado, mientras no se establezca el
destino o ubicaci√≥n de la v√≠ctima.
Ninguna orden o instrucci√≥n de una autoridad p√∫blica, sea esta civil, militar o de otra √≠ndole,
ni estado de emergencia, de excepci√≥n o de restricci√≥n de garant√≠as, podr√° ser invocada para
justificar la desaparici√≥n forzada.
La acci√≥n penal derivada de este delito y su pena ser√°n imprescriptibles, y los responsables de
su comisi√≥n no podr√°n gozar de beneficio alguno, incluidos el indulto y la amnist√≠a.
Si quienes habiendo participado en actos que constituyan desapariciones forzadas,
contribuyen a la reaparici√≥n con vida de la v√≠ctima o dan voluntariamente informaciones que
permitan esclarecer casos de desaparici√≥n forzada, la pena establecida en este art√≠culo les
podr√° ser rebajada en sus dos terceras partes.
Art√≠culo 181. Todo funcionario p√∫blico encargado de la custodia o conducci√≥n de alguna
persona detenida o condenada, que cometa contra ella actos arbitrarios o la someta a actos no
autorizados por los reglamentos del caso, ser√° castigado con prisi√≥n de quince d√≠as a veinte
meses. Y en la misma pena incurrir√° el funcionario p√∫blico que investido, por raz√≥n de sus
funciones, de autoridad respecto de dicha persona, ejecute con √©sta alguno de los actos
indicados.
Se castigar√°n con prisi√≥n de 3 a 6 a√±os los sufrimientos, ofensas a la dignidad humana,
vej√°menes, torturas o atropellos f√≠sicos o morales cometidos en persona detenida por parte de
sus guardianes o carceleros, o de quien diera la orden de ejecutarlos, en contravenci√≥n, a los
derechos individuales reconocidos en el numeral 2 del art√≠culo 46 de la Constituci√≥n de la
Rep√∫blica Bolivariana de Venezuela.
Art√≠culo 182. Cuando para cometer alguno de los delitos previstos en los art√≠culos anteriores,
el funcionario p√∫blico hubiere procedido para satisfacer alg√∫n inter√©s privado, las penas ser√°n
las siguientes: en el caso del art√≠culo 180, en lugar de la pena de multa, se impondr√° la de
prisi√≥n, de tres a cuarenta y cinco d√≠asÕæ y en los dem√°s casos la pena correspondiente se
aumentar√° en una sexta parte.
CAP√çTULO IV
De los delitos contra la inviolabilidad del domicilio
Art√≠culo 183. Cualquiera que, arbitraria, clandestina o fraudulentamente, se introduzca o
instale en domicilio ajeno, o en sus dependencias, contra la voluntad de quien tiene derecho a
ocuparlo, ser√° castigado con prisi√≥n de quince d√≠as a quince meses. Si el delito se ha
cometido de noche o con violencia a las personas, o con armas, o con el concurso de varios
individuos, la prisi√≥n ser√° de seis a treinta meses. El enjuiciamiento no se har√° lugar sino por
acusaci√≥n de la parte agraviada.
Art√≠culo 184. El funcionario p√∫blico que con abuso de sus funciones o faltando a las condiciones o formalidades establecidas por la ley, se introduzca en domicilio ajeno o en sus
dependencias, ser√° castigado con prisi√≥n de cuarenta y cinco d√≠as a dieciocho meses.
Si el hecho fuere acompa√±ado de pesquisas o de alg√∫n otro acto arbitrario, la prisi√≥n ser√° de
seis a treinta meses.
Si consta que el culpable ha obrado por causa de alg√∫n inter√©s privado, las penas se
aumentar√°n en una sexta parte.
CAP√çTULO V
De los delitos contra la inviolabilidad del secreto
Art√≠culo 185. El que indebidamente abra alguna carta, telegrama o pliego cerrado que no se
le haya dirigido, o que indebidamente lo tome para conocer su contenido, aunque no est√©
cerrado, perteneciendo a otro, ser√° castigado con arresto de ocho a veinte d√≠as.
Si divulgando el contenido el culpable ha causado alg√∫n perjuicio, la pena ser√° de quince d√≠as
a diez meses de arresto.
Art√≠culo 186. Cualquiera que haya suprimido indebidamente alguna correspondencia
epistolar o telegr√°fica que no le pertenezca, aunque estando cerrada no la hubiere abierto, ser√°
castigado con arresto de uno a seis meses.
Si el hecho ha ocasionado alg√∫n perjuicio, el arresto no podr√° bajar de cuarenta y cinco d√≠as.
Art√≠culo 187. Cualquiera que teniendo una correspondencia epistolar o telegr√°fica, no
destinada a la publicidad, la hiciere indebidamente p√∫blica, aunque le haya sido dirigida,
siempre que el hecho pueda ocasionar alg√∫n perjuicio, ser√° castigado con multa de cincuenta
unidades tributarias (50 U.T.) a un mil unidades tributarias (1.000 U.T.).
Art√≠culo 188. El que estando empleado en el servicio de correos o tel√©grafos, con abuso de su
oficio se adue√±are de alguna carta, telegrama, comunicaci√≥n o cualquiera otra
correspondencia no cerrada, o que est√°ndolo, la abra para conocer su contenido, o la retenga o
revele su existencia o contenido a otra persona distinta del t√≠tulo de su destino, ser√° castigado
con prisi√≥n de quince d√≠as a quince meses.
La misma pena se impondr√° al que en servicio y con abuso de los mencionados oficios,
suprima alguna de las dichas correspondencias.
Si alguno de los hechos previstos en el presente art√≠culo causare alg√∫n perjuicio, la pena de
prisi√≥n ser√° de tres meses a dos a√±os.
Art√≠culo 189. El que teniendo por raz√≥n de su estado, funciones, profesi√≥n, arte u oficio,
conocimiento de alg√∫n secreto cuya divulgaci√≥n pueda causar alg√∫n perjuicio, lo revela, no
obstante, sin justo motivo, ser√° castigado con prisi√≥n de cinco a treinta d√≠as.
Art√≠culo 190. En lo que concierne a los delitos previstos en los art√≠culos 185, 186, 187 y 189
siempre que el hecho no hubiere ocasionado alg√∫n perjuicio que interese al orden p√∫blico, el
enjuiciamiento no se har√° lugar sino por acusaci√≥n de la parte agraviada.
CAP√çTULO VI
De los delitos contra la libertad del trabajo
Art√≠culo 191. Cualquiera que, por medio de violencias o amenazas, restrinja o suprima, de
alguna manera, la libertad del comercio o de la industria, ser√° castigado con prisi√≥n de uno a
diez meses.
Art√≠culo 192. Todo el que vali√©ndose de violencias ocasione o haga que contin√∫e una cesaci√≥n o suspensi√≥n de trabajo, con el objeto de imponer a los obreros, patrones o
empresarios alguna disminuci√≥n o aumento de salarios o tambi√©n convenios diferentes de los
pactados, ser√° castigado con arresto de uno a diez meses.
Art√≠culo 193. Los jefes o promotores de los actos previstos en los art√≠culos precedentes, ser√°n
castigados con arresto de cuarenta y cinco d√≠as a dieciocho meses.
T√çTULO III
De los Delitos Contra la Cosa P√∫blica
CAP√çTULO I
Del peculado
Art√≠culo 194. Todo funcionario p√∫blico que sustrajere los dineros u otros objetos muebles de
cuya recaudaci√≥n, custodia o administraci√≥n est√© encargado en virtud de sus funciones, ser√°
castigado con presidio de tres a diez a√±os.
Si el perjuicio no es grave, o si fuere enteramente reparado antes de ser sometido a juicio el
culpado, se le impondr√° prisi√≥n de tres a veinti√∫n meses.
CAP√çTULO II De
la Concusi√≥n
Art√≠culo 195. Todo funcionario que abusando de sus funciones, constri√±a a alguna persona a
que d√© o prometa a √©l mismo o a un tercero alguna suma de dinero u otra ganancia o d√°diva
indebida, ser√° castigado con prisi√≥n de dieciocho meses a cinco a√±os.
Si la suma o cosa indebidamente dada o prometida es de poco valor, la prisi√≥n ser√° por
tiempo de tres a veinti√∫n meses.
Art√≠culo 196. Todo funcionario que abusando de sus funciones, induzca a alguna persona a
que cometa alguno de los hechos a que se refiere el art√≠culo anterior, ser√° castigado con
prisi√≥n de dos a diecis√©is meses.
Si recibiendo el funcionario p√∫blico lo que no le era debido no hace m√°s que aprovecharse del
error de otro, la prisi√≥n ser√° de tres a quince meses.
Si la suma o la cosa indebidamente dada o prometida fuere de poco valor, la prisi√≥n, en el
primer caso, ser√° de uno a diez mesesÕæ y en el segundo, de quince d√≠as a seis meses.
CAP√çTULO III
De la corrupci√≥n de funcionarios
Art√≠culo 197. Todo funcionario que, por propia o ajena cuenta, reciba por alg√∫n acto de sus
funciones, en dinero o en otra cosa, alguna retribuci√≥n que no se le deba o cuya promesa
acepte, ser√° castigado con prisi√≥n de uno a dos meses.
Art√≠culo 198. Todo funcionario p√∫blico que por retardar u omitir alg√∫n acto de sus funciones
o por efectuar alguno que sea contrario al deber mismo que ellas imponen, reciba, o se haga
prometer, dinero u otra utilidad, bien por s√≠, bien por medio de otra persona, ser√° castigado
con presidio de tres a cinco a√±os.
El presidio ser√° de cuatro a ocho a√±os si el acto cometido ha tenido por efecto:
1. Conferir empleos p√∫blicos, subsidios, pensiones u honores, o hacer que se
convenga en contratos en que est√© interesada la administraci√≥n a que pertenece el
funcionario.
2. Favorecer o causar alg√∫n perjuicio o da√±o a alguna de las partes en un juicio civil, o al culpable en un proceso penal.
Si del acto ha resultado una sentencia condenatoria restrictiva de la libertad individual, que
exceda de seis meses, el presidio ser√° de tres a diez a√±os.
Art√≠culo 199. Cualquiera que, sin conseguir su objeto, se empe√±e en persuadir o inducir a
alg√∫n funcionario p√∫blico a que cometa alguno de los delitos previstos en los art√≠culos
precedentes ser√° castigado, cuando la inducci√≥n es con el objeto de que el funcionario incurra
en el delito previsto por el art√≠culo 197, con multa de ciento cincuenta unidades tributarias
(150 U.T.) a un mil unidades tributarias (1.000 U.T.)Õæ y si es con el fin de que incurra en el
se√±alado por el art√≠culo 198, con las penas all√≠ establecidas, pero reducidas a la mitad.
Art√≠culo 200. Los que lograren corromper a los funcionarios p√∫blicos, haci√©ndoles cometer
alguno de los delitos previstos en este Cap√≠tulo, incurrir√°n en las mismas penas que los
empleados sobornados.
Art√≠culo 201. Cuando el soborno mediare en causa criminal en favor del reo, por parte de su
c√≥nyuge o de alg√∫n ascendiente, descendiente o hermano, se rebajar√° la pena que debiera
imponerse al sobornante, atendidas todas las circunstancias, en dos terceras partes.
Art√≠culo 202. En los casos previstos en los art√≠culos precedentes, el dinero u objeto dados
ser√°n confiscados.
CAP√çTULO IV
De los abusos de la autoridad y de las infracciones
de los deberes de los funcionarios p√∫blicos
Art√≠culo 203. Todo funcionario p√∫blico que abusando de sus funciones, ordene o ejecute en
da√±o de alguna persona cualquier acto arbitrario que no este especialmente previsto como
delito o falta por una disposici√≥n de la ley, ser√° castigado con prisi√≥n de quince d√≠as a un a√±o
y si obra por un inter√©s privado, la pena se aumentar√° en una sexta parte.
Con la misma pena se castigar√° al funcionario p√∫blico que en ejercicio de sus funciones,
excite a alguna persona a desobedecer las leyes o las medidas tomadas por la autoridad.
Art√≠culo 204. Todo funcionario p√∫blico que por s√≠ mismo, por interpuesta persona, o por
actos simulados se procure alguna utilidad personal en cualquiera de los actos de la
administraci√≥n p√∫blica en que ejerce sus funciones, ser√° castigado con prisi√≥n de seis meses a
cinco a√±os.
Art√≠culo 205. Todo funcionario p√∫blico que comunique o publique los documentos o hechos
de que est√° en conocimiento o posesi√≥n por causa de sus funciones y que deba mantener
secretos, ser√° castigado con arresto de tres a quince meses y, asimismo, todo funcionario
p√∫blico que de alguna manera favorezca la divulgaci√≥n de aquellos.
Art√≠culo 206. Todo funcionario p√∫blico que bajo cualquier pretexto, aunque fuere el del
silencio, oscuridad, contradicci√≥n o insuficiencia de la ley, omita o reh√∫se cumplir alg√∫n acto
de su ministerio, ser√° castigado con multa de cincuenta unidades tributarias (50 U.T.) a un mil
quinientas unidades tributarias (1.500 U.T.).
Si el delito se hubiere cometido por tres funcionarios p√∫blicos, por lo menos, y previa
inteligencia para el efecto, la multa ser√° de cien unidades tributarias (100 U.T.) a dos mil
unidades tributarias (2.000 U.T.). Si el funcionario p√∫blico es del ramo judicial, se reputar√°
culpable de la omisi√≥n o de la excusa, siempre que concurran las condiciones que requiere la ley para intentar contra √©l el recurso de queja, a fin de hacer efectiva la responsabilidad civil.
Art√≠culo 207. Todo funcionario p√∫blico que habiendo adquirido, en el ejercicio de sus
funciones, conocimiento resultante de estas mismas funciones de alg√∫n hecho punible por el
cual ordene la ley proceder de oficio y omita o retarde indebidamente dar parte de ello a la
autoridad competente, ser√° castigado con multa de cincuenta unidades tributarias (50 U.T.) a
un mil unidades tributarias (1.000 U.T.).
Art√≠culo 208. Los funcionarios p√∫blicos que, en n√∫mero de tres o m√°s y previo acuerdo,
abandonaren indebidamente sus funciones, ser√°n castigados con multa de doscientas unidades
tributarias (200 U.T.) a un mil unidades tributarias (1.000 U.T.) y con suspensi√≥n del empleo
por tiempo de uno o dos a√±os. Con la misma pena ser√° castigado todo funcionario p√∫blico que
abandone sus funciones para
impedir el despacho de alg√∫n asunto o para ocasionar cualquier otro perjuicio al servicio
p√∫blico.
CAP√çTULO V
De los abusos de los ministros de cultos en el ejercicio de sus funciones
Art√≠culo 209. El ministro de cualquier culto que, en el ejercicio de sus funciones, trate con
p√∫blico desprecio o vilipendio las instituciones, las leyes de la Rep√∫blica o los actos de la
autoridad, ser√° castigado con arresto de uno a seis meses.
Art√≠culo 210. El ministro de cualquier culto que prevali√©ndose de su car√°cter, excite al
menosprecio y desobediencia de las instituciones, leyes o disposiciones de la autoridad, o de
los deberes inherentes a un oficio p√∫blico, ser√° castigado con arresto en fortaleza o c√°rcel
pol√≠tica por tiempo de cuarenta y cinco d√≠as a un a√±o.
Si el hecho se hubiere cometido p√∫blicamente, el arresto podr√° imponerse hasta por dos a√±os.
Con las mismas penas se castigar√° al ministro de cualquier culto que, prevali√©ndose de su
car√°cter, constri√±a, induzca o persuada a alguna persona a efectuar actos o a hacer
declaraciones contrarias a las leyes en perjuicio de los derechos adquiridos en virtud de √©stas.
Art√≠culo 211. Incurrir√°n en la pena de expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, por
tiempo de uno a tres a√±os, los eclesi√°sticos que quebranten las disposiciones de la ley sobre
patronato eclesi√°stico, o que de alg√∫n otro modo, a t√≠tulo de funciones, jurisdicci√≥n o deberes
eclesi√°sticos, usurpen la jurisdicci√≥n civil, o desconozcan la soberan√≠a de la naci√≥n, o
desobedezcan las leyes de la
Rep√∫blica y las resoluciones y prohibiciones que, en consecuencia, dicte y establezca el
Gobierno.
El Tribunal Supremo de Justicia podr√° conmutar la pena de que habla el art√≠culo anterior, en
confinamiento por tiempo igual:
1. A un lugar de otra di√≥cesis, si es Arzobispo, Obispo, Cabildo, Vicario
Capitular o Provisor, √©l que hubiere cometido la infracci√≥n.
2. A un distrito, parroquia o lugar de la misma di√≥cesis, diferente del de la
jurisdicci√≥n o residencia del autor de la infracci√≥n, si √©ste fuere Vicario for√°neo,
Cura u otro eclesi√°stico.
Art√≠culo 212. Cuando el ministro de alg√∫n culto, prevali√©ndose de su car√°cter, cometa
cualquier otro delito de los no previstos en los art√≠culos precedentes, la pena se√±alada al delito
cometido se aumentar√° de una sexta a una tercera parte, a no ser que su referida cualidad de ministro se haya tenido ya en cuenta por la ley.
CAP√çTULO VI
De la usurpaci√≥n de funciones, t√≠tulos u honores
Art√≠culo 213. Cualquiera que indebidamente asuma o ejerza funciones p√∫blicas civiles o
militares, ser√° castigado con prisi√≥n de dos a seis meses, y en la misma pena incurrir√° todo
funcionario p√∫blico que siga ejerci√©ndolas despu√©s de haber sido legalmente reemplazado o
de haberse eliminado el cargo.
Podr√° disponerse que, a costa del condenado, se publique la sentencia en extracto, en alg√∫n
peri√≥dico del lugar que indicar√° el juez.
Art√≠culo 214. Cualquiera que usare indebida y p√∫blicamente h√°bito, insignias o uniformes del
estado clerical o militar, de un cargo p√∫blico o de un instituto cient√≠fico, y el que se arrogue
grados acad√©micos o militares, o condecoraciones o se atribuya la calidad de profesor y
ejerciere p√∫blicamente actos propios de una facultad que para el efecto requiere t√≠tulo oficial,
ser√° castigado con multa de cincuenta unidades tributarias (50 U.T.) a un mil unidades
tributarias (1.000 U.T.).
El juez puede ordenar en estos casos que se publique la sentencia, como se dispone en la parte
final del art√≠culo anterior.
CAP√çTULO VII
De la violencia o de la resistencia a la autoridad
Art√≠culo 215. El que amenace a un funcionario p√∫blico o a uno de sus parientes cercanos, con
el fin de intimidarlo para hacer o dejar de hacer algo propio de sus funciones, ser√° castigado
con prisi√≥n de uno a tres a√±os. Si el hecho se ejecutare con violencia la pena ser√° de dos a
cuatro a√±os.
Cuando los hechos descritos en el aparte anterior fuesen ejecutados en perjuicio de un alto
funcionario de los previstos en el numeral 3 del art√≠culo 266 de la Constituci√≥n de la
Rep√∫blica Bolivariana de Venezuela, la pena ser√° de dos a cinco a√±os.
Si la amenaza o acto de violencia se realizare en el domicilio o residencia del funcionario
p√∫blico, las penas se incrementar√°n en una tercera parte.
Si el autor del delito fuere un funcionario p√∫blico, la pena correspondiente se incrementar√° en
dos terceras partes.
Art√≠culo 216. El que use de violencia o amenaza para impedir o perturbar las reuniones o
funcionamiento de los cuerpos leg√≠timamente constituidos, judiciales, pol√≠ticos, electorales o
administrativos o de sus representantes o de otra autoridad o institutos p√∫blicos o para influir
en sus deliberaciones, ser√° castigado con las penas establecidas en el art√≠culo precedente.
Art√≠culo 217. El que haga parte de una asociaci√≥n de diez o m√°s personas que tengan por
objeto cometer, por medio de violencia o amenaza, el hecho previsto en el art√≠culo
precedente, ser√° castigado con prisi√≥n de un mes a dos a√±os.
Si el hecho se cometiere con armas, la prisi√≥n ser√° de tres meses a tres a√±os.
Si al primer requerimiento de la autoridad se disolviere la asociaci√≥n, las personas que
hubieren hecho parte de ella no incurrir√°n en ninguna responsabilidad criminal por el hecho
previsto en este art√≠culo.
Art√≠culo 218. Cualquiera que use de violencia o amenaza para hacer oposici√≥n a alg√∫n
funcionario p√∫blico en el cumplimiento de sus deberes oficiales, o a los individuos que hubiere llamado para apoyarlo, ser√° castigado con prisi√≥n de un mes a dos a√±os.
La prisi√≥n ser√°:
1. Si el hecho se hubiere cometido con armas blancas o de fuego, de tres meses a
dos a√±os.
2. Si el hecho se hubiere cometido con armas de cualquier especie, en reuni√≥n de
cinco a m√°s personas, o en reuni√≥n de m√°s de diez personas sin armas y en virtud
de alg√∫n plan concertado, de uno a cinco a√±os.
Si el hecho ten√≠a por objeto impedir la captura de su autor o de alguno de los
parientes cercanos de √©ste, la pena ser√° de prisi√≥n de uno a diez meses, o de
confinamiento que no baje de tres meses, en el caso del aparte primero del
presente art√≠culo. En el caso del n√∫mero primero se aplicar√° la pena de prisi√≥n de
dos a veinte meses, y en el caso del n√∫mero segundo, de seis a treinta meses.
3. Si la resistencia se hubiere hecho sin armas blancas o de fuego a Agentes de la
Polic√≠a, tan solo eludiendo un arresto que los propios Agentes trataren de realizar
por simples faltas en que hubiere incurrido el reo, la pena ser√° solamente de uno
a seis meses de arresto.
Art√≠culo 219. Para los efectos de la ley penal se consideran parientes cercanosÕæ al c√≥nyuge,
los ascendientes y descendientes, los t√≠os y sobrinos, los hermanos y los afines en el mismo
grado.
Art√≠culo 220. No se aplicar√°n las penas previstas en los art√≠culos precedentes si el
funcionario p√∫blico ha provocado el hecho, excediendo los l√≠mites de sus atribuciones con
actos arbitrarios.
Art√≠culo 221. A los jefes o promotores de los hechos previstos en los art√≠culos precedentes,
se les aplicar√°n las mismas penas, aumentadas de una sexta a una tercera parte.
CAP√çTULO VIII
De los ultrajes y otros delitos contra
las personas investidas de autoridad p√∫blica
Art√≠culo 222. El que de palabra u obra ofendiere de alguna manera el honor, la reputaci√≥n o
el decoro de un miembro de la Asamblea Nacional, o de alg√∫n funcionario p√∫blico, ser√°
castigado del modo que sigue, si el hecho ha tenido lugar en su presencia y con motivo de sus
funciones:
1. Si la ofensa se ha dirigido contra alg√∫n agente de la fuerza p√∫blica, con prisi√≥n
de uno a tres meses.
2. Si la ofensa se ha dirigido contra un miembro de la Asamblea Nacional o
alg√∫n funcionario p√∫blico, con prisi√≥n de un mes a un a√±o, seg√∫n la categor√≠a de
dichas personas.
Art√≠culo 223. Si el hecho previsto en el art√≠culo precedente ha sido acompa√±ado de violencia
o amenaza, se castigar√° con prisi√≥n de tres a dieciocho meses.
Cualquiera que de alg√∫n otro modo y fuera de los casos previstos en el Cap√≠tulo anterior, haga
uso de violencia o amenaza, contra un miembro de la Asamblea Nacional o alg√∫n funcionario
p√∫blico, si el hecho tiene lugar con motivo de las funciones del ofendido, ser√° castigado con
las mismas penas. Art√≠culo 224. Cuando alguno de los hechos previstos en los art√≠culos precedentes se haya
cometido contra alg√∫n funcionario p√∫blico, no por causa de sus funciones sino en el momento
mismo de estar ejerci√©ndolas, se aplicar√°n las mismas penas reducidas de una tercera parte a
la mitad.
Art√≠culo 225. El que de palabra o de obra ofendiere de alguna manera el honor, la reputaci√≥n,
decoro o dignidad de alg√∫n cuerpo judicial, pol√≠tico o administrativo, si el delito se ha
cometido en el acto de hallarse constituido, o de alg√∫n magistrado en audiencia, ser√°
castigado con prisi√≥n de tres meses a dos a√±os.
Si el culpable ha hecho uso de violencia o amenazas, la prisi√≥n ser√° de seis meses a tres a√±os.
El enjuiciamiento no se har√° lugar sino mediante requerimiento del cuerpo ofendido. Si el
delito se ha cometido contra cuerpos no reunidos, el enjuiciamiento s√≥lo se har√° lugar
mediante requerimiento de los miembros que los presiden.
Este requerimiento se dirigir√° al representante del Ministerio P√∫blico para que promueva lo
conducente.
Art√≠culo 226. En los casos previstos en los art√≠culos precedentes, no se admitir√° al culpable,
prueba alguna sobre la verdad ni a√∫n sobre la notoriedad de los hechos o de los defectos
imputados a la parte ofendida.
Art√≠culo 227. Las disposiciones establecidas en los art√≠culos precedentes, no tendr√°n
aplicaci√≥n si el funcionario p√∫blico ha dado lugar al hecho, excediendo con actos arbitrarios
los l√≠mites de sus atribuciones.
Art√≠culo 228. En todos los dem√°s casos no previstos por una disposici√≥n especial de la ley, el
que cometa alg√∫n delito contra un miembro de la Asamblea Nacional o cualquier funcionario
p√∫blico, por raz√≥n de sus funciones, incurrir√° en la pena establecida para el delito cometido,
m√°s el aumento de una sexta a una tercera parte
CAP√çTULO IX
De la alteraci√≥n de sellos y substracciones cometidas en los dep√≥sitos
p√∫blicos
Art√≠culo 229. El que de alguna manera haya violado los sellos puestos en virtud de una
disposici√≥n de ley o de una orden de la autoridad, para asegurar la conservaci√≥n o la identidad
de alguna cosa, ser√° castigado con prisi√≥n de dos a dieciocho meses.
Si el culpable fuere el mismo funcionario p√∫blico que ha ordenado o ejecutado la imposici√≥n
de los sellos, o el que tiene la custodia o dep√≥sito de la cosa sellada, la pena ser√° la de prisi√≥n
de quince a treinta meses.
Si el delito se hubiere cometido por negligencia o imprudencia del funcionario p√∫blico o
depositario, √©ste ser√° castigado con multa de cien unidades tributarias (100 U.T.) a un mil
unidades tributarias (1.000 U.T.).
Art√≠culo 230. Cualquiera que haya substra√≠do, suprimido, destruido o alterado alg√∫n
instrumento, o efecto de alg√∫n hecho punible, acto o documento colocado en una oficina a
cargo de alg√∫n funcionario p√∫blico en raz√≥n de su car√°cter, ser√° castigado con prisi√≥n de seis
a treinta meses.
Si el culpable fuere el mismo funcionario p√∫blico, que en raz√≥n de sus funciones tenia la
custodia de los instrumentos o efectos expresados o de los actos o documentos, la pena ser√°
de prisi√≥n por un tiempo de uno a cuatro a√±os.
Si el perjuicio causado ha sido leve o si el culpable ha restituido √≠ntegro el acto o el documento sin haber tenido utilidad, y antes de las diligencias procesales, la pena ser√°, en el
caso de la parte primera del presente art√≠culo, la de prisi√≥n por tiempo de tres a dieciocho
meses, y en el caso del precedente aparte, la de prisi√≥n de seis meses a dos a√±os.
Art√≠culo 231. El que haya substra√≠do o convertido en provecho propio o ajeno o haya
rehusado entregar a quien corresponda de derecho los objetos dados en prenda o puestos en
secuestro, que se hubieren confiado a su custodia, ser√° castigado con prisi√≥n de seis a treinta
meses.
Si el culpable fuere el propietario mismo del objeto pignorado o secuestrado, la pena ser√° la
de prisi√≥n de uno a seis meses.
Si el delito se ha cometido por negligencia o imprudencia del depositario, este ser√° castigado
con multa de veinticinco unidades tributarias (25 U.T.) a quinientas unidades tributarias (500
U.T.).
Si el valor del objeto es de poca importancia o si el culpable restituye la cosa o paga el precio
antes del procedimiento judicial, la pena se rebajar√° de una sexta a una tercera parte.
CAP√çTULO X
De la suposici√≥n de valimiento con los funcionarios p√∫blicos
Art√≠culo 232. El que d√°ndose valimiento o relaciones de importancia e influencia con alg√∫n
funcionario p√∫blico, o miembro de la Asamblea Nacional, reciba o se haga dar o prometer,
para s√≠ o para otro, dinero u otras ventajas, bien como est√≠mulo o recompensa de su mediaci√≥n
con aquella persona, bien a pretexto de comprar favores o remunerar beneficios, ser√°
castigado con prisi√≥n de seis a treinta meses.
CAP√çTULO XI
De la falta de cumplimiento de los compromisos contra√≠dos y de los fraudes
cometidos con respecto a los abastos p√∫blicos
Art√≠culo 233. El que con desprecio de sus obligaciones de lugar a que falten los v√≠veres u
otros efectos de necesidad en un establecimiento o servicio p√∫blico, o que est√©n destinados al
alivio de alguna calamidad p√∫blica, ser√° castigado con prisi√≥n de tres a dieciocho meses.
Si la falta de cumplimiento fuere tan solo por negligencia, el culpable ser√° castigado con
prisi√≥n de uno a seis meses.
Art√≠culo 234. El que cometa fraude con respecto a la especie, calidad o cantidad de los
efectos indicados en el art√≠culo precedente, ser√° castigado con prisi√≥n de tres a treinta meses.
Siempre que los fraudes de que se trata tengan por objeto otra clase de abastos destinados a
un establecimiento o servicio p√∫blico, la pena de prisi√≥n ser√° de dos meses a un a√±o.
CAP√çTULO XII
Disposiciones comunes a los cap√≠tulos precedentes
Art√≠culo 235. Para los efectos de la ley penal, se consideran como funcionarios p√∫blicos:
1. Todos los que est√°n investidos de funciones p√∫blicas, aunque sean transitorias,
remuneradas o gratuitas, y tengan por objeto el servicio de la Rep√∫blica, de alg√∫n
estado de la Rep√∫blica, territorio o dependencia federal, secci√≥n, distrito o
municipio o alg√∫n establecimiento p√∫blico sometido por la ley a la tutela de
cualquiera de estas entidades.
2. Los agentes de la fuerza p√∫blica. Asimilarse a los funcionarios p√∫blicos, desde el punto de vista de las consecuencias legales,
los conjueces, asociados, jurados, √°rbitros, expertos, int√©rpretes, testigos y fiscales durante el
ejercicio de sus funciones.
Art√≠culo 236. En el caso de que la cualidad de funcionario p√∫blico sea elemento constitutivo
o circunstancia agravante de un hecho punible, se comprende aquel en que √©ste es perpetrado,
cuando ya el funcionario dej√≥ de serlo si se le ha cometido por causa de las funciones que
ejerc√≠a.
Art√≠culo 237. Cuando para cometer un delito se valga alguno de la facultad o de los medios
especiales que le ofrecen al efecto las funciones de que este investido, se le aplicar√° la pena
se√±alada al delito cometido, con aumento de una sexta a una tercera parte, a no ser que la ley
ya hubiere tenido en cuenta, con tal fin, la cualidad de funcionario p√∫blico.
T√çTULO IV
De los Delitos Contra la Administraci√≥n de Justicia
CAP√çTULO I
De la negativa a servicios legalmente debidos
Art√≠culo 238. Todo individuo que llamado por la autoridad judicial en calidad de testigo,
experto, m√©dico, cirujano o int√©rprete, se excuse de comparecer sin motivo justificado, ser√°
castigado con prisi√≥n de quince d√≠as a tres meses. El que habiendo comparecido reh√∫se sin
raz√≥n legal sus deposiciones o el cumplimiento del oficio que ha motivado su citaci√≥n,
incurrir√° en la misma pena.
Adem√°s de la prisi√≥n se impondr√° al culpable la inhabilitaci√≥n en el ejercicio de su profesi√≥n
o arte por un tiempo igual al de la prisi√≥n, terminada √©sta.
Las penas establecidas en este art√≠culo no se aplicar√°n sino en los casos en que disposiciones
especiales no establezcan otra cosa.
CAP√çTULO II
De la simulaci√≥n de hechos punibles
Art√≠culo 239. Cualquiera que denuncie a la autoridad judicial o a alg√∫n funcionario de
instrucci√≥n un hecho punible supuesto o imaginario, ser√° castigado con prisi√≥n de uno a
quince meses. Al que simule los indicios de un hecho punible, de modo que de lugar a un
principio de instrucci√≥n, se le impondr√° la misma pena.
El que ante la autoridad judicial declare falsamente que ha cometido o ayudado a cometer
alg√∫n hecho punible, de modo que de lugar a un principio de instrucci√≥n, a menos que su
declaraci√≥n sea con el objeto de salvar a alg√∫n pariente cercano, un amigo √≠ntimo o su
bienhechor, incurrir√° igualmente en la propia pena.
CAP√çTULO III
De la calumnia
Art√≠culo 240. El que a sabiendas de que un individuo es inocente, lo denunciare o acusare
ante la autoridad judicial, o ante un funcionario p√∫blico que tenga la obligaci√≥n de trasmitir la
denuncia o querella, atribuy√©ndole un hecho punible, o simulando las apariencias o indicios
materiales de un hecho punible, incurrir√° en la pena de seis a treinta meses de prisi√≥n.
El culpable ser√° castigado con prisi√≥n por tiempo de dieciocho meses a cinco a√±os en los
casos siguientes: 1. Cuando el delito imputado merece pena corporal que exceda de treinta meses.
2. Cuando la inculpaci√≥n mentirosa ha causado la condenaci√≥n a pena corporal
de menor duraci√≥n.
Si la condena impuesta ha sido a pena de presidio, deber√° imponerse al calumniante la pena
de cinco a√±os de prisi√≥n.
Art√≠culo 241. Las penas establecidas en el art√≠culo precedente, se reducir√°n a las dos terceras
partes, si el culpable del delito especificado se ha retractado de sus imputaciones o si ha
revelado la simulaci√≥n antes de cualquier acto de enjuiciamiento contra la persona
calumniada. Las penas dichas solo quedar√°n reducidas a la mitad si la retractaci√≥n o la
revelaci√≥n interviene antes de la sentencia que recaiga con motivo de la inculpaci√≥n
mentirosa.
CAP√çTULO IV
Del falso testimonio
Art√≠culo 242. El que deponiendo como testigo ante la autoridad judicial, afirme lo falso o
niegue lo cierto o calle, total o parcialmente, lo que sepa con relaci√≥n a los hechos sobre los
cuales es interrogado ser√° castigado con prisi√≥n de quince d√≠as a quince meses.
Si el falso testimonio se ha dado contra alg√∫n indiciado por delito o en el curso de un juicio
criminal, la prisi√≥n ser√° de seis a treinta meses, y si concurren esas dos circunstancias, ser√° de
dieciocho meses a tres a√±os.
Si el falso testimonio ha sido la causa de una sentencia condenatoria a pena de presidio, la
prisi√≥n ser√° de tres a cinco a√±os.
Si el testimonio se hubiere dado sin juramento, la pena se reducir√° de una sexta a una tercera
parte.
Art√≠culo 243. Estar√° exento de toda pena por el delito previsto en el art√≠culo precedente:
1. El testigo que si hubiere dicho la verdad habr√≠a expuesto inevitablemente su
propia persona, la de un pariente cercano, amigo √≠ntimo o bienhechor a un
peligro grave, tocante a la libertad o al honor.
2. El individuo que, habiendo manifestado ante la autoridad su nombre y
circunstancias, no debi√≥ hab√©rsele considerado como testigo o no se le advirti√≥ la
facultad que tenia de abstenerse de declarar.
Si el falso testimonio ha expuesto a alguna persona otra persona a procedimiento criminal o a
una condena, la pena se reducir√° solamente de la mitad a las dos terceras partes.
Art√≠culo 244. Estar√° exento de toda pena con relaci√≥n al delito previsto en el art√≠culo 242 el
que habiendo declarado en el curso de un procedimiento penal, se retracte de su falso
testimonio y deponga conforme a la verdad, antes de concluirse la averiguaci√≥n sumaria por
auto de no haber lugar a proseguirla o el proceso por auto de sobreseimiento fundado en no
haber meritos para cargos o antes de que se descubra la falsedad del testimonio.
Si la retractaci√≥n se efect√∫a despu√©s o si se refiere a una falsa deposici√≥n en juicio civil, la
pena se disminuir√° de una tercera parte a la mitad, siempre que la retractaci√≥n tenga lugar
antes del fallo definitivo del asunto.
Si el solo falso testimonio ha sido causa de la detenci√≥n de una persona o de alg√∫n otro grave
perjuicio para la misma, √∫nicamente se rebajar√° un tercio de la pena en el caso de la parte
primera del presente art√≠culo y un sexto, en el caso del primer aparte. Art√≠culo 245. Las disposiciones de los art√≠culos precedentes ser√°n tambi√©n aplicables a los
expertos e int√©rpretes, que llamados en calidad de tales ante la autoridad judicial, den
informes, noticias o interpretaciones mentirosas, quienes ser√°n adem√°s, castigados con la
inhabilitaci√≥n para el ejercicio de su profesi√≥n o arte, por un tiempo igual al de la prisi√≥n,
terminada esta.
Art√≠culo 246. El que haya sobornado a un testigo, perito o int√©rprete, con el objeto de hacerle
cometer el delito previsto en el art√≠culo 242, ser√° castigado, cuando el falso testimonio,
peritaje o interpretaci√≥n se hayan efectuado, con las penas siguientes:
1. En el caso de la parte primera del citado art√≠culo, con prisi√≥n de cuarenta y
cinco d√≠as a dieciocho meses.
2. En los casos previstos en el primer aparte de dicho art√≠culo, con prisi√≥n de uno
a tres a√±os, o de dos a cuatro a√±os, respectivamente, si concurren las dos
circunstancias indicadas en el citado aparte.
3. En el caso del segundo aparte del mismo articulo, con prisi√≥n de cuatro a cinco
a√±os.
Si el falso testimonio, peritaje o interpretaci√≥n han sido hechos sin juramento la pena se
reducir√° de una sexta a una tercera parte.
El que por medio de amenazas, regalos u ofrecimientos haya solamente tentado sobornar a un
testigo, perito o int√©rprete, incurrir√° en las penas establecidas en las disposiciones anteriores,
pero limitadas a una tercera parte.
Todo lo que hubiere dado el sobornador ser√° confiscado.
Art√≠culo 247. Si el culpable del delito previsto en el art√≠culo precedente es el enjuiciado
mismo o sus parientes cercanos o siempre que no hubiere expuesto a otra persona a
procedimientos penales o a una condena, las penas establecidas se rebajar√°n de la mitad a dos
tercios.
Art√≠culo 248. Cuando el falso testimonio, peritaje o interpretaci√≥n, hubieren sido retractados,
de la manera y en la oportunidad indicadas en el art√≠culo 244, la pena en que incurre el
culpado del delito previsto en el art√≠culo 246, ser√° disminuida en la proporci√≥n de una sexta a
una tercera parte.
Art√≠culo 249. El que siendo parte en un juicio civil incurriere en perjurio, ser√° castigado con
prisi√≥n de tres a quince meses.
Si el culpable se retracta antes de terminar el litigio, la prisi√≥n ser√° de quince d√≠as a tres
meses.
CAP√çTULO V
De la prevaricaci√≥n
Art√≠culo 250. El mandatario, abogado, procurador, consejero o director que perjudique por
colusi√≥n, con la parte contraria o por otro medio fraudulento, la causa que se le haya
confiado, o que en una misma causa sirva al propio tiempo a partes de inter√©s opuestos, ser√°
castigado con prisi√≥n de cuarenta y cinco d√≠as a quince meses y suspensi√≥n del ejercicio de su
profesi√≥n por tiempo igual al de la
condena.
Cualquiera de los individuos arriba indicados, que despu√©s de haber defendido a una de las
partes, sin el consentimiento de ella, tome a su cargo la defensa de la parte contraria, ser√° castigado con prisi√≥n de uno a tres meses.
Art√≠culo 251. Los mandatarios, apoderados o defensores especificados en el art√≠culo
precedente que, en causa criminal y fuera de los casos previstos en el mismo art√≠culo,
perjudiquen maliciosamente al enjuiciado que defienden, ser√°n castigados con prisi√≥n de
quince d√≠as a dieciocho meses y suspensi√≥n del ejercicio de su profesi√≥n por tiempo igual al
de la condena.
Si el defendido estaba encausado por alg√∫n delito que merezca pena corporal de treinta meses
o m√°s, la pena de prisi√≥n ser√° por tiempo de dieciocho meses a dos a√±os.
Art√≠culo 252. Los fiscales o representantes del Ministerio P√∫blico que, por colusi√≥n con la
parte contraria o por cualquier otro motivo fraudulento, pidan indebidamente la absoluci√≥n o
la condena del enjuiciado o el sobreseimiento de la causa, ser√°n castigados con prisi√≥n de tres
a dieciocho meses.
Art√≠culo 253. Cualquiera de los individuos a que se refiere el art√≠culo 251 que se haga
entregar de su cliente dinero u otras cosas, a pretexto de procurar el favor de testigos, peritos,
int√©rpretes, representantes del Ministerio P√∫blico, magistrados o conjueces que hubieren de
decidir en la causa, ser√° castigado con prisi√≥n de uno a tres a√±os y suspensi√≥n del ejercicio de
su profesi√≥n por tiempo igual al de la condena.
CAP√çTULO VI
Del encubrimiento
Art√≠culo 254. Ser√°n castigados con prisi√≥n de uno a cinco a√±os los que despu√©s de cometido
un delito penado con presidio o prisi√≥n, sin concierto anterior al delito mismo y sin contribuir
a llevarlo a ulteriores efectos, ayuden sin embargo a asegurar su provecho, a eludir las
averiguaciones de la autoridad o a que los reos se sustraigan a la persecuci√≥n de esta o al
cumplimiento de la condena y los que
de cualquier modo destruyan o alteren las huellas o indicios de un delito que merezca las
antedichas penas.
Art√≠culo 255. Cuando la pena que debiere imponerse, seg√∫n el art√≠culo anterior, excediere de
la mitad de la correspondiente al delito mismo cometido por la persona a quien el encubridor
trata de favorecer, se rebajar√° aquella a dicha mitad.
Art√≠culo 256. Cuando los actos previstos en el art√≠culo 254 tengan por objeto encubrir un
hecho punible, castigado con penas distintas de la de presidio y prisi√≥n, se castigar√°n aquellos
con multa de un mil unidades tributarias (1.000 U.T.) a tres mil unidades tributarias (3.000
U.T.), si el encubrimiento fuere de los delitosÕæ y de cincuenta unidades tributarias (50 U.T.) a
doscientas unidades tributarias (200 U.T.), si fuere de faltas.
Art√≠culo 257. No es punible el encubridor de sus parientes cercanos.
CAP√çTULO VII
De la fuga de detenidos y del quebrantamiento de condenas
Art√≠culo 258. Cualquiera que, hall√°ndose legalmente detenido, se fugare del establecimiento
en que se encuentra, haciendo uso de medios violentos, contra las personas o las cosas, ser√°
castigado con prisi√≥n de cuarenta y cinco d√≠as a nueve meses.
Art√≠culo 259. Los sentenciados que hubieren quebrantado su condena de presidio, prisi√≥n, expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, relegaci√≥n a colonia penitenciaria,
confinamiento o arresto, y lo ejecutaren con cualquiera de las circunstancias de violencia,
intimidaci√≥n, resistencia con armas, fractura de puertas, ventanas, paredes, techos o suelo,
empleo de llaves falsas, escalamiento o cualquiera otra circunstancia agravante que no sea la
simple fuga, sufrir√°n, seg√∫n la naturaleza y n√∫mero de estos hechos concomitantes una
agravaci√≥n de pena de la misma especie, entre una quinta y una cuarta parte de la principal, a
juicio del tribunal.
Si la fuga se hubiere efectuado sin ninguna de las circunstancias a que se contrae el p√°rrafo
anterior, la agravaci√≥n de la pena no pasar√° de una octava parte de la principal. Si la condena
quebrantada fuere la de expulsi√≥n del espacio geogr√°fico de la Rep√∫blica, el condenado, que
en todo ser√° puesto fuera de ella, lo ser√° a su costa, si tuviere bienes.
Art√≠culo 260. Los inhabilitados pol√≠ticos o para ejercer profesiones, o los destituidos que
ejercieren el empleo o profesi√≥n contra el tenor de la sentencia, ser√°n condenados, como
agravaci√≥n de pena, a un arresto de uno a doce meses o una multa de quinientas unidades
tributarias (500 U.T.) a un mil quinientas unidades tributarias (1.500 U.T.), a juicio del
tribunal.
Art√≠culo 261. Si el quebrantamiento de la condena fuere en el caso de suspensi√≥n de empleo,
el recargo de pena ser√° una multa entre doscientas cincuenta unidades tributarias (250 U.T.) y
un mil unidades tributarias (1.000 U.T.).
Art√≠culo 262. Si lo fuere en los casos de sujeci√≥n a la vigilancia de la autoridad p√∫blica o de
cauci√≥n, en el primero, por recargo de pena, se aumentar√° el tiempo de vigilancia, y en el otro
tiempo de arresto si lo hubiere, hasta una tercera parte de estas mismas penas, a juicio del
tribunal.
Art√≠culo 263. Aun cuando haya varios quebrantamientos de condena, en ninguno de los casos
de los art√≠culos anteriores de este Cap√≠tulo, podr√° exceder la pena corporal recargada, del
tiempo de veinte a√±os.
Art√≠culo 264. El que de alguna manera procure o facilite la fuga de un preso ser√° penado con
presidio de uno a dos a√±os, teni√©ndose en cuenta la gravedad de la inculpaci√≥n o naturaleza y
duraci√≥n de la pena que le quede por cumplir al fugado.
Si para procurar o facilitar la evasi√≥n, el culpable ha hecho uso de alguno de los medios
indicados en el art√≠culo 258, la pena ser√° de dos a cuatro a√±os de presidio cuando la fuga se
lleve a caboÕæ y cuando esta no se verifique, ser√° de uno a dos a√±os de presidio. En uno u otro
caso se deber√° tener en cuenta la gravedad de la inculpaci√≥n o la naturaleza y duraci√≥n de la
pena aun no cumplida.
Si la persona culpable es pariente cercano del preso, la pena quedar√° reducida de una tercera
parte a la mitad, seg√∫n la proximidad del parentesco.
Art√≠culo 265. El funcionario p√∫blico que, encargado de la conducci√≥n o custodia de un
detenido o sentenciado, procure o facilite de alguna manera su evasi√≥n, ser√° penado con
presidio por tiempo de dos a cinco a√±os.
Si para procurar o facilitar la evasi√≥n, el culpable coopera en los actos de violencia de que
habla el art√≠culo 258, o si para ello ha dado las armas o los instrumentos o no ha impedido
que se suministren, la pena ser√° de tres a seis a√±os de presidio si la evasi√≥n se efect√∫aÕæ y de
uno a tres a√±os en caso contrario.
Cuando la evasi√≥n se haya verificado por negligencia o imprudencia del funcionario p√∫blico, este ser√° castigado con prisi√≥n de dos meses a un a√±o y si el evadido estaba cumpliendo pena
de presidio la pena ser√° de seis a dieciocho meses.
Para la imposici√≥n de la pena siempre se tomar√°n en cuenta la gravedad del hecho imputado y
la naturaleza y duraci√≥n de la pena que aun falta por cumplirse.
Art√≠culo 266. Las penas establecidas en los art√≠culos precedentes se aumentar√°n con una
tercera parte, cuando las violencias previstas en los mismos art√≠culos se hubieren cometido
con armas o por efectos de un plan concertado o si el hecho sucede en reuni√≥n de tres o m√°s
personas.
Art√≠culo 267. El funcionario p√∫blico que, encargado de la custodia o conducci√≥n de alg√∫n
detenido o sentenciado, le permita, sin estar para ello autorizado, salir ni aun temporalmente
del lugar en que debe permanecer detenido o del lugar en que debe sufrir su condena, ser√°
castigado con prisi√≥n de quince d√≠as a seis meses.
En el caso de que por causa de aquel permiso, el detenido o sentenciado llegue a fugarse, la
prisi√≥n ser√° de tres meses a dos a√±os.
Art√≠culo 268. Cuando el fugado se constituya espont√°neamente prisionero, la pena
establecida en los art√≠culos anteriores se rebajar√° a una quinta parte.
Art√≠culo 269. Al funcionario que, siendo culpable de los hechos respectivamente previstos en
el segundo aparte del art√≠culo 265, haya logrado, dentro de los tres meses siguientes a la fuga,
la captura de los evadidos o su presentaci√≥n a la autoridad, se le reducir√° la pena a un quinto.
CAP√çTULO VIII
De la prohibici√≥n de hacerse justicia por si mismo
Art√≠culo 270. El que, con el objeto solo de ejercer un pretendido derecho, se haga justicia por
si mismo, haciendo uso de violencia sobre las cosas, cuando pod√≠a haber ocurrido a la
autoridad, ser√° castigado con multa de doscientas cincuenta unidades tributarias (250 U.T.) a
dos mil unidades tributarias (2.000 U.T.).
Si el culpable se valiere de amenaza o violencia contra las personas, aunque no haya
empleado violencia sobre las cosas ser√° castigado con prisi√≥n de uno a seis meses o
confinamiento de tres meses a un a√±o.
Si la violencia se ha cometido con armas, ser√° castigado con el duplo de la pena establecida.
Y si resultare cometida lesi√≥n corporal o alg√∫n otro delito, ser√° castigado con la pena
correspondiente a estos hechos punibles.
Si el hecho no fuere acompa√±ado de otro delito enjuiciable de oficio, no se proceder√° sino a
instancia de parte.
Art√≠culo 271. Cuando el culpable del delito previsto en el art√≠culo precedente, compruebe la
existencia del derecho con que procede, se disminuir√° la pena de un tercio a la mitad.
T√çTULO V
De los Delitos Contra el Orden P√∫blico
CAP√çTULO I
De la importaci√≥n, fabricaci√≥n, comercio, detentaci√≥n y porte de armas
Art√≠culo 272. Se consideran delitos y ser√°n castigados conforme a los art√≠culos pertinentes de
este Cap√≠tulo, la introducci√≥n, fabricaci√≥n, comercio, posesi√≥n y porte de armas que se
efect√∫en en contravenci√≥n de las disposiciones del presente C√≥digo y de la Ley sobre Armas y Explosivos.
Se considerar√° circunstancia agravante si dichos delitos fueren cometidos por funcionarios de
polic√≠a, resguardos de aduana, funcionarios p√∫blicos, vigilantes privados legalmente
autorizados y empleados p√∫blicos, casos en los cuales se aumentar√° la pena hasta un tercio de
la media.
Art√≠culo 273. Son armas, en general, todos los instrumentos propios para maltratar o herirÕæ
mas, para los efectos de este Cap√≠tulo, solo se considerar√°n como tales las que se enuncien en
la Ley citada en el art√≠culo anterior.
Art√≠culo 274. El comercio, la importaci√≥n, la fabricaci√≥n, el porte, la posesi√≥n, el suministro
y el ocultamiento de las armas clasificadas como de guerra seg√∫n la Ley sobre Armas y
Explosivos y dem√°s disposiciones legales concernientes a la materia, se castigar√°n con pena
de prisi√≥n de cinco a ocho a√±os.
Art√≠culo 275. No incurrir√°n en la pena prevista en el art√≠culo anterior los que posean
colecciones de armas consideradas como objetos hist√≥ricos o de estudio, siempre que para
formar, conservar o enajenar dichas colecciones se ci√±an a los reglamentos que dicte el
Ejecutivo Nacional.
Art√≠culo 276. El comercio, la importaci√≥n, la fabricaci√≥n y el suministro de las dem√°s armas
que no fueren de guerra, pero respecto a las cuales estuvieren prohibidas dichas operaciones
por la Ley sobre Armas y Explosivos, se castigar√°n con pena de prisi√≥n de cinco a ocho a√±os.
Art√≠culo 277. El porte, la detentaci√≥n o el ocultamiento de las armas a que se refiere el
art√≠culo anterior se castigar√° con pena de prisi√≥n de tres a cinco a√±os.
Art√≠culo 278. En los casos previstos en los art√≠culos 274, 276 y 277, las armas materia del
proceso se confiscaran y se destinaran al parque nacional.
Art√≠culo 279. No incurrir√°n en los delitos y penas establecidos en los art√≠culos 277 y 278 los
militares en servicio, los funcionarios de polic√≠a, los resguardos de aduanas, ni los
funcionarios o empleados p√∫blicos que estuvieren autorizados para tenerlas o portarlas por las
leyes o reglamentos que rijan el desempe√±o de sus cargos.
Art√≠culo 280. Tampoco incurrir√°n en las penas previstas en los art√≠culos 277 y 278 los
ciudadanos a quienes el Ejecutivo Nacional autorice expresamente a portarlas conforme a las
leyes y reglamentos sobre la materia.
Art√≠culo 281. Las personas a que se refieren los art√≠culos 279 y 280, no podr√°n hacer uso de
las armas que porten sino en caso de leg√≠tima defensa o en defensa del orden p√∫blico. Si
hicieren uso indebido de dichas armas, quedar√°n sujetas a las penas impuestas por los
art√≠culos 277 y 278, aumentadas en un tercio seg√∫n el caso, adem√°s de las penas
correspondientes al delito en que usando dichas armas hubieren incurrido.
Art√≠culo 282. No incurrir√°n en las penas impuestas en los art√≠culos 276, 277 y 278 los
poseedores de armas que las hubieren empadronado de conformidad con la Ley sobre Armas
y Explosivos, siempre que posteriormente no les hayan dado un destino contrario a las
disposiciones de dicha Ley, caso en el cual incurrir√°n en las penas citadas, seg√∫n el caso.
CAP√çTULO II
De la instigaci√≥n a delinquir Art√≠culo 283. Cualquiera que p√∫blicamente o por cualquier medio instigare a otro u otros a
ejecutar actos en contravenci√≥n a las leyes, por el solo hecho de la instigaci√≥n ser√° castigado:
1. Si la instigaci√≥n fuere para inducir a cometer delitos para los cuales se ha
establecido pena de prisi√≥n, con prisi√≥n de una tercera parte del delito instigado.
2. En todos los dem√°s casos, con multas de ciento cincuenta unidades tributarias
(150 U.T.), seg√∫n la entidad del hecho instigado.
Art√≠culo 284. En el caso indicado con el numeral 1 del art√≠culo 283, nunca podr√° excederse
de la tercera parte de la pena se√±alada al hecho punible a que se refiere la instigaci√≥n.
Art√≠culo 285. Quien instigare a la desobediencia de las leyes o al odio entre sus habitantes o
hiciere apolog√≠a de hechos que la ley prev√© como delitos, de modo que ponga en peligro la
tranquilidad p√∫blica, ser√° castigado con prisi√≥n de tres a√±os a seis a√±os.
CAP√çTULO III
Del agavillamiento
Art√≠culo 286. Cuando dos o m√°s personas se asocien con el fin de cometer delitos, cada una
de ellas ser√° penada, por el solo hecho de la asociaci√≥n, con prisi√≥n de dos a cinco a√±os.
Art√≠culo 287. Si los agavillados recorren los campos o los caminos y si dos de ellos, por lo
menos, llevan armas o las tienen en un lugar determinado, la pena ser√° de presidio por tiempo
de dieciocho meses a cinco a√±os.
Art√≠culo 288. Los promotores o jefes de la gavilla incurrir√°n en la pena de presidio de
dieciocho meses a cinco a√±os, en el caso del art√≠culo 286 y de treinta meses a seis a√±os, en el
caso del art√≠culo 287.
Art√≠culo 289. El que, fuera de los casos previstos en el art√≠culo 84, d√© a los agavillados o a
alguno de ellos, amparo o asistencia, o les procure subsistencia, ser√° castigado con prisi√≥n de
tres a seis meses.
Art√≠culo 290. El que, en el caso previsto en el art√≠culo 289, ampare o proporcione v√≠veres a
un pariente cercano, amigo √≠ntimo o bienhechor, quedar√° exento de la pena.
Art√≠culo 291. En lo que concierne a los delitos cometidos por todos o alguno de los asociados
durante la existencia de la asociaci√≥n o con motivo de ella, la pena se agravar√° con el
aumento de una sexta a una tercera parte, salvo lo dispuesto en el art√≠culo 79.
Art√≠culo 292. El que haya tomado parte en una asociaci√≥n, con el objeto de cometer los
delitos previstos en el art√≠culo 285, ser√° castigado con presidio de seis meses a un a√±o.
CAP√çTULO IV
De los que excitan a la guerra civil, organizan
cuerpos armados o intimidan al p√∫blico
Art√≠culo 293. El que haya ejecutado alg√∫n acto que tenga por objeto exponer alguna parte de
la Rep√∫blica a la devastaci√≥n o al saqueo, ser√° castigado con prisi√≥n de dieciocho meses a
cinco a√±os. Si la tentativa se efectuare, siquiera en parte, se impondr√° la pena de presidio de
cinco a nueve a√±os. Art√≠culo 294. El que, para cometer un hecho punible determinado, haya formado un cuerpo
armado o ejerza en el un mando superior o alguna funci√≥n especial, ser√° penado por este solo
hecho con presidio de uno a cuatro a√±os.
Los dem√°s individuos que hagan parte del cuerpo armado, se castigar√°n con prisi√≥n de uno a
dos a√±os.
Ser√°n aplicables las disposiciones de los art√≠culos 162 y 289 del presente C√≥digo.
Art√≠culo 295. El que, sin estar legalmente autorizado, forme un cuerpo armado, aun cuando
no este destinado a cometer hechos punibles, ser√° castigado con arresto en fortaleza o c√°rcel
pol√≠tica por tiempo de tres a seis meses.
Art√≠culo 296. Todo individuo que ileg√≠timamente importe, fabrique, porte, detente, suministre
u oculte sustancias o artefactos explosivos o incendiarios, se castigar√° con pena de prisi√≥n de
dos a cinco a√±os.
Quienes con el solo objeto de producir terror en el p√∫blico, de suscitar un tumulto o de causar
desordenes p√∫blicos, disparen armas de fuego o lancen sustancias explosivas o incendiarias,
contra gentes o propiedades, ser√°n penados con prisi√≥n de tres a seis a√±os, sin perjuicio de las
penas correspondientes al delito en que hubieren incurrido usando dichas armas.
Art√≠culo 296¬≠A. Todo individuo que por medio de informaciones falsas difundidas por
cualquier medio impreso, radial, televisivo, telef√≥nico, correos electr√≥nicos o escritos
panfletarios, cause p√°nico en la colectividad o la mantenga en zozobra, ser√° castigado con
prisi√≥n de dos a cinco a√±os.
Si los hechos descritos en el aparte anterior fueren cometidos por un funcionario p√∫blico,
vali√©ndose del anonimato o usando para tal fin el nombre ajeno, la pena se incrementar√° en
una tercera parte.
Este art√≠culo ser√° aplicado sin perjuicio a lo establecido en la legislaci√≥n especial sobre los
delitos inform√°ticos, telecomunicaciones, impresos y transmisi√≥n de mensajes de datos.
Art√≠culo 297. Si la explosi√≥n o amenaza se producen en el lugar de una reuni√≥n p√∫blica y al
tiempo en que esta se verifica o si ocurre con ocasi√≥n en que haya peligro para el mayor
n√∫mero de gentes en √©pocas de agitaci√≥n, calamidad o desastres p√∫blicos, la prisi√≥n se
impondr√° por tiempo de cuatro a ocho a√±os.
T√çTULO VI
De los Delitos Contra la fe P√∫blica
CAP√çTULO I
De la falsificaci√≥n de monedas o t√≠tulos de cr√©dito p√∫blico
Art√≠culo 298. Ser√° castigado con presidio de cuatro a ocho a√±os:
1. Cualquiera que haya falsificado la moneda nacional o extranjera que tenga
curso legal o comercial dentro o fuera de la Rep√∫blica.
2. El que de alguna manera haya alterado la moneda legal para darle apariencia
de mayor valor.
3. El que de concierto con alguno que hubiere ejecutado o contribuido a ejecutar
la falsificaci√≥n o alteraci√≥n de la moneda, la haya introducido en la Rep√∫blica, o
puesto en circulaci√≥n de cualquier manera.
La misma pena se le aplicar√° si ha facilitado a otros los medios de hacerla circular.
Si el valor legal o comercial representado por las monedas falsificadas o alteradas es de mucha importancia, la pena ser√° de cinco a diez a√±os de presidio.
Si el valor intr√≠nseco de las monedas falsificadas es igual o mayor que el de las monedas
legales, la pena ser√° prisi√≥n de uno a tres a√±os.
Art√≠culo 299. El que altere la moneda legal por medio de cualquier procedimiento que
disminuya su peso de ley, ser√° castigado con prisi√≥n de seis a treinta meses.
Y al que de concierto con quien as√≠ la hubiere alterado, ejecute alguno de los actos
especificados en el numeral 3 del art√≠culo precedente, se le aplicar√° la misma pena.
Art√≠culo 300. Todo individuo que, sin estar de acuerdo con el que haya ejecutado o
contribuido a ejecutar la falsificaci√≥n o alteraci√≥n, ponga en circulaci√≥n monedas falsificadas
o alteradas, ser√° castigado con prisi√≥n de uno a dos a√±os.
Si el culpable recibi√≥ de buena fe las monedas, la pena ser√° de arresto por tiempo de uno a
tres meses.
Art√≠culo 301. Las penas establecidas en los art√≠culos precedentes ser√°n reducidas de la octava
a la cuarta parte, si la falsificaci√≥n puede reconocerse a primera vista.
Art√≠culo 302. El que haya fabricado o conservado instrumentos exclusivamente destinados a
la fabricaci√≥n o alteraci√≥n de monedas, ser√° castigado con prisi√≥n de seis a treinta meses.
Art√≠culo 303. Si el culpable de alguno de los delitos previstos en los art√≠culos precedentes,
antes de que la autoridad tenga conocimiento del hecho, impide la falsificaci√≥n o alteraci√≥n
de las monedas o la circulaci√≥n de las ya falsificadas o alteradas quedar√° exento de la pena.
Art√≠culo 304. Para los efectos de la ley penal, se asimilaran a las monedas los t√≠tulos de
cr√©dito p√∫blico.
Por estas expresiones deben entenderse los t√≠tulos y c√©dulas al portador, emitidos por el
Gobierno, que constituyen t√≠tulos negociables y los dem√°s papeles que tengan curso legal o
comercial emanados de institutos autorizados para emitirlos.
CAP√çTULO II
De la falsificaci√≥n de sellos, timbres p√∫blicos y marcas
Art√≠culo 305. Todo el que haya falsificado los sellos nacionales que est√©n destinados a
autenticar los actos del Gobierno, ser√° castigado con prisi√≥n de dieciocho meses a tres a√±osÕæ y
asimismo, todo el que haya hecho uso del sello falso.
Art√≠culo 306. Todo individuo que haya falsificado el sello de alguna de las autoridades
nacionales, el de alguno de los estados de la Rep√∫blica, de alg√∫n distrito, secci√≥n, municipio o
establecimiento p√∫blicoÕæ el sello de un registrador, tribunal o de cualquiera otra Oficina
P√∫blica ser√° castigado con prisi√≥n de tres a doce meses. Al que hubiere hecho uso de los
sellos falsos, aun cuando la
falsificaci√≥n sea obra de un tercero, se le aplicar√°n las mismas penas.
Art√≠culo 307. Todo individuo que haya falsificado los timbres, punzones u otras marcas
destinadas por virtud de una disposici√≥n de la ley o del Gobierno, a establecer la autenticidad
de un acto, ser√° castigado con prisi√≥n de seis a treinta meses.
Al que hubiere hecho uso de los dichos objetos falsos, aun cuando la falsificaci√≥n sea obra de
un tercero, se le aplicar√°n las mismas penas. Al que, sin haber contribuido a la falsificaci√≥n,
ponga en venta los objetos que llevan la impresi√≥n de las dichas marcas falsificadas, se le
impondr√°n tambi√©n las mismas penas. Art√≠culo 308. El que haya falsificado solamente los moldes de los objetos indicados en los
art√≠culos precedentes, empleando un medio inadecuado para la reproducci√≥n y distinto del uso
de los instrumentos falsificados, ser√° castigado con prisi√≥n de tres a dieciocho meses, en el
caso del art√≠culo 305Õæ y de tres a seis meses, en el caso de los art√≠culos 306 y 307.
Art√≠culo 309. El que haya falsificado el papel sellado, las estampillas o el timbrado de papel
oficial, ser√° castigado con prisi√≥n de seis a treinta meses.
Art√≠culo 310. Cualquiera que haya falsificado los sellos para el papel sellado, para las
estampillas o para cualquiera otra impresi√≥n timbrada, ser√° castigado con prisi√≥n de tres a
quince mesesÕæ y tambi√©n el que haya falsificado alg√∫n papel especial que est√© destinado
expresamente para la impresi√≥n de los sellos dichos.
Art√≠culo 311. El que haya hecho uso del papel sellado falsificado, impresiones timbradas con
el mismo vicio o estampillas falsas y tambi√©n el que del mismo modo hubiere puesto en venta
esos objetos o de otro modo los haya lanzado a la circulaci√≥n, ser√° castigado con prisi√≥n de
tres a quince meses.
Art√≠culo 312. El que sin haber participado de ninguno de los delitos especificados en los
art√≠culos precedentes, retenga los sellos o timbres falsos o los instrumentos destinados a la
falsificaci√≥n, ser√° castigado con prisi√≥n de quince d√≠as a doce meses.
Art√≠culo 313. El que habi√©ndose procurado los verdaderos sellos, timbres, punzones o marcas
que se han indicado en el presente Cap√≠tulo, haga uso de ellos en perjuicio de otro o en
provecho propio o ajeno, incurrir√° en las penas establecidas en los art√≠culos precedentes, pero
con reducci√≥n de un tercio a la mitad.
Art√≠culo 314. El que haya falsificado o alterado los billetes o c√©dulas de los ferrocarriles u
otras empresas p√∫blicas de transporte, o hubiere hecho uso de billetes falsos de esa especie,
ser√° castigado con prisi√≥n de quince d√≠as a seis meses.
Art√≠culo 315. El que hubiere borrado o hecho desaparecer de alg√∫n modo en los timbres,
estampillas, impresiones selladas, billetes de ferrocarriles o de otras empresas p√∫blicas de
transporte, las marcas o contrase√±as que se les hubieren puesto para indicar que se ha servido
de ellos, ser√° castigado con arresto de cinco a cuarenta y cinco d√≠as. En la misma pena
incurrir√° tambi√©n el que haya hecho uso de dichos objetos as√≠ alterados.
CAP√çTULO III
De la falsedad en los actos y documentos
Art√≠culo 316. El funcionario p√∫blico que, en el ejercicio de sus funciones haya formado, en
todo o en parte, alg√∫n acto falso o que haya alterado alguno verdadero, de suerte que por √©l
pueda resultar perjuicio al p√∫blico o a los particulares, ser√° castigado con presidio de tres a
seis a√±os.
Si el acto fuere de los que, por disposici√≥n de la ley, merecen fe hasta la impugnaci√≥n o tacha
de falso, la pena de presidio ser√° por tiempo de cuatro a siete a√±os y medio.
Se asimilan a los actos originales las copias autenticas de ellos cuando, con arreglo a la ley,
hagan las veces del original faltando este.
Art√≠culo 317. El funcionario p√∫blico que, al recibir o extender alg√∫n acto en el ejercicio de
sus funciones, haya atestado como ciertos y pasados en su presencia
hechos o declaraciones que no han tenido lugar, u omitido o alterado las declaraciones que hubiere recibido, de tal suerte que pueda de ello resultar un perjuicio al p√∫blico o a los
particulares, ser√° castigado con las penas establecidas en el art√≠culo precedente.
Art√≠culo 318. El funcionario p√∫blico que haya simulado una copia de alg√∫n acto p√∫blico
supuesto y la haya expedido en forma legal, o que hubiere dado una copia de alg√∫n acto
p√∫blico diferente del original, no estando este alterado o suprimido, ser√° castigado con prisi√≥n
de dieciocho meses a cinco a√±os. La pena de prisi√≥n no podr√° ser menor de treinta meses, si
el acto fuere de los que por disposici√≥n de la ley merecen fe hasta la impugnaci√≥n o tacha de
falso.
Si la falsedad se ha cometido en alguna certificaci√≥n o testimonio referente al contenido de
los actos, de modo que pueda de ello resultar perjuicio al p√∫blico o a los particulares, la
prisi√≥n ser√° de seis a treinta meses.
Art√≠culo 319. Toda persona que mediante cualquier procedimiento incurriera en falsedad con
la copia de alg√∫n acto p√∫blico, sea suponiendo el original, sea alterando una copia aut√©ntica,
sea, en fin, expidiendo una copia contraria a la verdad, que forje total o parcialmente un
documento para darle apariencia de instrumento p√∫blico o altere uno verdadero de esta
especie, o que lograre apropiarse de documentos oficiales para usurpar una identidad distinta
a la suya, sufrir√° pena de prisi√≥n de seis a√±os a doce a√±os.
Art√≠culo 320. El que falsamente haya atestado ante un funcionario p√∫blico o en un acto
p√∫blico, su identidad o estado o la identidad o estado de un tercero, de modo que pueda
resultar alg√∫n perjuicio al p√∫blico o a los particulares, ser√° castigado con prisi√≥n de tres a
nueve meses.
En igual pena incurre el que falsamente haya atestado ante un funcionario p√∫blico o en un
acto p√∫blico, otros hechos cuya autenticidad compruebe el acto mientras no sea destruida su
fuerza probatoria, mediante tacha o impugnaci√≥n de falsedad, siempre que de ello pueda
resultar un perjuicio al p√∫blico o a los particulares.
Si se trata de un acto del estado civil o de la autoridad Judicial, la pena ser√° de seis a
dieciocho meses de prisi√≥n.
El que en t√≠tulos o efectos de comercio ateste falsamente su propia identidad o la de un
tercero, ser√° castigado con prisi√≥n de tres a seis meses.
Art√≠culo 321. El individuo que hubiere falsificado o alterado, total o parcialmente, alguna
escritura, carta u otro g√©nero de papeles de car√°cter privado, de modo que haciendo √©l, u otro,
uso de dichos documentos, pueda causarse un perjuicio al p√∫blico o a particulares, ser√°
castigado con prisi√≥n de seis a dieciocho meses.
Art√≠culo 322. Todo el que hubiere hecho uso o de alguna manera se hubiere aprovechado de
alg√∫n acto falso, aunque no haya tenido parte en la falsificaci√≥n, ser√° castigado con las penas
respectivas establecidas en los art√≠culos 319, si se trata de un acto p√∫blico, y 321, si se trata de
un acto privado.
Art√≠culo 323. Cuando se hubiere cometido alguno de los delitos especificados en los art√≠culos
precedentes, con el objeto de procurarse un medio de probar hechos verdaderos, el culpable
ser√° penado con prisi√≥n de tres a doce meses si, se trata de actos p√∫blicosÕæ y con prisi√≥n de
quince d√≠as a tres meses, si se trata de un documento privado.
Art√≠culo 324. Los que, en todo o en parte, hayan suprimido o destruido un acto original o una
copia que lo sustituya legalmente, si de ello puede resultar perjuicio para el p√∫blico o para
particulares, ser√°n castigados con las penas respectivamente establecidas en los art√≠culos 316, 319, 320 y 321, seg√∫n las distinciones que estos contienen.
Art√≠culo 325. Para la aplicaci√≥n de las disposiciones de los art√≠culos precedentes, se asimilan
a los funcionarios p√∫blicos los individuos que han sido autorizados para afirmar actos a los
cuales la ley atribuye autenticidad. Con el mismo fin se asimilan a los actos p√∫blicos los
testamentos otorgados solo ante testigos, las letras y libranzas de cambio y todos los t√≠tulos de
cr√©dito al portador o que sean
transmisibles por endoso.
CAP√çTULO IV
De la falsedad en pasaportes, licencias, certificados y otros actos
semejantes
Art√≠culo 326. Ser√° penado con prisi√≥n de quince d√≠as a nueve meses:
1. El que haya falsificado licencias, pasaportes, itinerarios o permisos de
residencia.
2. El que de alguna manera haya alterado documentos originariamente
verdaderos, de la clase de los indicados en el numeral anterior, con el objeto de
atribuirlos o referirlos a personas, tiempos o lugares diferentes de los expresados,
o falsamente hiciere aparecer ejecutadas o cumplidas las condiciones requeridas
para la validez y eficacia de los mismos documentos.
3. El que haya hecho uso de las licencias, itinerarios, pasaportes o permisos de
residencia, falsificados o alterados, o los haya dado a un tercero con el mismo
objeto.
Art√≠culo 327. El que haci√©ndose de licencias, pasaportes, itinerarios o permisos de residencia
se atribuyere en estos documentos un falso nombre o apellido o una falsa calidad, y tambi√©n
el que con su testimonio haya contribuido a que se den as√≠ alterados los documentos dichos,
ser√° castigado con prisi√≥n de quince d√≠as a tres meses.
Art√≠culo 328. El funcionario p√∫blico que, en ejercicio de ministerio, haya cometido alguno de
los delitos previstos en los art√≠culos precedentes, o de alguna manera hubiere cooperado a su
perpetraci√≥n, ser√° penado con prisi√≥n de tres a dieciocho meses.
Art√≠culo 329. El que obligado por la ley a tener registros especiales sujetos a la inspecci√≥n de
los funcionarios de polic√≠a o a darles noticias o informes relativos a sus propias operaciones
industriales o profesionales, haya escrito o dejado escribir en los primeros o en los segundos
indicaciones o datos falsos, ser√° castigado con arresto desde uno a hasta tres meses o multa de
veinticinco unidades tributarias (25 U.T.) a doscientas cincuenta unidades tributarias (250
U.T.).
Art√≠culo 330. Todo m√©dico, cirujano o empleado de sanidad, que por favor haya dado una
falsa certificaci√≥n destinada a hacer fe ante la autoridad, ser√° castigado con arresto hasta por
quince d√≠as o multa de cincuenta unidades tributarias (50 U.T.) a doscientas cincuenta
unidades tributarias (250 U.T.). Al que hubiere hecho uso de la falsa certificaci√≥n, se le
aplicar√° la misma pena.
Si por causa de la falsa certificaci√≥n se ha admitido o mantenido en un asilo de enajenados a
alguna persona en su cabal juicio, o si resulta alg√∫n otro mal importante, la pena ser√° de
arresto de tres a dieciocho meses. Si el hecho se hubiese cometido mediante dinero u otras d√°divas, entregadas o prometidas,
para s√≠ o para un tercero, el arresto ser√° por tiempo de cuarenta y cinco d√≠as a doce meses. Y
lo ser√° por tiempo de uno a tres a√±os, si la certificaci√≥n ha tenido las consecuencias previstas
en el aparte precedente.
Las penas indicadas en los dos apartes precedentes, ser√°n tambi√©n aplicables al que haya dado
el dinero o los otros presentes.
Todo lo dado ser√° confiscado.
Art√≠culo 331. Todo funcionario p√∫blico o cualquier otro individuo a quien la ley permite
expedir certificados, que afirme mentirosamente en alguno de estos documentos la buena
conducta, la indigencia u otras circunstancias capaces de procurar a la persona favorecida con
el certificado, la beneficencia o la confianza del Gobierno o de los particulares, el acceso a los
destinos o empleos p√∫blicos, la protecci√≥n o ayuda legales o la exenci√≥n, en fin, de funciones,
servicios o cargos p√∫blicos, ser√° penado con prisi√≥n hasta por ocho d√≠as, o multa de cincuenta
unidades tributarias (50 U.T.) a setecientas cincuenta unidades tributarias (750 U.T.).
La misma pena ser√° aplicable al que hubiere hecho uso de los falsos certificados.
Art√≠culo 332. Todo aquel que, no teniendo ni la cualidad ni las facultades indicadas en los
dos art√≠culos anteriores, haya falsificado un certificado de los que quedan precedentemente
especificados o el que hubiere alterado alguno originariamente verdadero, ser√° penado con
prisi√≥n de uno a tres meses, la misma pena se aplicar√° al que haya hecho uso de alg√∫n
certificado as√≠ falsificado o alterado.
Art√≠culo 333. La pena establecida en el art√≠culo precedente ser√° aplicable al individuo que,
para inducir en error a los agentes de la autoridad, les hubiere presentado alg√∫n acto o
certificado verdadero, atribuy√©ndoselo falsamente a s√≠ mismo o a un tercero.
CAP√çTULO V
De los fraudes cometidos en el comercio, las industrias y almonedas
Art√≠culo 334. El que, propalando falsas noticias o por otros medios fraudulentos haya
producido en los mercados o en las bolsas de comercio, alg√∫n aumento o disminuci√≥n en el
precio de los salarios g√©neros, mercanc√≠as, frutos o t√≠tulos negociables en dichos lugares o
admitidos en las listas de cotizaci√≥n de bolsa, ser√° castigado con prisi√≥n de tres a quince
meses. Si el delito se ha cometido por corredores o agentes p√∫blicos de cambio, la pena ser√°
de prisi√≥n de seis a treinta meses.
Art√≠culo 335. Todo individuo que haya hecho uso de pesas y medidas con contraste legal
falsificado o alterado, de modo que pueda causar alg√∫n perjuicio al p√∫blico o a los
particulares, ser√° castigado con arresto de diez a treinta d√≠as. Y si el uso de dichas pesas y
medidas se hubiere hecho en un negocio p√∫blico, la pena ser√° de prisi√≥n de uno a tres meses.
A todo el que, en ejercicio de alg√∫n negocio
p√∫blico, se le encuentre culpable de simple tenencia de pesas y medidas falsificadas o
alteradas, se le castigar√° con multa de cincuenta unidades tributarias (50 U.T.) a doscientas
cincuenta unidades tributarias (250 U.T.).
Art√≠culo 336. El que en ejercicio de su comercio haya enga√±ado al comprador entreg√°ndole
una cosa por otra, o bien una cosa que en raz√≥n de su origen, calidad o cantidad sea diferente
de la declarada o convenida, ser√° castigado con arresto de diez d√≠as a tres meses. Si el enga√±o
versa sobre objetos preciosos, se castigar√° con prisi√≥n de tres a nueve meses. Art√≠culo 337. Todo el que hubiere falsificado o alterado los nombres, marcas o signos
distintivos de las obras del ingenio o de los productos de una industria cualquieraÕæ y, as√≠
mismo, todo el que haya hecho uso de los nombres, marcas o signos legalmente registrados
as√≠ falsificados o alterados, aunque la falsedad sea proveniente de un tercero, ser√° castigado
con prisi√≥n de uno a doce meses.
La misma pena ser√° aplicable al que hubiere contrahecho o alterado los dibujos o modelos
industriales y al que haya hecho uso de los mismos as√≠ contrahechos o alterados, aunque la
falsedad sea obra de un tercero. La autoridad judicial podr√° disponer que la condena se
publique en un diario que ella indique, a costa del reo.
Art√≠culo 338. El que con objeto de comerciar haya introducido en el pa√≠s y puesto en venta o
de cualquier otra manera en circulaci√≥n, obras del ingenio o productos de cualquiera industria
con nombres, marcas o signos distintivos falsificados o alterados, o con nombres, marcas o
signos distintivos capaces de inducir en error al comprador respecto de su origen o calidad, si
la propiedad de las obras,
nombres, marcas o signos han sido legalmente registradas en Venezuela, ser√° castigado con
prisi√≥n de uno a doce meses.
Art√≠culo 339. El que hubiere revelado noticias relativas a invenciones o descubrimientos
cient√≠ficos o aplicaciones industriales que deban permanecer en secreto y de que haya tenido
conocimiento por causa de su posici√≥n o empleo o en raz√≥n de profesi√≥n, arte o industria, ser√°
castigado, a instancia de la parte agraviada, con prisi√≥n de quince d√≠as a tres meses.
Si la revelaci√≥n se ha hecho a alg√∫n extranjero no residente en el pa√≠s o a un agente suyo, la
prisi√≥n ser√° de quince d√≠as a seis meses.
Art√≠culo 340. El que por medio de amenazas, violencias, regalos, promesas, colusiones u
otros medios fraudulentos, haya coartado o perturbado la libertad de las subastas p√∫blicas o
de las licitaciones privadas por cuenta de las administraciones p√∫blicas, o el que por dichos
medios hubiere alejado a las compradoras o postores, ser√° castigado con prisi√≥n de tres a seis
meses. Si el culpable fuere una persona constituida por la ley o por la autoridad en las
susodichas subastas o licitaciones, la prisi√≥n ser√° de seis a treinta meses. El funcionario
antedicho que, mediante dinero, u otra cosa, dadas o prometidas a √©l mismo o a terceros, se
abstenga de asistir a las subastas o licitaciones mencionadas, ser√° penado con prisi√≥n de uno a
tres meses.
CAP√çTULO VI
De las quiebras
Art√≠culo 341. Los que en los casos previstos por el C√≥digo de Comercio u otras leyes
especiales, sean declarados culpables de quiebra, ser√°n castigados conforme a las reglas
siguientes:
1. Los quebrados culpables ser√°n penados con arresto de seis meses a tres a√±os.
2. Los quebrados fraudulentos ser√°n penados con prisi√≥n de tres a cinco a√±os.
Estas penas se impondr√°n seg√∫n la gravedad de las circunstancias que han dado lugar a la
quiebra, aument√°ndose o disminuy√©ndose dentro de su m√≠nimum y m√°ximum a juicio del
Tribunal.
Las personas indicadas en el art√≠culo 922 del C√≥digo de Comercio, ser√°n castigadas como
reos de hurto por los hechos a que se contrae el mismo art√≠culo. Art√≠culo 342. Los individuos que, en conformidad con las disposiciones de los art√≠culos 920
y 923 del C√≥digo de Comercio, sean declarados quebrados culpables o quebrados
fraudulentos, por los hechos especificados en los mismos art√≠culos de dicho C√≥digo, ser√°n
castigados, respectivamente, con las penas se√±aladas en los numerales 1 y 2 del art√≠culo
precedente.
T√çTULO VII
De los Delitos Contra la Conservaci√≥n de los Intereses P√∫blicos y Privados
CAP√çTULO I
De los incendios, inundaciones, sumersiones y otros delitos de peligro
com√∫n
Art√≠culo 343. El que haya incendiado alg√∫n edificio u otras construcciones, productos del
suelo aun no recogidos o amontonados, o dep√≥sitos de materias combustibles, ser√° penado
con presidio de tres a seis a√±os.
Si el incendio se hubiere causado en edificios destinados a la habitaci√≥n o en edificios
p√∫blicos, o destinados a uso p√∫blico, a una empresa de utilidad p√∫blica o plantas industriales,
al ejercicio de un culto, a almacenes o dep√≥sitos de efectos industriales o agr√≠colas, de
mercader√≠as, de materias primas inflamables o explosivas o de materias de minas, v√≠as
f√©rreas, fosos, arsenales o astilleros, el presidio ser√° por tiempo de cuatro a ocho a√±os. En la
misma pena incurrir√° quien por otros medios causare da√±os graves a edificios u otras
instalaciones industriales o comerciales.
El que haya da√±ado los medios empleados para la transmisi√≥n de energ√≠a el√©ctrica, o de gas o
quien haya ocasionado la interrupci√≥n de su suministro, ser√° penado con prisi√≥n de dos a seis
a√±os.
Art√≠culo 344. Los que pongan fuego en las haciendas, sementeras u otras plantaciones,
incurrir√°n en pena de presidio de uno a cinco a√±os.
Art√≠culo 345. Los que pongan fuego a dehesas o a sabanas de cr√≠a sin permiso de sus due√±os
o sabanas que toquen con los bosques que surten de agua las poblaciones, aunque estos sean
de particulares, ser√°n castigados con prisi√≥n de seis a dieciocho meses.
Art√≠culo 346. La pena establecida en el art√≠culo 343 ser√° aplicada, respectivamente, a
cualquiera que con el objeto de destruir, en todo o en parte, los edificios o casas indicadas en
dicho art√≠culo haya preparado o hecho estallar minas, petardos, bombas, u otros inventos o
aparatos de explosi√≥n y tambi√©n a todo el que hubiere preparado o prendido materias
inflamables capaces de producir semejante efecto.
Art√≠culo 347. Todo individuo que haya ocasionado una inundaci√≥n, ser√° penado con presidio
de tres a cinco a√±os.
Art√≠culo 348. El que, rompiendo las esclusas, diques u otras obras destinadas a la defensa
com√∫n de las aguas o a la reparaci√≥n de alg√∫n desastre com√∫n, haya hecho surgir el peligro de
inundaci√≥n o de cualquier otro desastre, ser√° penado con prisi√≥n de seis a treinta meses.
Si efectivamente se hubiere causado la inundaci√≥n u otro desastre com√∫n, se aplicar√° la pena
del art√≠culo anterior.
Art√≠culo 349. El que aplique fuego a naves, o aeronaves, o a cualquiera otra construcci√≥n
flotante, o el que ocasione su destrucci√≥n, sumersi√≥n o naufragio, ser√° penado con presidio de
tres a cinco a√±os. Art√≠culo 350. Siempre que alguno de los delitos previstos en los art√≠culos precedentes
hubiere reca√≠do en obras, edificios o dep√≥sitos militares, arsenales, aparejos, naves o
aeronaves de la Rep√∫blica o de alguno de sus estados, la pena de presidio ser√° de cuatro a
ocho a√±os.
Art√≠culo 351. El que hubiere preparado alg√∫n naufragio, destruyendo, trastornando o
haciendo faltar de cualquier manera los faros u otras se√±ales o empleando al efecto falsas
se√±ales u otros artificios, ser√° penado con prisi√≥n de seis a treinta meses.
Cuando realmente se efectuare la sumersi√≥n o e naufragio de alguna nave, se aplicar√°n, seg√∫n
los casos, las disposiciones de los art√≠culos precedentes.
Art√≠culo 352. El que para impedir la extinci√≥n de un incendio o las obras de defensa contra
sumersi√≥n o un naufragio, haya sustra√≠do, ocultado o hecho inservibles el material, aparato,
aparejos u otros medios destinados a la extinci√≥n o defensa, ser√° penado con prisi√≥n de seis a
treinta meses.
Art√≠culo 353. Las disposiciones de los art√≠culos 343, 346, 347, 348, 349 y 350 ser√°n
aplicables igualmente al que, cometiendo en un edificio o cosa de su propiedad alguno de los
hechos previstos en aquellos, ha causado los da√±os que se indican en dichos art√≠culos o puesto
en peligro a terceras personas o intereses ajenos.
La pena se√±alada se aumentar√° en la proporci√≥n de una sexta a una tercera parte, si el acto o
hecho ejecutado ha tenido el objeto que prev√©‚Äö el art√≠culo 465.
Art√≠culo 354. Cuando alguno de los actos o hechos previstos en los art√≠culos precedentes
haya puesto en peligro la vida de alguna persona, se aumentar√°n hasta la mitad las penas que
establecen los mismos art√≠culos.
Art√≠culo 355. Las penas se√±aladas en dichos art√≠culos se reducir√°n a prisi√≥n de uno a tres
meses, si en los casos previstos en los art√≠culos precedentes se trata de alguna cosa de poca
importancia y siempre que el delito no ponga en peligro a ninguna persona, ni exponga a da√±o
ninguna otra cosa.
Art√≠culo 356. El que por haber obrado con imprudencia o negligencia, o bien con impericia
en su profesi√≥n, arte o industria, o por inobservancia de los reglamentos, ordenes o
disposiciones disciplinarias, haya ocasionado alg√∫n incendio, explosi√≥n, inundaci√≥n,
sumersi√≥n o naufragio, alg√∫n hundimiento o cualquier otro desastre de peligro com√∫n, ser√°
castigado con prisi√≥n de tres a quince meses. Si el delito
resulta un peligro para la vida de las personas, la prisi√≥n ser√° de tres a treinta meses, y si
resultare la muerte de alguna, la prisi√≥n ser√° de uno a diez a√±os.
CAP√çTULO II
De los delitos contra la seguridad de los medios de transporte y
comunicaci√≥n
Art√≠culo 357. Quien ponga obst√°culos en una v√≠a de circulaci√≥n de cualquier medio de
transporte, abra o cierre las comunicaciones de esas v√≠as, haga falsas se√±ales o realice
cualquier otro acto con el objeto de preparar el peligro de un siniestro, ser√° castigado con
pena de prisi√≥n de cuatro a√±os a ocho a√±os.
Quien cause interrupci√≥n de las v√≠as de comunicaci√≥n mediante voladuras o quien por este
mismo medio cause descarrilamiento o naufragio de un medio de transporte, ser√° castigado
con prisi√≥n de seis a√±os a diez a√±os. Quien asalte o ilegalmente se apodere de buque, accesorio de navegaci√≥n, aeronaves, medios
de transporte colectivo o de carga, o de la carga que √©stos transporten, sean o no propiedad de
empresas estatales, ser√° castigado con pena de prisi√≥n de ocho a√±os a diecis√©is a√±os.
Quien asalte un taxi o cualquier otro veh√≠culo de transporte colectivo para despojar
a tripulantes o pasajeros de sus pertenencias o posesiones, ser√° castigado con pena de prisi√≥n
de diez a√±os a diecis√©is a√±os.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados, no
tendr√°n derecho a gozar de los beneficios procesales de ley ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 358. Cualquiera que da√±e las v√≠as f√©rreas, las m√°quinas, veh√≠culos, instrumentos u
otros objetos y aparejos destinados a su servicio, ser√° castigado con la pena de prisi√≥n de tres
a cinco a√±os.
Art√≠culo 359. Cualquiera que por negligencia o impericia de su arte o profesi√≥n,
inobservancia de los reglamentos, √≥rdenes o instrucciones, hubiere preparado el peligro de
una cat√°strofe en una v√≠a f√©rrea, ser√° penado con prisi√≥n de tres a quince meses.
Si la cat√°strofe se ha consumado, la prisi√≥n ser√° por tiempo de uno a cinco a√±os.
Art√≠culo 360. Quien produzca da√±o a los puertos, muelles, aeropuertos, oleoductos,
gasoductos, oficinas, talleres, obras, aparatos, tuber√≠as, postes, cables u otros medios
empleados para los sistemas de transporte, servicios p√∫blicos, inform√°tico o sistema de
comunicaci√≥n, pertenezcan o no a las empresas estatales, ser√°n penados con prisi√≥n de tres
a√±os a seis a√±os.
Si del hecho ha derivado un peligro grave para la incolumidad p√∫blica, la pena de prisi√≥n ser√°
de cuatro a√±os a seis a√±os y si el hecho produjera un siniestro, la pena ser√° de seis a√±os a diez
a√±os de prisi√≥n.
Si el da√±o o deterioro se produjera por impericia, negligencia o imprudencia, se considerar√°
como circunstancia atenuante y no proceder√° la aplicaci√≥n del par√°grafo √∫nico de este
art√≠culo.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados, no
tendr√°n derecho a gozar de los beneficios procesales de ley ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 361. Para la debida aplicaci√≥n de la ley penal, se asimilan a los ferrocarriles
ordinarios, toda v√≠a de hierro con ruedas met√°licas, neum√°ticas, de polietileno s√≥lido y de
goma o l√°tex s√≥lido que sea explotada por medio de vapor, electricidad o de un motor
mec√°nico o magn√©tico.
A los mismos efectos se asimilan a los tel√©grafos, los tel√©fonos destinados al servicio p√∫blico
y dem√°s instrumentos e instalaciones comunicacionales.
Art√≠culo 362. Fuera de los casos previstos en los art√≠culos precedentes, todo individuo que
por alg√∫n medio cualquiera haya destruido, en todo o en parte, o hecho impracticables los
caminos u obras destinados a la comunicaci√≥n p√∫blica por tierra o por agua, o bien remueva
con tal fin los objetos destinados a la seguridad de dichos caminos y obras, ser√° castigado con
prisi√≥n de tres a treinta mesesÕæ y si el delito ha tenido por consecuencia poner en peligro la
vida de las personas, la prisi√≥n ser√° por tiempo de dieciocho meses a cinco a√±os.
CAP√çTULO III
De los delitos contra la salubridad y alimentaci√≥n p√∫blica Art√≠culo 363. El que ilegalmente tale o roce los montes donde existan vertientes que provean
de agua las poblaciones aunque aquellos pertenezcan a particulares, ser√° penado, salvo
disposiciones especiales, con prisi√≥n de uno a tres a√±os.
El que ilegalmente interrumpa el servicio de agua a un centro de poblaci√≥n, ser√° penado con
prisi√≥n de dos a cinco a√±os.
Art√≠culo 364. El que corrompiendo o envenenando las aguas potables del uso p√∫blico o los
art√≠culos destinados a la alimentaci√≥n p√∫blica, ponga en peligro la salud de las personas, ser√°
penado con prisi√≥n de dieciocho meses a cinco a√±os.
Art√≠culo 365. Todo individuo que hubiere falsificado o adulterado, haci√©ndolas nocivas a la
salud, las sustancias alimenticias o medicinales u otros efectos destinados al comercio, ser√°
penado con prisi√≥n de uno a treinta mesesÕæ y asimismo, el que de cualquiera manera haya
puesto en venta o al expendio p√∫blico, las expresadas sustancias as√≠ falsificadas o adulteradas.
Art√≠culo 366. El que hubiere puesto en venta sustancias alimenticias o de otra especie no
falsificadas ni adulteradas, pero si nocivas a la salud, sin advertir al comprador esta calidad,
ser√° penado con prisi√≥n de quince d√≠as a tres meses.
Ser√° penado con prisi√≥n de cuatro a ocho a√±os:
1. El que il√≠citamente comercie, elabore, detente y, en general, cometa alg√∫n acto
il√≠cito de adquisici√≥n, suministro o trafico de estupefacientes, tales como opio y
sus variedades bot√°nicas similares, morfina, diacetilmorfina, coca en hojas,
coca√≠na, ecgomina, la planta llamada marihuana, sus derivados y sales y
cualquier otra sustancia narc√≥tica o enervante.
2. El que il√≠citamente siembre, cultive o realice cualquier acto de adquisici√≥n,
suministro o tr√°fico de semillas o plantas que tengan el car√°cter de
estupefacientes o drogas a que se refiere el numeral anterior.
El que, sin incurrir en los delitos previstos en este art√≠culo, destine o deje que sea distinto un
local para reuni√≥n de personas que concurren a usar sustancias narc√≥ticas o enervantes, ser√°
penado con prisi√≥n de dos a cinco a√±os.
Los que asistan al local para el uso de estupefacientes, ser√°n penados con prisi√≥n de seis
meses a dos a√±os y no gozar√°n del beneficio de libertad bajo fianza.
Las penas se√±aladas en este art√≠culo ser√°n aumentadas en una tercera parte si las sustancias
estupefacientes se suministran aplican o facilitan a un menor de dieciocho a√±os o a quienes
los utilicen para su trafico.
Cuando el culpable de alguno de los hechos previstos en este art√≠culo haya cometido el delito
por ejercicio abusivo de una profesi√≥n sanitaria o de cualquiera otra profesi√≥n o de arte sujeta
a autorizaci√≥n o vigilancia por raz√≥n de la salubridad p√∫blica, la pena ser√° aumentada entre
un sexto y una cuarta parteÕæ y se impondr√° adem√°s, la pena accesoria de inhabilitaci√≥n para
ejercer su profesi√≥n o actividad por tiempo igual al de la pena despu√©s de cumplida √©sta.
Art√≠culo 367. El que estando autorizado para vender sustancias medicinales las hubiere
suministrado en especie, calidad y cantidad diferentes de las prescritas por el m√©dico o
diferentes de las declaradas o convenidas, ser√° penado con prisi√≥n de seis a dieciocho meses.
Art√≠culo 368. Todo individuo que hubiere puesto en venta o de cualquiera otra manera en el
comercio, como genuinas, sustancias alimenticias que no lo sean, aunque no resultaren
nocivas a la salud, ser√° penado con prisi√≥n de tres a quince d√≠as. Art√≠culo 369. Cuando alguno de los hechos previstos en los art√≠culos precedentes sea el
resultado de imprudencia, de negligencia, de impericia en el arte, profesi√≥n o industria o de
inobservancia de los reglamentos, ordenes o instrucciones, el culpable ser√° castigado as√≠:
1. En el caso del art√≠culo 364, con arresto de quince d√≠as a seis meses.
2. En los casos del art√≠culo 365, con arresto de quince a cuarenta y cinco d√≠as.
3. En los casos de los art√≠culos 366 y 367, con arresto de tres a quince d√≠as.
Art√≠culo 370. Cuando de alguno de los hechos previstos en los art√≠culos precedentes resulte
alg√∫n peligro para la vida de las personas, las penas establecidas en ellos se aumentar√°n al
duplo.
Art√≠culo 371. Cuando el culpable de alguno de los hechos previstos en los art√≠culos 365 y
368 haya cometido el delito por el ejercicio abusivo de una profesi√≥n sanitaria o de cualquiera
otra profesi√≥n o de arte sujeto a autorizaci√≥n o vigilancia por raz√≥n de la salubridad p√∫blica,
las penas ser√°n las siguientes:
1. En el caso del art√≠culo 365, prisi√≥n de tres meses a tres a√±os.
2. En el caso del art√≠culo 368, prisi√≥n de quince d√≠as a tres meses.
La condenaci√≥n por alguno de los delitos previstos en los art√≠culos precedentes, producir√°
siempre como consecuencia la suspensi√≥n del ejercicio del arte, profesi√≥n o industria por
medio de la cual se ha cometido el delito. Tal suspensi√≥n se impondr√° por un tiempo igual al
de la prisi√≥n que se hubiese aplicado.
Art√≠culo 372. El que propagando falsas noticias o vali√©ndose de otros medios fraudulentos,
haya producido la escasez y encarecimiento de los art√≠culos alimenticios, ser√° penado con
prisi√≥n de seis a treinta meses. Si el culpable es alg√∫n corredor p√∫blico, se aumentar√° dicha
pena en la mitad.
CAP√çTULO IV
Disposiciones comunes a los cap√≠tulos precedentes
Art√≠culo 373. Cada vez que por consecuencia de alguno de los delitos a que se contraen los
art√≠culos 343, 346, 351, 353, 357, 358, 360, 361, 362, 364, 365, 366, 367 y 371 y salvo lo que
se dispone en los art√≠culos 406, numeral 3 y 418, resultare la muerte o lesi√≥n de alguna
persona, las penas en ellos establecidas se doblaran en el caso de muerte y se aumentar√°n de
un tercio a la mitad en el caso de lesiones, pero no se aplicar√°n menos de cuatro a√±os de
prisi√≥n en el primer caso ni de tres meses, tambi√©n de prisi√≥n, en el segundo.
Si del hecho resultare la muerte de varias personas o la muerte de una y lesiones de otra u
otras, la prisi√≥n podr√° convertirse en presidio, seg√∫n las circunstancias del casoÕæ y ya se
aplique una u otra pena, su tiempo no ser√° menor de diez a√±os, pudiendo extenderse hasta
veinte.
Si resultaren lesiones de varias personas, la prisi√≥n no ser√° menor de seis meses, pero podr√°
elevarse hasta diez a√±os.
T√çTULO VIII
De los Delitos Contra las Buenas Costumbres y Buen Orden de las Familias
CAP√çTULO I
De la violaci√≥n, de la seducci√≥n, de la prostituci√≥n
o corrupci√≥n de menores y de los ultrajes al pudor Art√≠culo 374. Quien por medio de violencias o amenazas haya constre√±ido a alguna persona,
de uno o de otro sexo, a un acto carnal por v√≠a vaginal, anal u oral, o introducci√≥n de objetos
por alguna de las dos primeras v√≠as, o por v√≠a oral se le introduzca un objeto que simulen
objetos sexuales, el responsable ser√° castigado, como imputado de violaci√≥n, con la pena de
prisi√≥n de diez a√±os a quince a√±os. Si el delito de violaci√≥n aqu√≠ previsto se ha cometido
contra una ni√±a, ni√±o o adolescente, la pena ser√° de quince a√±os a veinte a√±os de prisi√≥n.
La misma pena se le aplicar√°, aun sin haber violencias o amenazas, al individuo que tenga un
acto carnal con persona de uno u otro sexo:
1. Cuando la v√≠ctima sea especialmente vulnerable, por raz√≥n de su edad o
situaci√≥n, y, en todo caso, cuando sea menor de trece a√±os.
2. O que no haya cumplido diecis√©is a√±os, siempre que para la ejecuci√≥n del
delito, el responsable se haya prevalido de una relaci√≥n de superioridad o
parentesco, por ser ascendiente, descendiente o hermano, por naturaleza o
adopci√≥n, o afines con la v√≠ctima.
3. O que hall√°ndose detenida o detenido, condenada o condenado, haya sido
confiado o confiada la custodia del culpable.
4. O que no estuviere en capacidad de resistir por causa de enfermedad f√≠sica o
mentalÕæ por otro motivo independiente de la voluntad del culpable o por
consecuencia del empleo de medios fraudulentos o sustancias narc√≥ticas o
excitantes de que √©ste se haya valido.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados, no
tendr√°n derecho a gozar de los beneficios procesales de ley, ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 375. Cuando alguno de los hechos previstos en la parte primera y en los numerales 1
y 4 del art√≠culo precedente, se hubiere cometido con abuso de autoridad, de confianza o de las
relaciones dom√©sticas, cuando se cometan por la actuaci√≥n conjunta de dos o m√°s personas, la
pena ser√° de prisi√≥n de ocho a√±os a catorce a√±os en el caso de la parte primera, y de diez a√±os
a diecis√©is a√±os en los
casos establecidos en los numerales 1 y 4.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados, no
tendr√°n derecho a gozar de los beneficios procesales de ley ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 376. El que vali√©ndose de los medios y aprovech√°ndose de las condiciones o
circunstancias que se indican en el art√≠culo 374, haya cometido en alguna persona de uno u
otro sexo, actos lascivos que no tuvieren por objeto del delito previsto en dicho art√≠culo, ser√°
castigado con prisi√≥n de seis a treinta meses.
Si el hecho se hubiere cometido con abuso de autoridad, de confianza o de las relaciones
domesticas la pena de prisi√≥n ser√° de uno a cinco a√±os, en el caso de violencias y amenazasÕæ y
de dos a seis a a√±os en los casos de los numerales 1 y 4 del art√≠culo 374.
Art√≠culo 377. Cuando alguno de los hechos previstos en los art√≠culos precedentes se hubiere
cometido con el concurso simultaneo de dos o m√°s personas, las penas establecidas por la ley
se impondr√°n con el aumento de la tercera parte.
Art√≠culo 378. El que tuviere acto carnal con persona mayor de doce y menor de diecis√©is
a√±os, o ejecutare en ella actos lascivos, sin ser su ascendiente, tutor ni institutor y aunque no
medie ninguna de las circunstancias previstas en el art√≠culo 374, ser√° castigado con prisi√≥n de seis a dieciocho meses y la pena ser√° doble si el autor del delito es el primero que corrompe a
la persona agraviada.
El acto carnal ejecutado en mujer mayor de diecis√©is a√±os y menor de veintiuno con su
consentimiento, es punible cuando hubiere seducci√≥n con promesa matrimonial y la mujer
fuere conocidamente honestaÕæ en tal caso la pena ser√° de seis meses a un a√±o de prisi√≥n.
Se considerar√° como circunstancia agravante especial, en los delitos a que se contrae este
art√≠culo, la de haberse valido el culpable de las gestiones de los ascendientes, guardadores o
representantes legales u otras personas encargadas de vigilar la persona menor de edad o de
los oficios de proxenetas o de corruptores habituales.
Art√≠culo 379. En lo que concierne a los delitos previstos en los art√≠culos precedentes, el
enjuiciamiento no se har√° lugar sino por acusaci√≥n de la parte agraviada o de quien sus
derechos represente.
Pero la querella no es admisible si ha transcurrido un a√±o desde el d√≠a en que se cometi√≥ el
hecho o desde el d√≠a en que tuvo conocimiento de √©l la persona que pueda querellarse en
representaci√≥n de la agraviada.
El desistimiento no tendr√° ning√∫n efecto, si interviene despu√©s de reca√≠da sentencia firme.
Se proceder√° de oficio en los casos siguientes:
1. Si el hecho hubiere ocasionado la muerte de la persona ofendida, o si hubiere
sido acompa√±ado de otro delito enjuiciable de oficio.
2. Si el hecho se hubiere cometido en alg√∫n lugar p√∫blico o expuesto a la vista
del p√∫blico.
3. Si el hecho se hubiere cometido con abuso del poder paternal o de la autoridad
tutelar o de funciones p√∫blicas.
Art√≠culo 380. Todo individuo que, en circunstancias capaces de causar esc√°ndalo p√∫blico,
tenga relaciones incestuosas con un ascendiente o descendiente, aunque fuere ileg√≠timo, con
alg√∫n af√≠n en l√≠nea recta o con un hermano o hermana, hermanos, consangu√≠neos o uterinos,
ser√° castigado con presidio de tres a seis a√±os.
Art√≠culo 381. Todo individuo que, fuera de los casos indicados en los art√≠culos precedentes,
haya ultrajado el pudor y las buenas costumbres por actos cometidos en lugar p√∫blico o
expuesto a la vista del p√∫blico ser√° castigado con prisi√≥n de tres a quince meses. El que
reiteradamente o con fines de lucro o para satisfacer las pasiones de otro, induzca, facilite o
favorezca la prostituci√≥n o corrupci√≥n de
alguna persona, ser√° castigado con prisi√≥n de uno a seis a√±os. Si este delito se cometiere en
alguna persona menor, la pena se aplicar√° entre el t√©rmino medio y el m√°ximo.
Art√≠culo 382. Todo individuo que haya ultrajado el pudor por medio de escritos, dibujos u
otros objetos obscenos, que bajo cualquier forma se hubieren hecho, distribuido o expuesto a
la vista del p√∫blico u ofrecido en venta, ser√° castigado con prisi√≥n de tres a seis meses. Si el
delito se hubiere cometido con un fin de lucro, la prisi√≥n ser√° de seis meses a un a√±o.
CAP√çTULO II
Del rapto
Art√≠culo 383. Todo individuo que por medio de violencias, amenazas o enga√±o hubiere
arrebatado, sustra√≠do o detenido, con fines de libertinaje o de matrimonio, a una mujer mayor
o emancipada, ser√° castigado con prisi√≥n de uno a tres a√±os. Art√≠culo 384. Todo individuo que por los medios a que se refiere el art√≠culo precedente y para
alguno de los fines en √©l previstos, haya arrebatado, sustra√≠do o retenido alguna persona
menor o a una mujer casada, ser√° castigado con presidio de tres a cinco a√±os.
Si la raptada hubiere prestado su consentimiento, la pena ser√° de prisi√≥n por tiempo de seis
meses a dos a√±os.
Y si la persona raptada es menor de doce a√±os, aunque el culpable no se hubiere valido de
violencias, amenazas o enga√±o, la pena ser√° de presidio por tiempo de tres a cinco a√±os.
Art√≠culo 385. Cuando el culpable de alguno de los delitos previstos en los art√≠culos
precedentes, sin haber cometido ning√∫n acto libidinoso, haya puesto voluntariamente en
libertad a la persona raptada, volvi√©ndola a su domicilio, al de sus parientes o a alg√∫n lugar
seguro, a disposici√≥n de su familia, la pena que se imponga ser√° de prisi√≥n de uno a seis
meses en el caso del art√≠culo 383, de tres a dieciocho meses y de seis a treinta meses,
respectivamente, en los casos de los art√≠culos 384.
Cuando alguno de los delitos previstos en este y los anteriores art√≠culos, se hubiere cometido
solo con el fin de matrimonio, la pena de prisi√≥n podr√° aplicarse en lugar de la de presidio.
Art√≠culo 386. En lo que concierne a los delitos previstos en los art√≠culos precedentes, el
enjuiciamiento no se har√° lugar sino por acusaci√≥n de la parte agraviada o de su representante
legal. Pero la querella no ser√° admisible si ha transcurrido un a√±o desde que se realiz√≥ el
hecho o desde el d√≠a en que de √©l tuvo conocimiento la persona que pueda promoverla en
representaci√≥n de la ofendida.
El desistimiento no produce ning√∫n efecto si interviene despu√©s de reca√≠da sentencia firme.
CAP√çTULO III
De los corruptores
Art√≠culo 387. El que por satisfacer las pasiones de otro hubiere inducido a la prostituci√≥n o a
actos de corrupci√≥n a alguna persona menor, ser√° castigado con prisi√≥n de tres a dieciocho
meses.
La prisi√≥n se impondr√° por tiempo de uno a cuatro a√±os si el delito se ha cometido:
1. En alguna persona menor de doce a√±os.
2. Por medio de fraude o de enga√±o.
3. Por los ascendientes, los afines en l√≠nea recta ascendente, por el padre o madre
adoptivos, por el marido, el tutor u otra persona encargada del menor para
cuidarlo, instruirlo, vigilarlo o guardarlo, aunque sea temporalmente.
Si han concurrido varias circunstancias de las distintas categor√≠as mencionadas, la prisi√≥n ser√°
de dos a cinco a√±os.
Art√≠culo 388. Todo individuo que, para satisfacer las pasiones de otro, haya facilitado o
favorecido la prostituci√≥n o corrupci√≥n de alguna persona menor, de cualquiera de los modos
o en cualquiera de los casos especificados en la primera parte y numerales 1, 2 y 3 del art√≠culo
precedente, ser√° castigado con prisi√≥n de tres a doce meses. En el caso del √∫ltimo aparte, la
prisi√≥n ser√° de tres a dieciocho meses.
Art√≠culo 389. El ascendente, a fin en l√≠nea ascendente, marido o tutor, que por medio de
violencias o amenazas, haya constre√±ido a la prostituci√≥n o corrupci√≥n al descendiente a la
esposa, aunque sea mayor o al menor que se halle bajo su tutela, ser√° penado con presidio de
cuatro a seis a√±os. Si el ascendiente o el marido hubieren empleado fraude o enga√±o para la corrupci√≥n del
descendiente o de la esposa, aunque sea mayor, se castigar√°n con presidio de tres a cinco
a√±os.
Art√≠culo 390. En los delitos previstos en los art√≠culos precedentes, el enjuiciamiento no se
har√° lugar sino por acusaci√≥n de la parte agraviada o de su representante legal, menos en los
casos en que el autor del hecho punible sea ese mismo representante legal.
Cuando el culpable sea el marido y la mujer fuere menor, la querella deber√° proceder de la
persona que, si aquella no fuere casada, tendr√≠a sobre ella el derecho de patria potestad o de
tutela.
Ser√° consecuencia de la condena la p√©rdida del poder marital.
CAP√çTULO IV
Disposiciones comunes a los cap√≠tulos precedentes
Art√≠culo 391. Ser√° consecuencia de la condena por alguno de los delitos previstos en los
art√≠culos 374, 375, 376, 378, 380, 387, 388 y 389, respecto de los ascendientes, la p√©rdida de
todos los derechos que en su calidad de tales, les confiere la ley sobre la persona y bienes de
los descendientes en cuyo perjuicio se ha cometido el delitoÕæ y en cuanto a los tutores, la
remoci√≥n de la tutela e
inhabilitaci√≥n para todos los cargos referente a ella.
Art√≠culo 392. Cuando alguno de los hechos previstos en los art√≠culos 374, 375, 376, 383 y
384, haya ocasionado la muerte de la persona ofendida, se aplicar√°n las penas
correspondientes al homicidio aumentadas en la mitad. Si producen lesi√≥n se aplicar√° la pena
establecida en los art√≠culos citados aumentada de un tercio a la mitad, sin que en ning√∫n caso
pueda ser menor de dieciocho meses de prisi√≥n.
Art√≠culo 393. El culpable de alguno de los delitos previstos en los art√≠culos 374, 375, 376,
378, 387, 388 y 389 quedar√° exento de pena si antes de la condenaci√≥n contrae matrimonio
con la persona ofendida, y el juicio cesar√° de todo punto en todo lo que se relacione con la
penalidad correspondiente a estos hechos punibles.
Si el matrimonio se efect√∫a despu√©s de la condenaci√≥n, cesar√°n entonces la ejecuci√≥n de las
penas y sus consecuencias penales.
Los reos de seducci√≥n, violaci√≥n o rapto ser√°n condenados, por v√≠a de indemnizaci√≥n civil, si
no se efectuare el matrimonio, a dotar a la ofendida si fuere soltera o viuda y, en todo caso,
honesta.
Par√°grafo √∫nico: En la misma sentencia se declarar√° que la prole gozar√° de los mismos
derechos que la ley civil acuerda a los hijos leg√≠timos, si el estado de los padres lo permitiere
y en todo caso se condenar√° al culpable a mantener dicha prole.
CAP√çTULO V
Del adulterio
Art√≠culo 394. La mujer ad√∫ltera ser√° castigada con prisi√≥n de seis meses a tres a√±os. La
misma pena es aplicable al coautor del adulterio.
Art√≠culo 395. El marido que mantenga concubina en la casa conyugal, o tambi√©n fuera de
ella, si el hecho es notorio, ser√° castigado con prisi√≥n de tres a dieciocho meses. La condena
produce de derecho la p√©rdida del poder marital. La concubina ser√° penada con prisi√≥n de tres
meses a un a√±o. Art√≠culo 396. Si los c√≥nyuges estaban legalmente separados, o si el c√≥nyuge culpable hab√≠a
sido abandonado por el otro, la pena de los delitos a que se refieren los dos art√≠culos
anteriores, ser√°, para cada uno de los culpables, prisi√≥n de quince d√≠as a tres meses.
Art√≠culo 397. En lo que concierne a los delitos previstos en los art√≠culos precedentes, el
enjuiciamiento no se har√° lugar sino por acusaci√≥n del marido o de la mujer. La querella
comprender√° necesariamente al coautor del adulterio o a la concubina.
La instancia o querella no es admisible si ha transcurrido un a√±o desde la fecha en que el
c√≥nyuge ofendido tuvo conocimiento del adulterio cometido.
La acusaci√≥n no ser√° tampoco admisible si procede del c√≥nyuge por cuya culpa se hubiere
pronunciado sentencia de separaci√≥n de cuerpos.
Art√≠culo 398. El culpable de alguno de los delitos previstos en los art√≠culos precedentes
quedara exento de pena:
1. En el caso de acusaci√≥n o querella del marido, cuando la mujer pruebe que el
tambi√©n en el a√±o anterior al hecho, hab√≠a cometido el delito especificado en el
art√≠culo 395, o hab√≠a obligado o expuesto a su mujer a prostituirse o excitado o
favorecido su corrupci√≥n.
2. En el caso de acusaci√≥n de la mujer cuando el marido compruebe que ella
tambi√©n, durante el tiempo arriba indicado, ha cometido el delito a que se contrae
el art√≠culo 394.
Art√≠culo 399. El desistimiento puede proceder eficazmente aun despu√©s de la condenaci√≥n,
haciendo que cesen la ejecuci√≥n y las consecuencias penales. La muerte del c√≥nyuge acusador
produce los efectos del desistimiento.
CAP√çTULO VI
De la bigamia
Art√≠culo 400. Cualquiera que estando casado validamente, haya contra√≠do otro matrimonio, o
que no est√°ndolo, hubiere contra√≠do, a sabiendas, matrimonio con persona casada
leg√≠timamente, Ser√° castigado con prisi√≥n de dos a cuatro a√±os.
Si el culpable hubiere inducido en error a la persona con quien ha contra√≠do matrimonio,
enga√±√°ndola respecto a la libertad de su propio estado o el de ella, la pena ser√° de presidio de
tres a cinco a√±os.
Ser√° castigado con las penas anteriores, aumentadas de un quinto a un tercio, el que, estando
validamente casado, haya contra√≠do otro matrimonio a sabiendas de que el otro contrayente
era tambi√©n leg√≠timamente casado.
Art√≠culo 401. Los reos de bigamia deber√°n ser condenados, por v√≠a de indemnizaci√≥n civil, a
mantener la prole menor de edad y si la contrayente inocente es soltera y no se ha hecho
constar que no es honesta deber√°n ser, adem√°s, condenados a dotarla.
Art√≠culo 402. La prescripci√≥n de la acci√≥n penal por el delito previsto en el art√≠culo 400,
correr√° desde el d√≠a en que se haya disuelto uno de los dos matrimonios, o desde el d√≠a en que
el segundo matrimonio se hubiere declarado nulo por causa de bigamia.
CAP√çTULO VII
De la suposici√≥n y la supresi√≥n de estado
Art√≠culo 403. El que ocultando o cambiando un ni√±o haya as√≠ suprimido o alterado el estado civil de √©ste, as√≠ como el que hubiere hecho figurar en los registros del estado civil un ni√±o
que no existe, ser√° castigado con prisi√≥n de tres a cinco a√±os.
El que, fuera de los casos previstos en la primera parte de este art√≠culo, pone en alguna casa
de exp√≥sitos o en otro lugar de beneficencia, un ni√±o leg√≠timo o natural reconocido, o bien lo
presenta en tales establecimientos ocultando su estado, ser√° castigado con prisi√≥n de cuarenta
y cinco d√≠as a tres a√±osÕæ y si el culpable fuere un ascendiente, la pena de prisi√≥n podr√° ser
hasta de cuatro a√±os.
Art√≠culo 404. El culpable de alguno de los delitos previstos en el art√≠culo precedente, que
hubiere cometido el hecho por salvar su propio honor o a la honra de su esposa, de su madre,
de su descendiente, de su hija adoptiva o de su hermana, o por prevenir malos tratamientos
inminentes, ser√° castigado con prisi√≥n por tiempo de quince d√≠as a dieciocho meses.
T√çTULO IX
De los Delitos Contra las Personas
CAP√çTULO I
Del homicidio
Art√≠culo 405. El que intencionalmente haya dado muerte a alguna persona ser√° penado con
presidio de doce a dieciocho a√±os.
Art√≠culo 406. En los casos que se enumeran a continuaci√≥n se aplicar√°n las siguientes penas:
1. Quince a√±os a veinte a√±os de prisi√≥n a quien cometa el homicidio por medio
de veneno o de incendio, sumersi√≥n u otro de los delitos previstos en el T√≠tulo
VII de este libro, con alevos√≠a o por motivos f√∫tiles o innobles, o en el curso de la
ejecuci√≥n de los delitos previstos en los art√≠culos 449, 450, 451, 453, 456 y 458
de este C√≥digo.
2. Veinte a√±os a veintis√©is a√±os de prisi√≥n si concurrieren en el hecho dos o m√°s
de las circunstancias indicadas en el numeral que antecede.
3. De veintiocho a√±os a treinta a√±os de prisi√≥n para los que lo perpetren:
a. En la persona de su ascendiente o descendiente o en la de su
c√≥nyuge.
b. En la persona del Presidente de la Rep√∫blica o de quien ejerciere
interinamente las funciones de dicho cargo.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos
expresados en los numerales anteriores, no tendr√°n derecho a gozar de los
beneficios procesales de ley ni a la aplicaci√≥n de medidas alternativas del
cumplimiento de la pena.
Art√≠culo 407. La pena del delito previsto en el art√≠culo 405 de este C√≥digo, ser√° de veinte
a√±os a veinticinco a√±os de presidio:
1. Para los que lo perpetren en la persona de su hermano.
2. Para los que lo cometan en la persona del Vicepresidente Ejecutivo de la
Rep√∫blica, de alguno de los Magistrados o Magistradas del Tribunal Supremo de
Justicia, de un Ministro del Despacho, de un Gobernador de estado, de un
diputado o diputada de la Asamblea Nacional, del Alcalde Metropolitano, de los
Alcaldes, o de alg√∫n rector o rectora del Consejo Nacional Electoral, o del Defensor del Pueblo, o del Procurador General, o del Fiscal General o del
Contralor General de la Rep√∫blica, o de alg√∫n miembro del Alto Mando Militar,
de la Polic√≠a, o de alg√∫n otro funcionario p√∫blico, siempre que respecto a estos
√∫ltimos el delito se hubiere cometido a causa de sus funciones.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos expresados en
los numerales anteriores, no tendr√°n derecho a gozar de los beneficios procesales de ley ni a
la aplicaci√≥n de medidas alternativas del cumplimiento de la pena.
Art√≠culo 408. En los casos previstos en los art√≠culos precedentes, cuando la muerte no se
hubiere efectuado sin el concurso de circunstancias preexistentes desconocidas del culpado, o
de causas imprevistas que no han dependido de su hecho, la pena Ser√° de presidio de siete a
diez a√±os, en el caso del art√≠culo 405Õæ de diez a quince a√±os, en el del art√≠culo 406Õæ y de ocho
a doce a√±os en el del art√≠culo 407.
Art√≠culo 409. El que por haber obrado con imprudencia o negligencia, o bien con impericia
en su profesi√≥n, arte o industria, o por inobservancia de los reglamentos, ordenes e
instrucciones, haya ocasionado la muerte de alguna persona, ser√° castigado con prisi√≥n de seis
meses a cinco a√±os.
En la aplicaci√≥n de esta pena los tribunales de justicia apreciaran el grado de culpabilidad del
agente.
Si del hecho resulta la muerte de varias personas o la muerte de una sola y las heridas de una
o m√°s, con tal que las heridas acarreen las consecuencias previstas en el art√≠culo 414, la pena
de prisi√≥n podr√° aumentar hasta ocho a√±os.
Art√≠culo 410. El que con actos dirigidos a ocasionar una lesi√≥n personal, causare la muerte de
alguno, ser√° castigado con presidio de seis a ocho a√±os, en el caso del art√≠culo 405Õæ de ocho a
doce a√±os, en el caso de art√≠culo 406Õæ y de siete a diez a√±os, en el caso del art√≠culo 407.
Si la muerte no hubiese sobrevenido sin el concurso de circunstancias preexistentes
desconocidas del culpable, o de causas imprevistas o independientes de su hecho, la pena ser√°
la de presidio de cuatro a seis a√±os, en el caso del art√≠culo 405Õæ de seis a nueve a√±os, en el
caso del art√≠culo 406Õæ y de cinco a siete a√±os, en el caso del art√≠culo 407.
Art√≠culo 411. Cuando el delito previsto en el art√≠culo 405 se haya cometido en un ni√±o reci√©n
nacido, no inscrito en el Registro del Estado Civil dentro del t√©rmino legal, con el objeto de
salvar el honor del culpado o la honra de su esposa, de su madre, de su descendiente, hermana
o hija adoptiva, la pena se√±alada en dicho art√≠culo se rebajar√° de un cuarto a la mitad.
Art√≠culo 412. El que hubiere inducido a alg√∫n individuo a que se suicide o con tal fin lo haya
ayudado, ser√° castigado, si el suicidio se consuma con presidio de siete a diez a√±os.
CAP√çTULO II
De las lesiones personales
Art√≠culo 413. El que sin intenci√≥n de matar, pero si de causarle da√±√≥, haya ocasionado a
alguna persona un sufrimiento f√≠sico, un perjuicio a la salud o una perturbaci√≥n en las
facultades intelectuales, ser√° castigado con prisi√≥n de tres a doce meses.
Art√≠culo 414. Si el hecho ha causado una enfermedad mental o corporal, cierta o
probablemente incurable, o la p√©rdida de alg√∫n sentido de una mano, de un pie, de la palabra,
de la capacidad de engendrar o del uso de alg√∫n √≥rgano, o si ha producido alguna herida que desfigure a la personaÕæ en fin, si habi√©ndose cometido el delito contra una mujer en cinta le
hubiere ocasionado el aborto, ser√°
castigado con presidio de tres a seis a√±os.
Art√≠culo 415. Si el hecho ha causado inhabilitaci√≥n permanente de alg√∫n sentido o de un
√≥rgano, dificultad permanente de la palabra o alguna cicatriz notable en la cara o si ha puesto
en peligro la vida de la persona ofendida o producido alguna enfermedad mental o corporal
que dure veinte d√≠as o m√°s, o si por un tiempo igual queda la dicha persona incapacitada de
entregarse a sus ocupaciones habituales,
o, en fin, si habi√©ndose cometido el delito contra una mujer en cinta, causa un parto
prematuro, la pena ser√° de prisi√≥n de uno a cuatro a√±os.
Art√≠culo 416. Si el delito previsto en el art√≠culo 413 hubiere acarreado a la persona ofendida,
enfermedad que solo necesita asistencia medica por menos de diez d√≠as o s√≥lo la hubiere
incapacitado por igual tiempo para dedicarse a sus negocios ordinarios, u ocupaciones
habituales, la pena ser√° de arresto de tres a seis meses.
Art√≠culo 417. Si el delito previsto en el art√≠culo 413, no solo no ha acarreado enfermedad que
necesite asistencia medica, sino que tampoco ha incapacitado a la persona ofendida para
dedicarse a sus negocios u ocupaciones habituales, la pena ser√° de arresto de diez a cuarenta y
cinco d√≠as.
Art√≠culo 418. Cuando el hecho especificado en los art√≠culos precedentes estuviere
acompa√±ado de alguna de las circunstancias indicadas en el art√≠culo 406, o cuando el hecho
fuere cometido con armas insidiosas o con cualquiera otra arma propiamente dicha, o por
medio de sustancias corrosivas, la pena se aumentar√° en la proporci√≥n de una sexta a una
tercera parte.
Si el hecho esta acompa√±ado de alguna de las circunstancias previstas en el art√≠culo 407, la
pena se aumentar√° con un tercio, sin perjuicio de la pena del hecho punible concurrente que
no pueda considerarse como circunstancia agravante sino como delito separado.
Art√≠culo 419. Cuando en los casos previstos en los art√≠culos que preceden excede el hecho en
sus consecuencias al fin que se propuso el culpable la pena en ellos establecida se disminuir√°
de una tercera parte a la mitad.
Art√≠culo 420. El que por haber obrado con imprudencia o negligencia, o bien con impericia
en su profesi√≥n, arte o industria, o por inobservancia de los reglamentos, ordenes o
disciplinas, ocasione a otro alg√∫n da√±o en el cuerpo o en la salud, o alguna perturbaci√≥n en las
facultades intelectuales ser√° castigado:
1. Con arresto de cinco a cuarenta y cinco d√≠as o multa de cincuenta unidades
tributarias (50 U.T.) a quinientas unidades tributarias (500 U.T.), en los casos
especificados en los art√≠culos 413 y 416, no pudiendo procederse sino a instancia
de parte.
2. Con prisi√≥n de uno a doce meses o multa de ciento cincuenta unidades
tributarias (150 U.T.) a un mil quinientas unidades tributarias (1.500 U.T.), en los
casos de los art√≠culos 414 y 415.
3. Con arresto de uno a cinco d√≠as o con multa de veinticinco unidades tributarias
(25 U.T.), en los casos del art√≠culo 399, no debiendo procederse entonces sino a
instancia de parte.
CAP√çTULO III CAP√çTULO III
Disposiciones comunes a los cap√≠tulos precedentes
Art√≠culo 421. No incurrir√°n en las penas comunes de homicidio ni en las de lesiones, el
marido que sorprendiendo en adulterio a su mujer y a su c√≥mplice, mate, hiera o maltrate a
uno de ellos o a ambos.
En tales casos las penas de homicidio o lesiones se reducir√°n a una prisi√≥n que no exceda de
tres a√±os ni baje de seis meses.
Igual mitigaci√≥n de pena tendr√° efecto en los homicidios o lesiones que los padres o abuelos
ejecuten, en su propia casa, en los hombres que sorprendan en acto carnal con sus hijas o
nietas solteras.
Art√≠culo 422. Los tribunales estimar√°n como motivo de atenuaci√≥n en los juicios por muerte
o lesiones corporales, el haberse causado los hechos en duelo regular.
En este caso podr√° rebajarse de una a dos terceras partes la pena correspondiente al hecho
punibleÕæ y a los testigos se les aplicar√° una pena igual a la que se imponga al matador o
heridor, disminuida en la mitad.
Si en duelo hubiera habido deslealtad, esta circunstancia se considerara agravante para la
aplicaci√≥n de las penas correspondientes al homicidio o lesiones que hubieren resultadoÕæ y los
testigos ser√°n considerados como coautores.
En caso de homicidio cometido en ri√±a cuerpo a cuerpo, si el herido o interfecto la hubiere
provocado y aunque el heridor o matador la hubiere aceptado o continuado a pesar de haber
podido cortarla o de haber podido abstenerse de re√±ir sin grave riesgo, se tendr√° en cuenta
aquella circunstancia y se aplicar√° la pena correspondiente con la atenuaci√≥n prevista en la
primera parte de este art√≠culo.
En estos casos, si el lance se ha originado por haber una de las partes ofendido el honor o la
reputaci√≥n de la otra o de su familia en documento p√∫blico o con escritos o dibujos
divulgados o expuestos al p√∫blico o con otros medios de publicidad, se estimara como
provocador al autor de estos hechosÕæ y seg√∫n la gravedad de la difamaci√≥n, los tribunales
pueden cambiar la pena que correspondiere al que haya herido o dado muerte al provocador,
en confinamiento por igual tiempo, con la reducci√≥n prevista.
Art√≠culo 423. No ser√° punible el individuo que hubiere cometido alguno de los hechos
previstos en los dos Cap√≠tulos anteriores, encontr√°ndose en las circunstancias siguientes:
De defender sus propios bienes contra los autores del escalamiento, de la fractura o incendio
de su casa, de otros edificios habitados o de su dependencia, siempre que el delito tenga lugar
de noche o en sitio aislado, de tal suerte que los habitantes de la casa, edificios o
dependencias, puedan creerse, con fundado temor, amenazados en su seguridad personal.
Cuando al repeler a los autores del escalamiento, de la fractura o del incendio de la casa,
edificios o dependencias, no concurrieren las condiciones anteriormente previstas, la pena del
delito cometido solo se disminuir√° de un tercio a la mitad, y el presidio se convertir√° en
prisi√≥n.
Art√≠culo 424. Cuando en la perpetraci√≥n de la muerte o las lesiones han tomado parte varias
personas y no pudiere descubrirse quien las caus√≥, se castigar√° a todos con las penas
respectivamente correspondientes al delito cometido, disminuidas de una tercera parte a la
mitad.
No se aplicar√° esta rebaja de pena al cooperador inmediato del hecho.
Art√≠culo 425. Sin perjuicio de lo dispuesto en el art√≠culo anterior y de las mayores penas en
que se incurra por los hechos individualmente cometidos, cuando en una refriega entre varias personas resulte alguien muerto o con una lesi√≥n personal, todos los que agredieron al herido
ser√°n castigados con las penas correspondientes al delito cometido. Los que hayan tomado
parte en la refriega sin agredir al herido ser√°n castigados con prisi√≥n de uno a tres a√±os, en los
casos de homicidio, y de uno a seis meses en caso de lesiones.
Al provocador de la refriega se le aplicar√°n las penas que se dejan indicadas, aumentadas en
una tercera parte.
Art√≠culo 426. El que en ri√±a entre dos o m√°s personas saque primero arma de fuego o arma
blanca, o primero dispare la de fuego, ser√° castigado con arresto de uno a seis meses, aunque
no cause muerte ni lesi√≥nÕæ si las causare, la pena correspondiente al delito se le aplicar√°
aumentada en una sexta parte. En uno u otro caso se aplicar√°, asimismo, la pena
correspondiente por el delito de porte il√≠cito de armas.
Art√≠culo 427. Aun cuando seg√∫n la calificaci√≥n de las lesiones hechas por los peritos, ellas no
fuesen de por s√≠ mortales, se castigar√° al reo como homicida, conforme al art√≠culo 410, si la
muerte ocasionada por tales lesiones con el concurso de las circunstancias imprevistas a que
se contrae dicho art√≠culo ocurriere antes de dictarse sentencia de ultima instancia.
Art√≠culo 428. Para los efectos de los Cap√≠tulos de este T√≠tulo, se reputan armas, adem√°s de
las de fuego y de las blancas, los palos, piedras y cualesquiera otros instrumentos propios para
maltratar o herir.
Art√≠culo 429. En todo caso de muertes o heridas causadas con armas prohibidas, la exenci√≥n o
atenuaci√≥n establecidas en beneficio de su autor con respecto al delito de homicidio o
lesiones personales, no lo favorecer√° en cuanto al delito de porte de armas, que se castigar√°
conforme a lo dispuesto en el Cap√≠tulo I del T√≠tulo V de este Libro.
CAP√çTULO IV
Del aborto provocado
Art√≠culo 430. La mujer que intencionalmente abortare, vali√©ndose para ello de medios
empleados por ella misma, o por un tercero, con su consentimiento, ser√° castigada con prisi√≥n
de seis meses a dos a√±os.
Art√≠culo 431. El que hubiere provocado el aborto de una mujer, con el consentimiento de
esta, ser√° castigado con prisi√≥n de doce a treinta meses.
Si por consecuencia del aborto y de los medios empleados para efectuarlos, sobreviene la
muerte de la mujer, la pena ser√° de presidio de tres a cinco a√±osÕæ y ser√° de cuatro a seis a√±os,
si la muerte sobreviene por haberse valido de medios m√°s peligrosos que los consentidos por
ella.
Art√≠culo 432. El que haya procurado el aborto de una mujer, empleando sin su
consentimiento o contra la voluntad de ella, medios dirigidos a producirlo, ser√° castigado con
prisi√≥n de quince meses a tres a√±os. Y si el aborto se efectuare, la prisi√≥n ser√° de tres a cinco
a√±os.
Si por causa del aborto o de los medios empleados para procurarlo, sobreviniere la muerte de
la mujer, la pena ser√° de presidio de seis a doce a√±os. Si el culpable fuera el marido, las penas
establecidas en el presente art√≠culo se aumentar√°n en una sexta parte.
Art√≠culo 433. Cuando el culpable de alguno de los delitos previstos en los art√≠culos
precedentes sea una persona que ejerza el arte de curar o cualquiera otra profesi√≥n o arte
reglamentados en inter√©s de la salud p√∫blica, si dicha persona ha indicado, facilitado o empleado medios con los cuales se ha procurado el aborto en que ha sobrevenido la muerte,
las penas de ley se aplicar√°n con el aumento de una sexta parte.
La condenaci√≥n llevar√° siempre como consecuencia la suspensi√≥n del ejercicio del arte o
profesi√≥n del culpable, por tiempo igual al de la pena impuesta.
No incurrir√° en pena alguna el facultativo que provoque el aborto como medio indispensable
para salvar la vida de la parturienta.
Art√≠culo 434. Las penas establecidas en los art√≠culos precedentes se disminuir√°n en la
proporci√≥n de uno a dos tercios y el presidio se convertir√° en prisi√≥n, en el caso de que el
autor del aborto lo hubiere cometido por salvar su propio honor o la honra de su esposa, de su
madre, de su descendiente, de su hermana o de su hija adoptiva.
CAP√çTULO V
Del abandono de ni√±os o de otras personas
incapaces de proveer a su seguridad o a su salud
Art√≠culo 435. El que haya abandonado un ni√±o menor de doce a√±os o a otra persona incapaz
de proveer a su propia salud, por enfermedad intelectual o corporal que padezca, si el
abandonado estuviese bajo la guarda o al cuidado del autor del delito, ser√° castigado con
prisi√≥n de cuarenta y cinco d√≠as a quince meses.
Si del hecho del abandono resulta alg√∫n grave da√±o para la persona o la salud del abandonado
o una perturbaci√≥n de sus facultades mentales, la prisi√≥n ser√° por tiempo de quince a treinta
mesesÕæ y la pena ser√° de tres a cinco a√±os de presidio si el delito acarrea la muerte.
Art√≠culo 436. Las penas establecidas en el art√≠culo precedente se aumentar√°n en una tercera
parte:
1. Si el abandono se ha hecho en lugar solitario.
2. Si el delito se ha cometido por los padres en un ni√±o leg√≠timo o natural,
reconocido o legalmente declarado, o por el adoptante en el hijo adoptivo o
viceversa.
Art√≠culo 437. Cuando el culpable haya cometido el delito previsto en los art√≠culos anteriores
con un ni√±o reci√©n nacido, aun no declarado en el Registro del estado civil dentro del t√©rmino
legal, para salvar su propio honor, o el de su mujer, o el de su madre, de su descendiente, de
su hija adoptiva o de su hermana, la pena s√© disminuir√° en la proporci√≥n de una sexta a una
tercera parte, y el presidio se convertir√° en prisi√≥n.
Art√≠culo 438. El que habiendo encontrado abandonado o perdido alg√∫n ni√±o menor de siete
a√±os o a cualquiera otra persona incapaz, por enfermedad mental o corporal, de proveer a su
propia conservaci√≥n, haya omitido dar aviso inmediato a la autoridad o a sus agentes,
pudiendo hacerlo, ser√° castigado con multa de cincuenta unidades tributarias (50 U.T.) a
quinientas unidades tributarias (500
U.T.).
La misma pena se impondr√° al que habiendo encontrado a una Persona herida o en una
situaci√≥n peligrosa o alguna que estuviere o pareciere inanimada, haya omitido la prestaci√≥n
de su ayuda a dicha persona, cuando ello no lo expone a da√±o o peligro personal, o dar el
aviso inmediato del caso a la autoridad o a sus agentes.
CAP√çTULO VI
Del abuso en la correcci√≥n o disciplina y de la sevicia en las familias Art√≠culo 439. El que abusando de los medios de correcci√≥n o disciplina, haya ocasionado un
perjuicio o un peligro a la salud de alguna persona que se halle sometida a su autoridad,
educaci√≥n, instrucci√≥n, cuidado, vigilancia o guarda, o que se encuentre bajo su direcci√≥n con
motivo de su arte o profesi√≥n, ser√° castigado con prisi√≥n de uno a doce meses, seg√∫n la
gravedad del da√±o.
Art√≠culo 440. El que, fuera de los casos previstos en el art√≠culo precedente, haya empleado
malos tratamientos contra alg√∫n ni√±o menor de doce a√±os, ser√° castigado con prisi√≥n de tres a
quince meses.
Si los malos tratamientos se han ejecutado en un descendiente, ascendiente o af√≠n en l√≠nea
recta, la prisi√≥n ser√° de seis a treinta meses.
El enjuiciamiento no tendr√° lugar sino por acusaci√≥n de la parte ofendida, si los malos
tratamientos se han empleado contra el c√≥nyugeÕæ y si este fuere menor, la querella podr√°
promoverse tambi√©n por las personas que, a no existir el matrimonio tendr√≠an la patria
potestad o la autoridad tutelar sobre el agraviado.
Art√≠culo 441. En los casos previstos en los art√≠culos precedentes, si hay constancia de que en
el culpable que ejerza la patria potestad, son habituales los hechos que han motivado el
enjuiciamiento, el juez declarar√° que la condena lleva consigo, respecto de dicho culpable la
p√©rdida de todos los derechos que por causa de la misma patria potestad le confiere la ley en
la persona y los bienes del ofendidoÕæ y en lo que concierne al tutor deber√°n en todo caso
declarar la destituci√≥n de la tutela y la exclusi√≥n de cualquiera otras funciones tutelares.
CAP√çTULO VII
De la difamaci√≥n y de la injuria
Art√≠culo 442. Quien comunic√°ndose con varias personas, reunidas o separadas, hubiere
imputado a alg√∫n individuo un hecho determinado capaz de exponerlo al desprecio o al odio
p√∫blico, u ofensivo a su honor o reputaci√≥n, ser√° castigado con prisi√≥n de un a√±o a tres a√±os y
multa de cien unidades tributarias (100 U.T.) a un mil unidades tributarias (1.000 U.T.).
Si el delito se cometiere en documento p√∫blico o con escritos, dibujos divulgados o expuestos
al p√∫blico, o con otros medios de publicidad, la pena ser√° de dos a√±os a cuatro a√±os de prisi√≥n
y multa de doscientas unidades tributarias (200 U.T.) a dos mil unidades tributarias (2.000
U.T.).
Par√°grafo √∫nico: En caso de que la difamaci√≥n se produzca en documento p√∫blico o con
escritos, dibujos divulgados o expuestos al p√∫blico o con otros medios de publicidad, se
tendr√° como prueba del hecho punible y de la autor√≠a, el ejemplar del medio impreso, o copia
de la radiodifusi√≥n o emisi√≥n televisiva de la especie difamatoria.
Art√≠culo 443. Al individuo culpado del delito de difamaci√≥n no se le permitir√° prueba de la
verdad o notoriedad del hecho difamatorio, sino en los casos siguientes:
1. Cuando la persona ofendida es alg√∫n funcionario p√∫blico y siempre que el
hecho que se le haya imputado se relacione con el ejercicio de su ministerioÕæ
salvo, sin embargo, las disposiciones de los art√≠culos 222 y 226.
2. Cuando por el hecho imputado se iniciare o hubiere juicio pendiente contra el
difamado.
3. Cuando el querellante solicite formalmente que en la sentencia se pronuncie
tambi√©n sobre la verdad o falsedad del hecho difamatorio.
Si la verdad del hecho se probare o si la persona difamada quedare, por causa de la difamaci√≥n, condenada por este hecho el autor de la difamaci√≥n estar√° exento
de la pena salvo el caso de que los medios empleados constituyesen, por si
mismos, el delito previsto en el art√≠culo que sigue.
Art√≠culo 444. Todo individuo que en comunicaci√≥n con varias personas, juntas o separadas,
hubiera ofendido de alguna manera el honor, la reputaci√≥n o el decoro de alguna persona, ser√°
castigado con prisi√≥n de seis meses a un a√±o y multa de cincuenta unidades tributarias (50
U.T.) a cien unidades tributarias (100 U.T.).
Si el hecho se ha cometido en presencia del ofendido, aunque est√© s√≥lo, o por medio de alg√∫n
escrito que se le hubiere dirigido o en lugar p√∫blico, la pena podr√° elevarse en una tercera
parte de la pena a imponer, incluyendo en ese aumento lo referente a la multa que deba
aplicarse, y si con la presencia del ofendido concurre la publicidad, la pena podr√° elevarse
hasta la mitad.
Si el hecho se ha cometido haciendo uso de los medios indicados en el primer aparte del
art√≠culo 442, la pena de prisi√≥n ser√° por tiempo de un a√±o a dos a√±os de prisi√≥n y multa de
doscientas unidades tributarias (200 U.T.) a quinientas unidades tributarias (500 U.T.).
Par√°grafo √∫nico: En caso de que la injuria se produzca en documento p√∫blico o con escritos,
dibujos divulgados o expuestos al p√∫blico o con otros medios de publicidad, se tendr√° como
prueba del hecho punible y de la autor√≠a el ejemplar del medio impreso o copia de la
radiodifusi√≥n o emisi√≥n televisiva de la especie injuriante.
Art√≠culo 445. Cuando el delito previsto en el art√≠culo precedente se haya cometido contra
alguna persona leg√≠timamente encargada de alg√∫n servicio p√∫blico, en su presencia y por
raz√≥n de dicho servicio, el culpable ser√° castigado con arresto de quince a cuarenta y cinco
d√≠as. Si hay publicidad la prisi√≥n podr√° imponerse de uno a dos meses.
Art√≠culo 446. Cuando en los casos previstos en los dos art√≠culos precedentes, el ofendido
haya sido la causa determinante e injusta del hecho, la pena se reducir√° en la proporci√≥n de
una a dos terceras partes. Si las ofensas fueren rec√≠procas, el juez podr√° seg√∫n las
circunstancias, declarar a las partes o alguna de ellas, exentas de toda pena.
No ser√° punible el que haya sido impulsado al delito por violencias ejecutadas contra su
persona.
Art√≠culo 447. No producen acci√≥n las ofensas contenidas en los escritos presentados por las
partes o sus representantes, o en los discursos pronunciados por ellos en estrados ante el juez,
durante el curso de un juicioÕæ pero independientemente de la aplicaci√≥n de las disposiciones
disciplinarias del caso, que impondr√° el tribunal, aquella autoridad podr√° disponer la
supresi√≥n total o parcial de las especies difamatorias, y si la parte ofendida la pidiere, podr√°
tambi√©n acordarle, prudentemente, una reparaci√≥n pecuniaria al pronunciar sobre la causa.
Art√≠culo 448. En caso de condenaci√≥n por alguno de los delitos especificados en el presente
Cap√≠tulo, el juez declarar√° la confiscaci√≥n y supresi√≥n de los impresos, dibujos y dem√°s
objetos que hayan servido para cometer el delitoÕæ y si se trata de escritos, respecto de los
cuales no pudiere acordarse la supresi√≥n, dispondr√° que al margen de ellos se haga referencia
de la sentencia que se dicte relativamente al caso.
A petici√≥n del querellante, la sentencia condenatoria ser√° publicada a costa del condenado,
una o dos veces, en los diarios que indicar√° el juez.
Art√≠culo 449. Los delitos previstos en el presente Cap√≠tulo no podr√°n ser enjuiciados sino por
acusaci√≥n de la parte agraviada o de sus representantes legales.
Si esta muere antes de hacer uso de su acci√≥n, o si los delitos se han cometido contra la memoria de una persona muerta, la acusaci√≥n o querella puede promoverse por el c√≥nyuge,
los ascendientes, los descendientes, los hermanos o hermanas, sobrinos, los afines en l√≠nea
recta y por los herederos inmediatos.
En el caso de ofensa contra alg√∫n cuerpo judicial, pol√≠tico o administrativo, o contra
representantes de dicho cuerpo, el enjuiciamiento no se har√° lugar sino mediante la
autorizaci√≥n del cuerpo o de su jefe jer√°rquico, si se trata de alguno no constituido en colegio
o corporaci√≥n.
En estos casos, se proceder√° conforme se ordene en el art√≠culo 225.
Art√≠culo 450. La acci√≥n penal para el enjuiciamiento de los delitos previstos en el presente
Cap√≠tulo, prescribir√° por un a√±o en los casos a que se refiere el art√≠culo 442, y por seis meses
en los casos que especifican los art√≠culos 444 y 445.
Cualquier actuaci√≥n de la v√≠ctima en el proceso interrumpir√° la prescripci√≥n.
T√çTULO X
De los Delitos Contra la Propiedad
CAP√çTULO I
Del hurto
Art√≠culo 451. Todo el que se apodere de alg√∫n objeto mueble, perteneciente a otro para
aprovecharse de √©l, quit√°ndolo, sin el consentimiento de su due√±o, del lugar donde se hallaba,
ser√° penado con prisi√≥n de un a√±o a cinco a√±os.
Si el valor de la cosa sustra√≠da no pasare de una unidad tributaria (1 U.T.), la pena ser√° de
prisi√≥n de tres meses a seis meses.
Se comete tambi√©n este delito cuando el hecho imputado recaiga sobre cosas que hagan parte
de una herencia a√∫n no aceptada, y por el copropietario, el asociado o coheredero, respecto de
las cosas comunes o respecto de la herencia indivisa, siempre que el culpable no tuviere la
cosa en su poder. La cuant√≠a del delito se estimar√° hecha la deducci√≥n de la parte que
corresponde al culpable.
Art√≠culo 452. La pena de prisi√≥n por el delito de hurto ser√° de dos a seis a√±os, si el delito se
ha cometido:
1. En las oficinas, archivos o establecimientos p√∫blicos, apoder√°ndose de las
cosas conservadas en ellos, o de otros objetos destinados a alg√∫n uso de utilidad
p√∫blica.
2. En los cementerios, tumbas o sepulcros, apoder√°ndose ya de las cosas que
constituyen su ornamento o protecci√≥n, bien de las que se hallan sobre los
cad√°veres o se hubieren sepultado con √©stos al mismo tiempo.
3. Apoder√°ndose de las cosas que sirven o est√°n destinadas al culto, en los
lugares consagrados a su ejercicio, o en los anexos y destinados a conservar las
dichas cosas.
4. Sobre una persona, por arte de astucia o destreza, en un lugar p√∫blico o abierto
al p√∫blico.
5. Apoder√°ndose de los objetos o del dinero de los viajeros, tanto en los
veh√≠culos de tierra, aeronaves o por agua, cualquiera que sea su clase, como en
las estaciones o en las oficinas de las empresas p√∫blicas de transporte.
6. Apoder√°ndose de los animales que est√©n en los establos, o de los que por
necesidad se dejan en campo abierto.
7. Apoder√°ndose de las maderas depositadas en las ventas de le√±a amontonadas
en alg√∫n lugar, o de materiales destinados a alguna f√°brica, o de productos desprendidos del suelo y dejados por necesidad u otro motivo en campo raso u
otros lugares abiertos.
8. Apoder√°ndose de los objetos que en virtud de la costumbre o de su propio
destino, se mantienen expuestos a la confianza p√∫blica.
Art√≠culo 453. La pena de prisi√≥n para el delito de hurto ser√° de cuatro a√±os a ocho a√±os en
los casos siguientes:
1. Si el hecho se ha cometido abusando de la confianza que nace de un cambio de
buenos oficios, de un arrendamiento de obra o de una habitaci√≥n, a√∫n temporal,
entre el ladr√≥n y su v√≠ctima, y si el hecho ha tenido por objeto las cosas que bajo
tales condiciones quedaban expuestas o se dejaban a la buena fe del culpable.
2. Si para cometer el hecho el culpable se ha aprovechado de las facilidades que
le ofrec√≠an alg√∫n desastre, calamidad, perturbaci√≥n p√∫blica o las desgracias
particulares del hurtado.
3. Si no viviendo bajo el mismo techo que el hurtado, el culpable ha cometido el
delito de noche o en alguna casa u otro lugar destinado a la habitaci√≥n.
4. Si el culpable, bien para cometer el hecho, bien para trasladar la cosa sustra√≠da,
ha destruido, roto, demolido o trastornado los cercados hechos con materiales
s√≥lidos para la protecci√≥n de las personas o de las propiedades, aunque el
quebrantamiento o ruptura no se hubiere efectuado en el lugar del delito.
5. Si para cometer el hecho o trasladar la cosa sustra√≠da, el culpable ha abierto las
cerraduras, sirvi√©ndose para ello de llaves falsas u otros instrumentos, o
vali√©ndose de la verdadera llave p√©rdida o dejada por su due√±o, o quitada a √©ste,
o indebidamente habida o retenida.
6. Si para cometer el hecho o para trasladar la cosa sustra√≠da el culpable se ha
servido de una v√≠a distinta de la destinada ordinariamente al pasaje de la gente,
venciendo para penetrar en la casa o su recinto, o para salir de ellos, obst√°culos y
cercas tales que no podr√≠an salvarse sino a favor de medios artificiales o a fuerza
de agilidad personal.
7. Si el hecho se ha cometido violando los sellos puestos por alg√∫n funcionario
p√∫blico en virtud de la ley, o por orden de la autoridad.
8. Si el delito de hurto se ha cometido por persona il√≠citamente uniformada,
usando h√°bito religioso o de otra manera disfrazada.
9. Si el hecho se ha cometido por tres o m√°s personas reunidas.
10. Si el hecho se ha cometido vali√©ndose de la condici√≥n simulada de
funcionarios p√∫blicos, o utilizando documentos de identidad falsificados.
11. Si la cosa sustra√≠da es de las destinadas notoriamente a la defensa p√∫blica o a
la p√∫blica reparaci√≥n o alivio de alg√∫n infortunio.
Si el delito estuviere revestido de dos o m√°s de las circunstancias especificadas en los
diversos numerales del presente art√≠culo, la pena de prisi√≥n ser√° por tiempo de seis a√±os a
diez a√±os.
Art√≠culo 454. El que sin estar debidamente autorizado para ello, haya espigado, rateado o
rebuscado frutos en fundos ajenos, cuando en ellos no se hubiere recogido enteramente la
cosecha, ser√° castigado con multa de cinco unidades tributarias (5 U.T.) a veinticinco
unidades tributarias (25 U.T.), a querella de parte.
En caso de reincidencia, la pena ser√° de arresto de tres a quince d√≠as.
CAP√çTULO II Del robo, de la extorsi√≥n y del secuestro
Art√≠culo 455. Quien por medio de violencia o amenazas de graves da√±os inminentes contra
personas o cosas, haya constre√±ido al detentor o a otra persona presente en el lugar del delito
a que le entregue un objeto mueble o a tolerar que se apodere de √©ste, ser√° castigado con
prisi√≥n de seis a√±os a doce a√±os.
Art√≠culo 456. En la misma pena del art√≠culo anterior incurrir√° el individuo que en el acto de
apoderarse de la cosa mueble de otro, o inmediatamente despu√©s, haya hecho uso de violencia
o amenazas antedichas, contra la persona robada o contra la presente en el lugar del delito,
sea para cometer el hecho, sea para llevarse el objeto sustra√≠do, sea, en fin, para procurarse la
impunidad o procurarla a cualquier otra persona que haya participado del delito.
Si la violencia se dirige √∫nicamente a arrebatar la cosa a la persona, la pena ser√° de prisi√≥n de
dos a seis a√±os.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos anteriores, no
tendr√°n derecho a gozar de los beneficios procesales de ley.
Art√≠culo 457. Quien por medio de violencia o amenazas de un grave da√±o a la persona o a sus
bienes, haya constre√±ido a alguno a entregar, suscribir o destruir en detrimento suyo o de un
tercero, un acto o documento que produzca alg√∫n efecto jur√≠dico cualquiera, ser√° castigado
con prisi√≥n de cuatro a ocho a√±os.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos anteriores, no
tendr√°n derecho a gozar de los beneficios procesales de ley.
Art√≠culo 458. Cuando alguno de los delitos previstos en los art√≠culos precedentes se haya
cometido por medio de amenazas a la vida, a mano armada o por varias personas, una de las
cuales hubiere estado manifiestamente armada, o bien por varias personas ileg√≠timamente
uniformadas, usando h√°bito religioso o de otra manera disfrazadas, o si, en fin, se hubiere
cometido por medio de un ataque a la
libertad individual, la pena de prisi√≥n ser√° por tiempo de diez a diecisiete a√±osÕæ sin perjuicio a
la persona o personas acusadas, de la pena correspondiente al delito de porte il√≠cito de armas.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos anteriores, no
tendr√°n derecho a gozar de los beneficios procesales de ley ni a la aplicaci√≥n de medidas
alternativas del cumplimiento de la pena.
Art√≠culo 459. Quien infundiendo por cualquier medio el temor de un grave da√±o a las
personas, en su honor, en sus bienes, o simulando √≥rdenes de la autoridad, haya constre√±ido a
alguno a enviar, depositar o poner a disposici√≥n del culpable, dinero, cosas, t√≠tulos o
documentos, ser√° castigado con prisi√≥n de cuatro a ocho a√±os.
La pena establecida en este art√≠culo se aumentar√° hasta en una tercera parte cuando el
constre√±imiento se lleve a efecto con la amenaza de ejecutar acto del cual pueda derivarse
calamidad, infortunio o peligro com√∫n.
Par√°grafo √∫nico: Quienes resulten implicados en cualquiera de los supuestos anteriores, no
tendr√°n derecho a gozar de los beneficios procesales de ley.
Art√≠culo 460. Quien haya secuestrado a una persona para obtener de ella o de un tercero,
como precio de su libertad, dinero, cosas, t√≠tulos o documentos a favor del culpable o de otro
que √©ste indique, aun cuando no consiga su intento, ser√° castigado con prisi√≥n de veinte a√±os
a treinta a√±os. Si el secuestro se ejecutare por causar alarma, la pena ser√° de diez a√±os a
veinte a√±os de prisi√≥n. Quienes utilicen cualquier medio para planificar, incurrir, propiciar, participar, dirigir,
ejecutar, colaborar, amparar, proteger o ejercer autor√≠a intelectual, autor√≠a material, que
permita, faciliten o realicen el cautiverio, que oculten y mantengan a rehenes, que hagan
posible el secuestro, extorsi√≥n y cobro de rescate, que obtengan un enriquecimiento producto
del secuestro de personas, por el canje de √©stas por bienes u objetos materiales, sufrir√°n pena
de prisi√≥n no menor de quince a√±os ni mayor de veinticinco a√±os, aun no consumado el
hecho.
Par√°grafo Primero: Los cooperadores inmediatos y facilitadores ser√°n
penalizados de ocho a√±os a catorce a√±os de prisi√≥n. Igualmente, los actos de
acci√≥n u omisi√≥n que facilite o permita estos delitos de secuestros, extorsi√≥n y
cobro de rescate, y que intermedien sin estar autorizado por la autoridad
competente.
Par√°grafo Segundo: La pena del delito previsto en este art√≠culo se elevar√° en un
tercio cuando se realice contra ni√±os, ni√±as, adolescentes y ancianos, o personas
que padezcan enfermedades y sus vidas se vean amenazadas, o cuando la v√≠ctima
sea sometida a violencia, torturas, maltrato f√≠sico y psicol√≥gico. Si la persona
secuestrada muere durante el cautiverio o a consecuencia de este delito, se le
aplicar√° la pena m√°xima. Si en estos delitos se involucraran funcionarios
p√∫blicos, la aplicaci√≥n de la pena ser√° en su l√≠mite m√°ximo.
Par√°grafo Tercero: Quienes recurran al delito de secuestro con fines pol√≠ticos o
para exigir liberaci√≥n o canje de personas condenadas por Tribunales de la
Rep√∫blica Bolivariana de Venezuela, se les aplicar√° pena de doce a√±os a
veinticuatro a√±os de prisi√≥n.
Par√°grafo Cuarto: Quienes resulten implicados en cualquiera de los supuestos
anteriores, no tendr√°n derecho a gozar de los beneficios procesales de la ley ni a
la aplicaci√≥n de medidas alternativas del cumplimiento de la pena.
Art√≠culo 461. El que fuera de los casos previstos en el art√≠culo 84, sin dar parte de ello a la
autoridad, haya llevado correspondencia o mensajes escritos o verbales, para hacer que se
consiga el fin del delito previsto en el art√≠culo anterior, ser√° castigado con prisi√≥n de cuatro
meses a tres a√±os.
CAP√çTULO III
De la estafa y otros fraudes
Art√≠culo 462. El que, con artificios o medios capaces de enga√±ar o sorprender la buena fe de
otro, induci√©ndole en error, procure para s√≠ o para otro un provecho injusto con perjuicio
ajeno, ser√° penado con prisi√≥n de uno a cinco a√±os. La pena ser√° de dos a seis a√±os si el delito
se ha cometido:
1. En detrimento de una administraci√≥n p√∫blica, de una entidad aut√≥noma en que
tenga inter√©s el Estado o de un instituto de asistencia social.
2. Infundiendo en la persona ofendida el temor de un peligro imaginario o el
err√≥neo convencimiento de que debe ejecutar una orden de la autoridad.
El que cometiere el delito previsto en este art√≠culo, utilizando como medio de enga√±o un
documento p√∫blico falsificado o alterado, o emitiendo un cheque sin provisi√≥n de fondos,
incurrir√° en la pena correspondiente aumentada de un sexto a una tercera parte.
Art√≠culo 463. Incurrir√° en las penas previstas en el art√≠culo 462 el que defraude a otro: 1. Usando de mandato falso, nombre supuesto o calidad simulada.
2. Haci√©ndole suscribir con enga√±o un documento que le imponga alguna
obligaci√≥n o que signifique renuncia total o parcial de un derecho.
3. Enajenando, gravando o arrendando como propio alg√∫n inmueble a sabiendas
de que es ajeno.
4. Enajenando un inmueble o derecho real ya vendido a otras personas, siempre
que concurra alguna de las siguientes circunstancias:
a) Que por consecuencia del registro de la segunda enajenaci√≥n fuere
legalmente imposible registrar la primera.
b) Que no siendo posible legalmente el registro de la segunda
enajenaci√≥n, por estar registrada la primera, hubiere pagado el
comprador el precio del inmueble o derecho real o parte de √©l.
5. Cobrando o cediendo un cr√©dito ya pagado o cedido.
6. Enajenando o gravando bienes como libres, sabiendo que estaban embargados
o gravados o que eran objeto de litigio.
7. Ofreciendo, aunque tenga apariencias de negocio leg√≠timo, participaci√≥n en
fingidos tesoros o dep√≥sitos, a cambio de dinero o recompensa.
8. Abusando, en provecho propio o de otro, de las necesidades, pasiones o
inexperiencia de un menor, de un entredicho o de un inhabilitado, a quienes se les
haga suscribir un acto cualquiera contentivo de una obligaci√≥n a cargo del menor
o de un tercero, a pesar de la nulidad resultante de su incapacidad.
Art√≠culo 464. En los casos que se enumeran a continuaci√≥n se aplicar√°n las penas siguientes:
1. Prisi√≥n de uno a cinco a√±os, a quien habiendo vendido un inmueble por
documento privado o autenticado y recibido el precio del negocio o parte del
mismo, lo gravare en favor de otra persona sin el expreso consentimiento del
comprador o sin garantizar a √©ste el pleno cumplimiento del contrato celebrado.
2. Prisi√≥n de uno a cuatro a√±os a quien defraudare a otro promoviendo una
sociedad por acciones en que se hagan afirmaciones falsas sobre el capital de la
compa√±√≠a, o se oculten fraudulentamente hechos relativos a ella.
3. Prisi√≥n de seis meses a dos a√±os a quien para obtener alg√∫n provecho
sustrajere, ocultare o inutilizare, en todo o en parte, un expediente o documento
con perjuicio de otro.
4. Prisi√≥n de tres a dieciocho meses a quien, por sorteos o rifas, se quede en todo
o en parte con las cantidades recibidas sin entregar la cosa ofrecida
5. Prisi√≥n de seis a dieciocho meses a quien defraudare a otro con pretexto de una
supuesta remuneraci√≥n a funcionarios p√∫blicos.
6. Prisi√≥n de dos a seis meses a quien hubiere destruido, deteriorado u ocultado
cosas de su propiedad, con el objeto de cobrar para s√≠ o para otro el precio de un
seguro. Si hubiere conseguido su prop√≥sito incurrir√° en las penas establecidas en
el art√≠culo 462.
7. Arresto de dos a seis meses a quien comprare una cosa mueble ofreciendo
pagarla al contado y reh√∫se, despu√©s de recibirla, hacer el pago o devolverla.
Art√≠culo 465. El que con un fin de lucro, induzca a alg√∫n individuo a emigrar, enga√±√°ndolo,
aduciendo hechos que no existen o d√°ndoles falsas noticias, ser√° castigado con prisi√≥n de seis
a treinta meses.
CAP√çTULO IV CAP√çTULO IV
De la apropiaci√≥n indebida
Art√≠culo 466. El que se haya apropiado, en beneficio propio o de otro, alguna cosa ajena que
se le hubiere confiado o entregado por cualquier t√≠tulo que comporte la obligaci√≥n de
restituirla o de hacer de ella un uso determinado, ser√° castigado con prisi√≥n de tres meses a
dos a√±os, por acusaci√≥n de la parte agraviada.
Art√≠culo 467. El que abusando de una firma en blanco que se le hubiere confiado, con la
obligaci√≥n de restituirla o de hacer con ella un uso determinado, haya escrito o hecho escribir
alg√∫n acto que produzca un efecto jur√≠dico cualquiera, con perjuicio del signatario, ser√°
castigado con prisi√≥n de tres meses a tres a√±os, por acusaci√≥n de la parte agraviada.
Si la firma en blanco no se hubiere confiado al culpable, se aplicar√°n al caso las disposiciones
de los Cap√≠tulos III y IV, T√≠tulo VI del presente Libro.
Art√≠culo 468. Cuando el delito previsto en los art√≠culos precedentes se hubiere cometido
sobre objetos confiados o depositados en raz√≥n de la profesi√≥n, industria, comercio, negocio,
funciones o servicios del depositario, o cuando sean por causa del dep√≥sito necesario, la pena
de prisi√≥n ser√° por tiempo de uno a cinco a√±osÕæ y el enjuiciamiento se seguir√° de oficio.
Art√≠culo 469. Por acusaci√≥n de la parte agraviada, ser√° castigado con prisi√≥n de quince d√≠as a
cuatro meses o multa de veinticinco unidades tributarias (25 U.T.) a
quinientas unidades tributarias (500 U.T.):
1. El que encontr√°ndose una cosa p√©rdida, se adue√±e de ella sin ajustarse a las
prescripciones de la ley, en los casos correspondientes.
2. El que hallando un tesoro se apropie, con perjuicio del due√±o del fundo, m√°s
de lo que le corresponde por la ley.
3. El que se apropie de la cosa ajena que hubiere ido a su poder por consecuencia
de un error o de caso fortuito. Si el culpable conoc√≠a al due√±o de la cosa
apropiada, la prisi√≥n ser√° de tres meses a un a√±o.
CAP√çTULO V
Del aprovechamiento de cosas provenientes de delito
Art√≠culo 470. El que fuera de los casos previstos en los art√≠culos 254, 255, 256 y 257 de este
C√≥digo, adquiera, reciba, esconda moneda nacional extranjera, t√≠tulos valores o efectos
mercantiles, as√≠ como cualquier cosa mueble proveniente de delito o cualquier forma se
entrometa para que se adquieran, reciban o escondan dicho dinero, documentos o cosas, que
formen parte del cuerpo de delito, sin
haber tomado parte en el delito mismo, ser√° castigado con prisi√≥n de tres a√±os a cinco a√±os.
Si el dinero, las cosas o los t√≠tulos valores o efectos mercantiles provienen de un delito
castigado con pena restrictiva de la libertad individual con un tiempo mayor a cinco a√±os, el
culpable ser√° castigado con prisi√≥n de cinco a√±os a ocho a√±os.
Cuando el aprovechamiento de cosas provenientes de delito sea cometido por funcionario
p√∫blico encargado de la aprensi√≥n o investigaci√≥n penal, individualmente o en concierto para
delinquir, ser√°n castigados con las penas previstas en el √∫ltimo aparte de este art√≠culo y
proceder√° su destituci√≥n inmediata del cargo que ejerza.
En los casos previstos en las anteriores disposiciones de este art√≠culo, la prisi√≥n no podr√°
exceder de dos tercios de la pena establecida para la comisi√≥n del delito del que provienen las
cosas o t√≠tulos valores pose√≠dos ileg√≠timamente. Si el culpable ejecuta habitualmente el aprovechamiento de las cosas provenientes de la
comisi√≥n de delito que castiga este art√≠culo, adquiri√©ndolas de personas consumidoras de
sustancias estupefacientes y psicotr√≥picas o enervantes, o por canje de las mismas que hagan
a ni√±os, ni√±as y adolescentes, la pena ser√° de prisi√≥n, agravada en una tercera parte de las
aqu√≠ previstas y en el caso de que el objeto provenga de la comisi√≥n de los delitos previstos, y
sancionados en los art√≠culos 405, 406, 407, 413, 414, 415, 451, 452, 453, 455, 457, 458 y 460
de este C√≥digo, la agravaci√≥n de la pena ser√° de una tercera parte, sin derecho a los beneficios
procesales que le concede la ley penal.
CAP√çTULO VI
De las usurpaciones
Art√≠culo 471. Quien para apropiarse, en todo o en parte, de una cosa inmueble de ajena
pertenencia o para sacar provecho de ella, remueva o altere sus linderos o l√≠mites, ser√°
castigado con prisi√≥n de uno a cinco a√±os.
A la misma pena queda sujeto el que para procurarse un provecho indebido, desv√≠e las aguas
p√∫blicas o de los particulares.
Si el hecho se ha cometido con violencia o amenazas contra las personas, o por dos o m√°s
individuos con armas, o por m√°s de diez sin ellas, la prisi√≥n se aplicar√° por tiempo de dos
a√±os a seis a√±osÕæ sin perjuicio de la aplicaci√≥n, a las personas armadas, de la pena
correspondiente al delito de porte il√≠cito de armas.
Art√≠culo 471¬≠A. Quien con el prop√≥sito de obtener para s√≠ o para un tercero provecho il√≠cito,
invada terreno, inmueble o bienhechur√≠a, ajenas, incurrir√° en prisi√≥n de cinco a√±os a diez a√±os
y multa de cincuenta unidades tributarias (50 U.T.) a doscientas unidades tributarias (200
U.T.). El solo hecho de invadir, sin que se obtenga provecho, acarrear√° la pena anterior
rebajada a criterio del juez
hasta en una sexta parte.
La pena establecida en el inciso anterior se aplicar√° aumentada hasta la mitad para el
promotor, organizador o director de la invasi√≥n.
Se incrementar√° la pena a la mitad de la pena aplicable cuando la invasi√≥n se produzca sobre
terrenos ubicados en zona rural.
Las penas se√±aladas en los incisos precedentes se rebajar√°n hasta en las dos terceras partes,
cuando antes de pronunciarse sentencia de primera o √∫nica instancia, cesen los actos de
invasi√≥n y se produzca el desalojo total de los terrenos y edificaciones que hubieren sido
invadidos. Ser√° eximente de responsabilidad penal, adem√°s de haber desalojado el inmueble,
que el invasor o invasores comprueben haber indemnizado los da√±os causados a entera
satisfacci√≥n de la v√≠ctima.
Art√≠culo 472. Quien, fuera de los casos previstos en los dos art√≠culos anteriores y por medio
de violencia sobre las personas o las cosas, perturben la pac√≠fica posesi√≥n que otro tenga de
bienes inmuebles, ser√° castigado con prisi√≥n de un a√±o a dos a√±os, y resarcimiento del da√±o
causado a la v√≠ctima de cincuenta unidades tributarias (50 U.T.) a cien unidades tributarias
(100 U.T.).
Si el hecho se hubiere cometido por varias personas con armas, o por m√°s de diez sin ellas, la
prisi√≥n ser√° de dos a√±os a seis a√±osÕæ e igualmente se aplicar√° la pena respectiva por el porte
il√≠cito de armas.
CAP√çTULO VII
De los da√±os
Art√≠culo 473. El que de cualquier manera haya destruido, aniquilado, da√±ado o deteriorado las cosas, muebles o inmuebles, que pertenezcan a otro, ser√° castigado, a instancia de parte
agraviada, con prisi√≥n de uno a tres meses.
La prisi√≥n ser√° de cuarenta y cinco d√≠as a dieciocho meses, si el hecho se hubiere cometido
con alguna de las circunstancias siguientes:
1. Por venganza contra un funcionario p√∫blico, a causa de sus funciones.
2. Por medio de violencias contra las personas, o por alguno de los medios
indicados en los numerales 4 y 5 del art√≠culo 453.
3. En los edificios p√∫blicos o en los destinados a alg√∫n uso p√∫blico, a utilidad
p√∫blica o al ejercicio de un cultoÕæ o en edificios u obra de la especie indicada en
el art√≠culo 349, o en los monumentos p√∫blicos, los cementerios o sus
dependencias.
4. En diques, terraplenes u otras obras destinadas a la reparaci√≥n de un desastre
p√∫blico o en los aparatos y se√±ales de alg√∫n servicio p√∫blico.
5. En los canales, esclusas y otras obras destinadas a la irrigaci√≥n.
6. En las plantaciones de ca√±a de az√∫car, de caf√©, cacao, de √°rboles o arbustos
frutales o sementeras de frutos menores.
Art√≠culo 474. Cuando el hecho previsto en el art√≠culo precedente se hubiere cometido con
ocasi√≥n de violencias o resistencia a la autoridad, o en reuni√≥n de diez o m√°s personas, todos
los que hayan concurrido al delito ser√°n castigados as√≠:
En el caso de la parte primera, con prisi√≥n hasta de cuatro mesesÕæ y en los casos previsto en el
aparte √∫nico, con prisi√≥n de un mes a dos a√±os, procedi√©ndose siempre de oficio.
Art√≠culo 475. El que haya ocasionado estragos en fundo ajeno, por introducir en √©l sin
derecho o por dejar all√≠ animales, ser√° castigado seg√∫n las disposiciones del art√≠culo 473.
Por el solo hecho de haber introducido o abandonado abusivamente los animales para
hacerlos pacer, el culpable a instancias de la parte agraviada, ser√° penado con arresto de ocho
a cuarenta y cinco d√≠as o multa de cincuenta unidades tributarias (50 U.T.) a doscientas
cincuenta unidades tributarias (250 U.T.).
Art√≠culo 476. El que arbitrariamente se hubiere introducido en fundo ajeno, cercado de fosos,
setos vivos, zanjas, calzadas artificiales, vallados de piedra o de madera, o de otro modo, ser√°
penado, a instancia de la parte agraviada, con multa de diez unidades tributarias (10 U.T.) a
veinticinco unidades tributarias (25 U.T.)Õæ y, en caso de reincidencia, se aplicar√° al culpable
arresto de ocho a quince d√≠as.
www.pantin.net
Art√≠culo 477. El que sin previa licencia del due√±o, entre a cazar en fundo ajeno, ser√° penado
por acusaci√≥n de la parte agraviada, con multa de diez unidades tributarias (10 U.T.) a
veinticinco unidades tributarias (25 U.T.). En el caso de reincidencia, se aplicar√° al culpable
arresto de ocho a quince d√≠as.
Si el fundo estuviere cercado, la pena ser√° de arresto de quince d√≠as a un mes.
Art√≠culo 478. El que sin necesidad haya matado un animal ajeno o le haya causado alg√∫n mal
que lo inutilice, ser√° penado por acusaci√≥n de la parte agraviada, con arresto de ocho a
cuarenta y cinco d√≠as. Si el perjuicio es ligero, podr√° aplicarse solamente multa hasta por
ciento cincuenta unidades tributarias (150 U.T.).
Si el animal tan s√≥lo hubiere disminuido de valor, la pena de arresto ser√°, a lo m√°s, de quince
d√≠as o la multa, de ciento cincuenta unidades tributarias (150 U.T.) como m√°ximum.
No se impondr√° ninguna pena al que haya cometido el hecho contra animales vol√°tiles hallados dentro de su propio fundo, en el momento de causar alg√∫n estrago o perjuicio.
Art√≠culo 479. El que fuera de los casos previstos en los art√≠culos precedentes, deturpe o
manche una cosa ajena, de alguna manera, sea mueble o inmueble, ser√° penado, por
acusaci√≥n de la parte agraviada, con multa de veinticinco unidades tributarias (25 U.T.) a
doscientas unidades tributarias (200 U.T.).
Si ha ocurrido alguna de las circunstancias indicadas en el art√≠culo 474, la multa podr√°
imponerse hasta por quinientas unidades tributarias (500 U.T.) y el enjuiciamiento ser√° de
oficio.
CAP√çTULO VIII
Disposiciones comunes a los cap√≠tulos precedentes
Art√≠culo 480. Cuando el culpable de alguno de los delitos previstos en los Cap√≠tulos I, III, IV
y V del presente T√≠tulo y en los art√≠culos 473, en su primera parte, 475 y 478, antes de toda
providencia judicial en su contra, haya restituido lo que hubiese tomado, o reparado
enteramente el da√±o causado, en el caso de que por la naturaleza del hecho o por otras
circunstancias no fuere posible la restituci√≥n, la pena se disminuir√° en la proporci√≥n de uno a
dos tercios.
Si la restituci√≥n o la reparaci√≥n se efect√∫an en el curso del juicio antes de la sentencia, la pena
se disminuir√° en la proporci√≥n de una sexta a una tercera parte.
Art√≠culo 481. En lo que concierne a los hechos previstos en los Cap√≠tulos I, III IV y V del
presente T√≠tulo, y en los art√≠culos 473, en su parte primera, 475 y 478, no se promover√°
ninguna diligencia en contra del que haya cometido el delito:
1. En perjuicio del c√≥nyuge no separado legalmente.
2. En perjuicio de un pariente o af√≠n en l√≠nea ascendente o descendenteÕæ del padre
o de la madre adoptivos, o del hijo adoptivo.
3. En perjuicio de un hermano o de una hermana que viva bajo el mismo techo
que el culpable.
La pena se disminuir√° en una tercera parte si el hecho se hubiere ejecutado en perjuicio de su
c√≥nyuge legalmente separado, de un hermano o de una hermana que no vivan bajo el mismo
techo con el autor del delito, de un t√≠o, de un sobrino o de un af√≠n en segundo grado, que viva
en familia con dicho autorÕæ y no se proceder√° sino a instancia de parte.
Art√≠culo 482. En lo que concierne a los delitos especificados en el presente T√≠tulo, el juez
podr√° aumentar la pena hasta con la mitad de su se√±alamiento, si el valor de la cosa sobre la
cual ha reca√≠do el delito, o el que corresponda al da√±o que√©ste ha causado, fuere de mucha
importancia. Podr√° al contrario disminuirla hasta la mitad, si es ligero y hasta la tercera parte
si fuere lev√≠simo.
Para determinar el valor se tendr√° en cuenta, no el provecho que reporta al culpable sino el
valor que tuviere la cosa y el da√±o que se ha causado en la √©poca misma del delito.
Las indicadas reducciones de penas, no ser√°n aplicables si el culpable era reincidente en alg√∫n
delito de la misma naturaleza, o si se tratase de alguno de los delitos previstos en el Cap√≠tulo
II del presente T√≠tulo.
LIBRO TERCERO
DE LAS FALTAS EN GENERAL
T√çTULO I De las Faltas Contra el Orden P√∫blico
CAP√çTULO I
De la desobediencia a la autoridad
Art√≠culo 483. El que hubiere desobedecido una orden legalmente expedida por la autoridad
competente o no haya observado alguna medida legalmente dictada por dicha autoridad en
inter√©s de la justicia o de la seguridad o salubridad p√∫blicas, ser√° castigado con arresto de
cinco a treinta d√≠as, o multa de veinte unidades tributarias (20 U.T.) a ciento cincuenta
unidades tributarias (150 U.T.).
Art√≠culo 484. El que, en caso de tumulto, de calamidad o de flagrante hecho punible haya
rehusado, sin justos motivos, prestar su ayuda o servicio, o bien se haya excusado de facilitar
las indicaciones o noticias que se le exijan por un funcionario p√∫blico en ejercicio de su
ministerio, ser√° castigado con multa de diez unidades tributarias (10 U.T.) a cincuenta
unidades tributarias (50 U.T.). Si fueren mentirosas las indicaciones o noticias comunicadas,
la multa podr√° ser de cincuenta unidades tributarias (50 U.T.) a doscientas cincuenta unidades
tributarias(250 U.T.).
Art√≠culo 485. El que, interrogado por un funcionario p√∫blico en ejercicio de su ministerio,
reh√∫se dar su nombre y apellido, su estado o profesi√≥n el lugar del nacimiento o domicilio o
cualquiera otra cualidad personal, ser√° penado con multa de diez unidades tributarias (10
U.T.) a cincuenta unidades tributarias (50 U.T.). Si fueren mentirosas las indicaciones dadas,
la multa puede ser de cincuenta
unidades tributarias (50 U.T.) a ciento cincuenta unidades tributarias (150 U.T.).
Art√≠culo 486. Todo individuo que, con desprecio de las prohibiciones legales de la autoridad
competente, haya promovido o dirigido ceremonias religiosas fuera de los lugares destinados
al culto o procesiones, as√≠ civiles como religiosas, en plazas, calles u otras v√≠as p√∫blicas, ser√°
penado con multa de veinte unidades tributarias (20 U.T.) a cien unidades tributarias (100
U.T.). Si el hecho hubiere ocasionado tumulto p√∫blico, el culpable ser√° castigado con arresto
hasta por treinta d√≠as.
Art√≠culo 487. El ministro de cualquier culto que haya procedido a ceremonias religiosas de
culto externo, en oposici√≥n a las providencias legalmente dictadas por la autoridad
competente, ser√° penado con arresto de uno a dos meses o con multa de cincuenta unidades
tributarias (50 U.T.) a setecientas cincuenta unidades tributarias (750 U.T.).
CAP√çTULO II
De la omisi√≥n de dar referencias
Art√≠culo 488. El m√©dico, cirujano, comadr√≥n, comadrona o cualquier empleado p√∫blico de
sanidad, que habiendo prestado su asistencia profesional en casos que parezcan presentar
caracteres de delito contra las personas, los haya callado o tardado en comunicar a la
autoridad judicial o de polic√≠a ser√° penado con multa de cincuenta unidades tributarias (50
U.T.) hasta doscientas cincuenta unidades tributarias (250 U.T.), salvo el caso de que, por
trasmitirlos, habr√≠a expuesto a procedimientos penales a la persona asistida.
CAP√çTULO III
De las faltas concernientes a las monedas
Art√≠culo 489. El que habiendo recibido como buenas, monedas cuyo valor exceda de diez bol√≠vares, y reconoci√©ndolas en seguida falsas o alteradas, no las consigne o no diere parte a
la autoridad para laaveriguaci√≥n correspondiente, dentro de los tres d√≠as siguientes,
inform√°ndola de su procedencia, en cuanto sea posible, ser√° penado con multa de cincuenta
unidades tributarias (50 U.T.) a ciento cincuenta unidades tributarias (150 U.T.).
Art√≠culo 490. El que hubiere rehusado recibir por su valor las monedas que tengan en curso
legal en la Rep√∫blica, ser√° castigado con multa de diez unidades tributarias (10 U.T.) a
cincuenta unidades tributarias (50 U.T.).
CAP√çTULO IV
De las faltas relativas al ejercicio del arte tipogr√°fico,
a la difusi√≥n de impresos y a los avisos
Art√≠culo 491. Todo individuo que, sin ajustarse a las prescripciones de la ley, ejerciere el arte
tipogr√°fico, la litograf√≠a o cualquier otro arte que consista en reproducir m√∫ltiples ejemplares
por medio de procedimientos qu√≠micos o mec√°nicos, ser√° penado con multa de cien unidades
tributarias (100 U.T.) a setecientas unidades tributarias (700 U.T.).
Art√≠culo 492. El que, sin permiso de la autoridad cuando este permiso sea requerido por la
ley, haya puesto en venta o distribuido en lugar p√∫blico impresos, dibujos o manuscritos, ser√°
penado con multa de cincuenta unidades tributarias (50 U.T.) como m√°ximum.
Si se tratare de impresos o dibujos embargados ya por la autoridad la pena ser√° de arresto
hasta por treinta d√≠as y la multa ser√° de cincuenta unidades tributarias (50 U.T.) a ciento
cincuenta unidades tributarias (150 U.T.).
Art√≠culo 493. El que vendiendo o distribuyendo impresos, dibujos o manuscritos en un lugar
p√∫blico o abierto al p√∫blico, los hubiere anunciado con gritos, con noticias capaces de acusar
la perturbaci√≥n de la tranquilidad p√∫blica o de los particulares, ser√° penado con multa de cien
unidades tributarias (100 U.T.)Õæ y si las noticias fueren falsas o supuestas, la pena ser√° multa
de cincuenta unidades tributarias (50 U.T.) a ciento cincuenta unidades tributarias (150 U.T.)
o arresto hasta por quince d√≠as.
Art√≠culo 494. El que haya fijado por s√≠ o por medio de otros, impresos, dibujos o
manuscritos, sin permiso de la autoridad, si este permiso se requiere por la ley, o fuera de los
puntos o lugares en que est√© permitida la fijaci√≥n, ser√° penado con multa de diez unidades
tributarias (10 U.T.) a cincuenta unidades tributarias (50 U.T.).
Art√≠culo 495. El que de alguna manera hubiere arrancado, destruido o de cualquiera otro
modo haya hecho inservibles los impresos, dibujos o manuscritos que haya hecho fijar la
autoridad, ser√° penado con multa de veinte unidades tributarias (20 U.T.) a cien unidades
tributarias (100 U.T.)Õæ y si lo hace con desprecio de la autoridad, se penar√° con arresto hasta
por quince d√≠as.
Si se trata de impresos, dibujos o manuscritos que los particulares hayan hecho fijar,
observando a este efecto las disposiciones de la ley o de la autoridad y cuando el hecho se
hubiere ejecutado el mismo d√≠a o al siguiente de la fijaci√≥n, la pena ser√° multa que no exceda
de cincuenta unidades tributarias (50 U.T.).
CAP√çTULO V
De las faltas relativas a los espect√°culos,
establecimientos y ejercicios p√∫blicos Art√≠culo 496. El que abra o tenga abiertos lugares destinados a espect√°culos p√∫blicos o a
tertulias, sin haber llenado las prescripciones dictadas por la autoridad en inter√©s del orden
p√∫blico, ser√° penado con arresto hasta por quince d√≠as o multa de cincuenta unidades
tributarias (50 U.T.) a trescientas unidades tributarias (300 U.T.).
Art√≠culo 497. Todo individuo que, sin permiso de la autoridad, haya dado alg√∫n espect√°culo o
cualquiera representaci√≥n en un lugar p√∫blico, ser√° penado con multa de diez unidades
tributarias (10 U.T.) a cien unidades tributarias (100 U.T.)Õæ y si el hecho se hubiere cometido
contra prohibici√≥n de la autoridad, la pena ser√° de arresto por quince d√≠as o multa de
cincuenta unidades tributarias (50 U.T.) a
trescientas unidades tributarias (300 U.T.).
Art√≠culo 498. Todo individuo que sin estar previamente autorizado, haya abierto una agencia
de negocios, alg√∫n establecimiento, o cualquiera empresa que necesite del permiso de la
autoridad, ser√° penado con multa de cincuenta unidades tributarias (50 U.T.).
En el caso de reincidencia en la misma infracci√≥n, se impondr√°, adem√°s, la pena de arresto
hasta por quince d√≠as.
Si el permiso se hubiere negado, la multa podr√° ser hasta por doscientas cincuenta unidades
tributarias (250 U.T.)Õæ en caso de reincidencia en la misma infracci√≥n, se impondr√° tambi√©n la
pena de arresto hasta por cuarenta y cinco d√≠as
Art√≠culo 499. Todo due√±o o director de una agencia, establecimiento o empresa de la especie
indicada en el art√≠culo precedente, que no hubiere guardado las prescripciones establecidas
por la ley o por la autoridad, ser√° penado con multa hasta de cincuenta unidades tributarias
(50 U.T.)Õæ y en caso de reincidencia en la misma infracci√≥n, incurrir√°, adem√°s, en arresto
hasta por quince d√≠as y la suspensi√≥n por un mes, a lo m√°s, del ejercicio de su arte o
profesi√≥n.
Art√≠culo 500. Todo individuo que, mediante salario, hubiere alojado, recibido como
pensionista o para cuidar, una persona, sin sujetarse a las ordenanzas relativas a las
declaraciones o a los informes que deben hacerse a la autoridad, ser√° penado con multa hasta
de cincuenta unidades tributarias (50 U.T.) en caso de reincidencia en la misma infracci√≥n, la
multa ser√° hasta de cien unidades tributarias (100 U.T.).
Si el culpable hubiere ejercido su industria despreciando las prohibiciones de la autoridad la
multa podr√° imponerse hasta por la cantidad de cien unidades tributarias (100 U.T.)Õæ y de
veinticinco unidades tributarias (25 U.T.) a doscientas cincuenta unidades tributarias (250
U.T.) en el caso de reincidencia en la misma infracci√≥n.
CAP√çTULO VI
De los alistamientos practicados sin autorizaci√≥n
Art√≠culo 501. Todo individuo que, sin permiso de la autoridad, abra enganches o
alistamientos, ser√° penado con arresto hasta por nueve meses, o multa de cincuenta unidades
tributarias (50 U.T.) a un mil unidades tributarias (1.000 U.T.).
CAP√çTULO VII
De la Mendicidad
Art√≠culo 502. El que, siendo apto para el trabajo, fuere hallado mendigando ser√° penado con
arresto hasta por seis d√≠asÕæ y en el caso de reincidencia en la misma infracci√≥n, el arresto
podr√° imponerse hasta por quince d√≠as. Al que no siendo apto para el trabajo, mendigue sin sujetarse a las ordenanzas locales del
caso, se le aplicar√°n las mismas penas.
La contravenci√≥n no deja de serlo por mendigar el culpable so pretexto o apariencia de hacer
a otro un servicio o de vender algunos objetos.
Art√≠culo 503. El que mendigue en actitud amenazadora, vejatoria o repugnante por
circunstancias de tiempo, de lugar, de medios o de personas, ser√° penado con arresto hasta por
un mes, y de uno a seis meses, en caso de reincidencia en la misma infracci√≥n.
Art√≠culo 504. La autoridad podr√° ordenar que la pena de arresto establecida en los art√≠culos
precedentes, se cumpla en una casa de trabajo o mediante la prestaci√≥n de un servicio en
alguna empresa de utilidad p√∫blica. Si reh√∫sa el trabajo o servicio, el arresto se efectuar√° en la
forma ordinaria.
Art√≠culo 505. Todo individuo que hubiere permitido que un menor de doce a√±os, sometido a
su autoridad o confiado a su guarda o vigilancia, se entregue a la mendicidad o sirva a otro
para este objeto, ser√° penado con arresto hasta de dos meses o multa de trescientas unidades
tributarias (300 U.T.). En el caso de reincidencia en la misma infracci√≥n, el arresto ser√° de dos
a cuatro meses.
CAP√çTULO VIII
De la perturbaci√≥n causada en la tranquilidad p√∫blica y privada
Art√≠culo 506. Sin menoscabo del ejercicio de los derechos pol√≠ticos y de participaci√≥n
ciudadana establecidos en la Constituci√≥n de la Rep√∫blica Bolivariana de Venezuela y dem√°s
leyes que regulan la materia, todo el que con gritos o vociferaciones, con abuso de campanas
u otros instrumentos, o vali√©ndose de ejercicios o medios ruidosos, haya perturbado las
reuniones p√∫blicas o las ocupaciones o reposo de los ciudadanos y ciudadanas en su hogar,
sitio de trabajo, v√≠a p√∫blica, sitio de esparcimiento, recintos p√∫blicos, privados, aeronaves o
cualquier medio de transporte p√∫blico, privado o masivo, ser√° penado con multas hasta de
cien unidades tributarias (100 U.T.), aument√°ndose hasta doscientas unidades tributarias (200
U.T.) en el caso de reincidencia.
Si el hecho ha sido cometido contra la persona del Vicepresidente Ejecutivo de la Rep√∫blica,
de alguno de los Magistrados o Magistradas del Tribunal Supremo de Justicia, de un Ministro
del Despacho, de un diputado o diputada de la Asamblea Nacional, de los Consejos
Legislativos de los estados, Alcaldes, o de alg√∫n rector o rectora del Consejo Nacional
Electoral, o del Defensor del Pueblo, o del
Procurador General, o del Fiscal General o del Contralor General de la Rep√∫blica, de un
Gobernador de estado, o de alg√∫n miembro de la Fuerza Armada Nacional, de la Polic√≠a, o de
alg√∫n otro funcionario p√∫blico, siempre que respecto a estos√∫ltimos el delito se hubiere
cometido a causa de sus funciones, podr√° imponerse arresto de tres meses a cuatro meses y la
multa podr√° ser hasta de quinientas unidades tributarias (500 U.T.).
Art√≠culo 507. Cualquiera que, p√∫blicamente, por petulancia u otro vituperable motivo,
hubiere molestado a alguna persona o perturbado su tranquilidad, ser√° penado con multa hasta
de cincuenta unidades tributarias (50 U.T.) o con arresto hasta por ocho d√≠as.
CAP√çTULO IX
Del abuso de la credulidad de otro
Art√≠culo 508. El que en lugar p√∫blico o abierto al p√∫blico, haya tratado, vali√©ndose de cualquiera impostura, de abusar de la credulidad popular de modo que pueda resultar un
perjuicio a otro, o una perturbaci√≥n del orden p√∫blico, ser√° penado con arresto hasta por
quince d√≠as, pudiendo esta pena ser doble en caso de reincidencia en la misma falta.
T√çTULO II
De las Faltas Relativas a la Seguridad P√∫blica
CAP√çTULO I
De las faltas que se refieren a armas o a materias explosivas
Art√≠culo 509. El que, sin previo permiso de la autoridad competente, haya establecido una
fabrica de armas y municiones de libre comercio, o que sin sujetarse a las prescripciones
legales sobre la materia, introduzca en la Rep√∫blica m√°s de las que fueren permitidas, ser√°
penado con arresto hasta por tres meses o con multa de cincuenta unidades tributarias (50
U.T.) a un mil unidades tributarias (1.000 U.T.).
Art√≠culo 510. El que sin permiso de la autoridad competente, haya fabricado o introducido en
el pa√≠s p√≥lvora no densa ni piroxidada u otras materias explosivas, ser√° penado hasta con tres
meses de arresto.
Art√≠culo 511. El que, sin permiso previo de la autoridad competente, venda o ponga en venta
armas de l√≠cito comercio para cuyo expendio se requiera tal permiso, ser√° penado hasta con
un mes de arresto.
Art√≠culo 512. Ser√° penado con multa hasta de un mil unidades tributarias (1.000 U.T.) todo
individuo que, aun con permiso de la autoridad para llevar armas de fuego:
1. Haya entregado o dejado llevar cargadas las susodichas armas, a una persona
menor de catorce a√±os o a cualquiera otra que no sepa o no pueda manejarlas con
debido discernimiento.
2. Haya descuidado las precauciones suficientes para evitar que las personas
indicadas se apoderen, f√°cilmente, de tales armas.
3. Haya llevado un fusil cargado en medio de una reuni√≥n o concurso del pueblo.
Art√≠culo 513. El que, sin permiso de la autoridad competente, hubiere descargado armas de
fuego o hubiere quemado fuegos de artificio o aparatos explosivos o bien hiciere otras
explosiones peligrosas o inc√≥modas en un lugar habitado, en su vecindad, o a lo largo en
direcci√≥n de una v√≠a p√∫blica, ser√° penado hasta con doscientas unidades tributarias (200 U.T.)
de multaÕæ y en los casos mas graves
podr√° imponerse arresto hasta por un mes.
Art√≠culo 514. El que clandestinamente o contrariando la ley o las prohibiciones de la
autoridad, tenga en su casa o en otro lugar alg√∫n dep√≥sito de materias explosivas o
inflamables, que sean peligrosas en raz√≥n de su naturaleza o cantidad, ser√° penado con un
arresto no inferior a tres meses.
Art√≠culo 515. El que, sin permiso de la autoridad competente, haya llevado de un lugar a
otro, p√≥lvora u otras materias explosivas en cantidad que exceda de las necesidades de una
industria o trabajos determinados, o el que efect√∫e el transporte de las mismas materias, sin
las precauciones establecidas por la ley o reglamento, ser√° penado con arresto hasta de un
mes o con multa hasta de trescientas unidades tributarias (300 U.T.). Art√≠culo 516. Para los efectos de la ley penal se consideran armas insidiosas, las que son
f√°cilmente disimuladas y sirven para ofender por sorpresa o asechanza, tales como las hojas,
estoques, pu√±ales, cuchillos, pistolas y rev√≥lveres de corto ca√±√≥n, aparatos explosivos y las
armas blancas o de fuego que se hallan ocultas o disimuladas de cualquier modo en bastones
u otros objetos de uso l√≠cito.
CAP√çTULO II
De la ca√≠da y de la falta de reparaci√≥n de los edificios
Art√≠culo 517. Todo el que hubiere intervenido en los planos o en la construcci√≥n de alg√∫n
edificio, si √©ste se desploma o cae por negligencia o impericia, aunque no cause mal o peligro
a la seguridad de terceros, ser√° penado con multa de cien unidades tributarias (100 U.T.),
como m√≠nimum y podr√° serlo, adem√°s, con la suspensi√≥n del ejercicio de su profesi√≥n o arte.
La disposici√≥n del presente art√≠culo es aplicable al caso de que se desplomen o caigan
puentes, andamios u otros aparatos establecidos para la construcci√≥n o reparaci√≥n de edificios
o para cualquiera obra semejante.
Art√≠culo 518. Siempre que alg√∫n edificio u otra construcci√≥n amenazare ruina, en todo o en
parte, con peligro para la seguridad personal, el propietario, su representante o quien por
alg√∫n t√≠tulo estuviere encargado de la conservaci√≥n, vigilancia o construcci√≥n del edificio,
ser√° penado con multa de diez unidades tributarias (10 U.T.) a cien unidades tributarias (100
U.T.), si no ha procedido oportunamente a los trabajos necesarios para prevenir el peligro. Si
ha transgredido las disposiciones de la autoridad competente, la multa podr√° ser hasta de un
mil unidades tributarias (1.000 U.T.).
Siempre que se trate de alg√∫n edificio u otra construcci√≥n total o parcialmente en ruina, y el
que deba procurar la reparaci√≥n conveniente, haya descuidado su oportuna ejecuci√≥n o las
medidas bastantes para prevenir el peligro que resultase de la ruina, la multa ser√° de cincuenta
unidades tributarias (50 U.T.) a un mil unidades tributarias (1.000 U.T.).
CAP√çTULO III
De las faltas relativas a los signos y aparatos que interesan al p√∫blico
Art√≠culo 519. Todo individuo que haya dejado de poner las se√±ales y cercas prevenidas por
las ordenanzas para indicar el peligro que resulte de trabajos que se est√°n ejecutando u objetos
que se dejan en lugares por donde transita el p√∫blico, ser√° penado con multa hasta de
trescientas unidades tributarias (300 U.T.)Õæ y, adem√°s, en los casos graves, con arresto hasta
por diez d√≠as.
El que hubiere removido arbitrariamente las se√±ales, ser√° penado con multa de cincuenta
unidades tributarias (50 U.T.) a un mil quinientas unidades tributarias (1.500 U.T.), y podr√°
serlo, adem√°s, con arresto hasta por veinte d√≠as.
Art√≠culo 520. El que, sin derecho para ello, haya apagado las luces del alumbrado p√∫blico, o
removido los signos o aparatos distintos de los indicados en el art√≠culo precedente, y
destinados al servicio p√∫blico, ser√° penado con multa hasta de doscientas unidades tributarias
(200 U.T.).
CAP√çTULO IV
De los objetos tirados o colocados de manera peligrosa
Art√≠culo 521. Cualquiera que hubiere arrojado o echado en lugares abiertos al tr√°nsito
p√∫blico o en recintos particulares de familia, cosas o sustancias capaces de ofender o ensuciar a las personas, ser√° castigado con arresto de diez d√≠as o con multa hasta de cien unidades
tributarias (100 U.T.).
Art√≠culo 522. El que, sin las precauciones necesarias, ponga en las ventanas, balcones, techos,
azoteas u otros lugares parecidos o cuelgue cosas que cayendo puedan ofender o ensuciar a
las personas, ser√° castigado con multa hasta de treinta unidades tributarias (30 U.T.). Cuando
el autor del hecho no sea conocido, la culpabilidad ser√° aplicable al inquilino o poseedor de la
casa, siempre que hubiere estado en capacidad de prevenirlo.
CAP√çTULO V
De las faltas que se refieren a la vigilancia de los enajenados
Art√≠culo 523. Todo individuo que hubiere dejado vagar dementes confiados a su custodia, o
no hubiere dado aviso inmediato a la autoridad cuando se hayan escapado, ser√° castigado con
multa hasta de doscientas unidades tributarias (200 U.T.).
Art√≠culo 524. Todo individuo que, sin dar inmediatamente aviso a la autoridad o que sin
autorizaci√≥n, cuando es necesaria, haya recibido para su custodia personas conocidamente
enajenadas, o las haya puesto en libertad, ser√° penado con multa de cincuenta unidades
tributarias (50 U.T.) a quinientas unidades tributarias (500 U.T.)Õæ y en los casos graves, podr√°
imponerse, adem√°s, la de arresto hasta por treinta d√≠as.
Art√≠culo 525. En lo que concierne a las infracciones especificadas en los art√≠culos
precedentes, cuando el culpable fuere director de un establecimiento de enajenados, o alg√∫n
individuo que ejerce el arte de curar, se le aplicar√° como pena accesoria, la suspensi√≥n del
ejercicio de su profesi√≥n.
CAP√çTULO VI
De la falta de vigilancia y direcci√≥n en los animales y veh√≠culos
Art√≠culo 526. Cualquiera que faltando a las precauciones, que imponen las ordenanzas,
hubiere dejado libres y sin custodia bestias feroces o animales peligrosos, propios o
encomendados a su guarda, y todo individuo que en el caso de estar dichos animales atacados
de hidrofobia, no prevenga el peligro o no lo hubiere participado inmediatamente a la
autoridad, ser√° penado con arresto hasta por un mes.
Art√≠culo 527. Ser√° penado con arresto hasta por treinta d√≠as:
1. El que en lugares no cercados hubiere de alguna manera dejado sin vigilancia
o abandonados, sueltos o atados, animales de tiro o de carga.
2. El que, sin estar para ello en capacidad suficiente, los hubiere conducido o
confinado a un conductor inexperto.
3. El que, bien por la manera de conducirlos o de atarlos, sin sujeci√≥n a las reglas
de ordenanzas, bien por excitarlos o asustarlos, haya expuesto a la gente a alg√∫n
peligro.
Si el contraventor es un cochero o conductor sujeto a patente, se le impondr√°, como pena
accesoria, la suspensi√≥n del ejercicio de su oficio por tiempo de doce d√≠as a lo m√°s.
Art√≠culo 528. El que de alg√∫n modo peligroso para las personas o las cosas, dejare animales o
veh√≠culos en las v√≠as o pasajes p√∫blicos o abiertos al p√∫blico, ser√° penado con multa hasta de
cincuenta unidades tributarias (50 U.T.)Õæ si el contraventor fuere un cochero o conductor patentado, se le aplicar√°, como pena accesoria, la suspensi√≥n del ejercicio de su oficio por
tiempo hasta de quince d√≠as, sin perjuicio de lo que dispongan las ordenanzas locales sobre la
materia.
CAP√çTULO VII
De las faltas referentes a peligros comunes
Art√≠culo 529. El que por negligencia o impericia hubiere creado, de alguna manera, el peligro
de un da√±o contra las personas o de un grave da√±o contra las cosas, ser√° penado hasta con
doscientas unidades tributarias (200 U.T.) de multa o con arresto hasta por veinte d√≠as.
Si al mismo tiempo el hecho constituye una infracci√≥n de las ordenanzas relativas al ejercicio
de las artes, comercio o industrias, y siempre que la ley no disponga otra cosa, la pena ser√° de
arresto de tres a treinta d√≠as y la suspensi√≥n del arte o profesi√≥n hasta por un mes.
T√çTULO III
De las Faltas Concernientes a la Moralidad P√∫blica
CAP√çTULO I
De los juegos de azar
Art√≠culo 530. Todo individuo que en un lugar p√∫blico o abierto al p√∫blico, tenga un juego de
suerte, envite o azar, o que para el efecto hubiere facilitado un local o fundado
establecimiento o casa, ser√° penado con arresto de cinco hasta treinta d√≠as y en caso de
reincidencia podr√° imponerse hasta por dos meses, o multa que no baje de cien unidades
tributarias (100 U.T.).
El arresto ser√° de uno a dos meses, y puede extenderse hasta seis, en caso de reincidencia:
1. Si el hecho es habitual.
2. Si el que tiene o dirige el juego fuere el banquero de la reuni√≥n en que se
comete la falta, y en este caso, se impondr√° como pena accesoria hasta por un
mes, la suspensi√≥n del arte o profesi√≥n que tenga el culpable.
Art√≠culo 531. El que sin haber participado en la falta especificada anteriormente, sea
sorprendido participando del juego de suerte, envite o azar, ser√° penado con multa hasta de
quinientas unidades tributarias (500 U.T.).
Art√≠culo 532. En todo caso de falta por juego de suerte y azar, ser√°n confiscados el dinero del
juego y todos los objetos destinados al efecto.
Art√≠culo 533. Para determinar las consecuencias de la ley penal, se consideran como juegos
de envite o de azar, aquellos en que la ganancia o la p√©rdida, con un fin de lucro, dependa
entera o casi enteramente de la suerte.
En lo que concierne a las faltas previstas en los art√≠culos precedentes, ser√°n considerados
como lugares p√∫blicos o abiertos al p√∫blico, no solo los propiamente tales, sino tambi√©n los
lugares destinados a reuniones privadas, en que se paga algo por jugar, y aquellos en que, a√∫n
sin pagar, tiene entrada toda persona que quiera jugar.
CAP√çTULO II
De la embriaguez
Art√≠culo 534. Cualquiera que en un lugar p√∫blico se encuentre en estado de embriaguez
manifiesta, molesta o repugnante, ser√° penado con multa hasta de treinta unidades tributarias (30 U.T.).
Si el hecho es habitual, la pena ser√° de arresto por un mes y la autoridad podr√° imponer,
adem√°s, que se cumpla en una casa de trabajo o mediante la prestaci√≥n de un servicio en
alguna empresa de utilidad p√∫blica.
Art√≠culo 535. El que en lugar p√∫blico o abierto al p√∫blico, haya ocasionado la embriaguez de
otro, haci√©ndole tomar con ese fin bebidas o sustancias capaces de producirla, y asimismo el
que haya hecho tomar m√°s a una persona ya ebria, ser√° penado hasta con diez d√≠as de arresto.
Si el hecho se hubiere cometido en persona menor de quince a√±os o que manifiestamente se
hallase en estado anormal, por consecuencia de debilidad o alteraci√≥n de sus facultades
mentales, el arresto ser√° de diez a treinta d√≠as.
Como pena accesoria se impondr√° seg√∫n los casos, la suspensi√≥n del ejercicio del arte,
industria o profesi√≥n, si el contraventor fuere comerciante en bebidas o sustancias
embriagantes.
CAP√çTULO III
De los actos contrarios a la decencia p√∫blica
Art√≠culo 536. Cualquiera que se haya presentado en p√∫blico de un modo indecente, o que con
palabras, cantos, gestos, se√±as u otros actos impropios, ofenda la decencia p√∫blica, ser√°
penado con arresto hasta por un mes o multa de diez unidades tributarias (10 U.T.) a
trescientas unidades tributarias (300 U.T.).
CAP√çTULO IV
Del Mal Tratamiento a los Animales
Art√≠culo 537. El que cometa crueldades con los animales, los maltrate sin necesidad o los
someta a trabajos manifiestamente excesivos, ser√° penado con multa hasta por cien unidades
tributarias (100 U.T.). El que solo con un fin cient√≠fico o did√°ctico, pero fuera de los lugares
destinados al estudio o ense√±anza, haya sometido los animales o pruebas o experimentos que
causen disgusto a las personas que las presencien, incurrir√° en la misma pena.
T√çTULO IV
De las Faltas Relativas a la Protecci√≥n P√∫blica de la Propiedad
CAP√çTULO I
De la posesi√≥n injustificada de objetos y valores
Art√≠culo 538. El que habiendo sido condenado por mendicidad, hurto, robo, extorsi√≥n, estafa,
secuestro, o por delito previsto en el art√≠culo 470, est√©‚Äö en posesi√≥n de dinero o de objetos que
no se hallen en relaci√≥n con su condici√≥n o circunstancias, y respecto de los cuales no
compruebe leg√≠tima procedencia, ser√° penado con arresto de quince d√≠as hasta dos meses.
Si el culpable se hallare en posesi√≥n de llaves falsificadas o alteradas, o de instrumentos
propios para abrir o forzar cerraduras, sin que pueda justificar su leg√≠timo actual destino, ser√°
penado con arresto hasta de dos meses.
El dinero y los objetos sospechosos ser√°n confiscados.
CAP√çTULO II
De la falta de precauciones en las operaciones de comercio o de prendas
Art√≠culo 539. Todo individuo que, sin haber previamente adquirido la certidumbre de una
procedencia leg√≠tima, haya comprado o recibido en prenda, en pago o dep√≥sito, objetos que por raz√≥n de su naturaleza o de la circunstancias de la persona que los presenta o del precio
exigido, o aceptado, parecieren provenir de un hecho punible, ser√° castigado con multa de
veinte unidades tributarias (20 U.T.) a cien unidades tributarias (100 U.T.). Si el contraventor
es una de las personas indicadas en el art√≠culo 538, ser√° castigado adem√°s, con arresto hasta
de dos meses.
El que compruebe la leg√≠tima procedencia de los objetos, quedara exento de toda pena.
Art√≠culo 540. Todo individuo que despu√©s de recibir dinero o de comprar o haberse
procurado objeto provenientes de un delito, supiere que son de ileg√≠tima procedencia, y no
haya dado inmediato aviso a la autoridad, denunciando el hecho, ser√° castigado con multa de
treinta unidades tributarias (30 U.T.), por lo menos, y podr√° impon√©rsele adem√°s, el arresto
hasta por veinte d√≠as.
Art√≠culo 541. El que dedicado al comercio o a operaciones de empe√±o de cosas preciosas o
cosas usadas, no observe para el efecto las prescripciones de la ley o de los reglamentos
relativos a su comercio o a sus operaciones, ser√° penado con multa hasta de trescientas
unidades tributarias (300 U.T.) y en caso de reincidencia en la misma infracci√≥n, se impondr√°
adem√°s, el arresto hasta por treinta d√≠as y la suspensi√≥n del ejercicio de la profesi√≥n o
industria.
CAP√çTULO III
De la venta il√≠cita de llaves y ganz√∫as, y abertura il√≠cita de cerraduras
Art√≠culo 542. El herrero, cerrajero u otro artesano que venda o entregue a cualquiera, ganz√∫as
o fabrique para quien no sea el propietario del local o del objeto a que se destinan o su
representante conocido de √©l, llaves de cualquiera clase sobre moldes de cera o de otros
dise√±os o modelos, ser√° castigado con arresto hasta de un mes o con multa de diez unidades
tributarias (10 U.T.) a ciento
cincuenta unidades tributarias (150 U.T.).
Art√≠culo 543. El herrero, cerrajero u otro artesano que abra cerraduras de cualquiera clase a
solicitud de alg√∫n individuo, sin estar seguro previamente, de que el solicitante es el due√±o
del local o casa que se trata de abrir o su representante leg√≠timo, ser√° castigado con arresto
hasta de veinte d√≠as o multa hasta por ciento veinte unidades tributarias (120 U.T.).
CAP√çTULO IV
De la tenencia il√≠cita de pesas y medidas
Art√≠culo 544. Todo el que en ejercicio p√∫blico, de comercio, tenga en su establecimiento o
mercado, pesas o medidas diferentes a las autorizadas por la ley, ser√° penado con multa de
diez unidades tributarias (10 U.T.) a cincuenta unidades tributarias (50 U.T.), la que en el caso
de reincidencia en la misma falta, podr√° ser de cien unidades tributarias (100 U.T.).
DISPOSICI√ìN COMPLEMENTARIA
Art√≠culo 545. Las disposiciones del presente Libro no excluyen ni limitan las atribuciones
que, por leyes municipales u otras especiales, competan a los funcionarios y corporaciones de
la Administraci√≥n P√∫blica, para dictar ordenanzas de polic√≠a y bandos de orden p√∫blico, as√≠
como para corregir gubernativamente las contravenciones o faltas, en el caso de que su
represi√≥n les est√© encomendada por las mismas leyes.
DISPOSICI√ìN FINAL Art√≠culo 546. Se deroga el C√≥digo Penal de 30 de junio de 1.915.
El presente C√≥digo reformado empezar√° a regir desde su publicaci√≥n en la Gaceta Oficial de
la Rep√∫blica Bolivariana de Venezuela.
Dado, firmado y sellado en el Palacio Federal Legislativo, sede de la Asamblea Nacional, en
Caracas, a los tres d√≠as del mes de marzo de dos mil cinco. A√±o 194¬∫ de la Independencia y
145¬∫ de la Federaci√≥n.

        `
    },
    {
        id: "copp",
        nombre: "C√ìDIGO ORG√ÅNICO PROCESAL PENAL (COPP)",
        contenido: `
        TITULO PRELIMINAR
        PRINCIPIOS Y GARANTIAS PROCESALES
        
        Art√≠culo 1.- Juicio previo y debido proceso. Nadie podr√° ser condenado sin un juicio previo, oral y p√∫blico, realizado sin dilaciones indebidas...
        
        (Aqu√≠ pegas el resto del COPP...)
        `
    },
    {
        id: "drogas",
        nombre: "LEY ORG√ÅNICA DE DROGAS",
        contenido: `
        Art√≠culo 149 (Tr√°fico). El o la que il√≠citamente trafique, comercie, expenda, suministre... ser√° penado con prisi√≥n de quince a veinticinco a√±os.
        
        (Aqu√≠ pegas el resto de la Ley...)
        `
    }
];
// ==========================================
// L√ìGICA DEL BUSCADOR (PEGAR DEBAJO DE LAS LEYES)
// ==========================================

// Variables de control (Reiniciadas)
let indiceBusquedaActual = -1;
let totalCoincidencias = 0;
let marcasEncontradas = []; 

// Funci√≥n para mostrar el texto de la ley seleccionada
function cargarTextoLey() {
    const idLey = document.getElementById('selBiblioteca').value;
    const visor = document.getElementById('visorLey');
    const panelBusqueda = document.getElementById('panelBuscadorInterno');
    
    // Ocultar la barra de navegaci√≥n anterior si qued√≥ abierta
    document.getElementById('controlesNavegacion').style.display = 'none'; 
    document.getElementById('inputBusquedaInterna').value = "";

    const ley = bibliotecaLeyes.find(l => l.id === idLey);
    if(ley) {
        // Mostrar texto
        visor.innerHTML = ley.contenido.replace(/\n/g, "<br>");
        visor.style.display = 'block';
        panelBusqueda.style.display = 'block';
    }
}

// Funci√≥n PRINCIPAL de b√∫squeda
function buscarEnTextoLey() {
    const idLey = document.getElementById('selBiblioteca').value;
    const input = document.getElementById('inputBusquedaInterna');
    const palabra = input.value.trim();
    const visor = document.getElementById('visorLey');
    const controles = document.getElementById('controlesNavegacion'); // Esta es la caja que no te sale
    
    if(!idLey || !palabra) return;

    const ley = bibliotecaLeyes.find(l => l.id === idLey);
    // Usamos el texto original para no buscar dentro de etiquetas HTML viejas
    const textoOriginal = ley.contenido; 

    // 1. Buscar coincidencias (Insensible a may√∫sculas)
    const regex = new RegExp(`(${palabra})`, "gi");
    const coincidencias = (textoOriginal.match(regex) || []).length;

    if(coincidencias === 0) {
        alert("No se encontraron coincidencias.");
        controles.style.display = 'none';
        return;
    }

    // 2. Resaltar en amarillo (Agregamos clase 'marca-busqueda')
    // Nota: El color amarillo base se define aqu√≠ en el style
    let nuevoHTML = textoOriginal.replace(regex, `<mark class="marca-busqueda" style="background:yellow; color:black;">$1</mark>`);
    visor.innerHTML = nuevoHTML.replace(/\n/g, "<br>");

    // 3. Guardar referencias a todas las marcas encontradas
    marcasEncontradas = document.querySelectorAll('.marca-busqueda');
    totalCoincidencias = marcasEncontradas.length;
    indiceBusquedaActual = 0; 

    // 4. MOSTRAR LA CAJA DE BOTONES (Forzamos display flex)
    controles.style.display = 'flex'; 
    
    // 5. Enfocar la primera coincidencia
    actualizarFocoBusqueda();
}

// Funci√≥n para las flechas (Arriba / Abajo)
function navegarCoincidencia(direccion) {
    if(totalCoincidencias === 0) return;

    indiceBusquedaActual += direccion;

    // L√≥gica de carrusel (si llegas al final, vuelve al principio)
    if (indiceBusquedaActual >= totalCoincidencias) indiceBusquedaActual = 0;
    else if (indiceBusquedaActual < 0) indiceBusquedaActual = totalCoincidencias - 1;

    actualizarFocoBusqueda();
}

// Funci√≥n visual (Pone NARANJA la actual y hace scroll)
function actualizarFocoBusqueda() {
    // 1. Resetear todas a amarillo
    marcasEncontradas.forEach(m => {
        m.style.backgroundColor = "yellow";
        m.style.transform = "scale(1)";
        m.style.border = "none";
    });

    // 2. Resaltar la actual en NARANJA
    const marcaActual = marcasEncontradas[indiceBusquedaActual];
    if(marcaActual) {
        marcaActual.style.backgroundColor = "#ff9800"; // Naranja fuerte
        marcaActual.style.transform = "scale(1.2)"; // Un poco m√°s grande
        marcaActual.style.border = "1px solid #e65100";
        
        // 3. Hacer scroll suave hacia ella
        marcaActual.scrollIntoView({behavior: "smooth", block: "center"});
    }

    // 4. Actualizar el contador de texto (ej: "1 de 5")
    const contador = document.getElementById('contadorCoincidencias');
    if(contador) {
        contador.innerText = `${indiceBusquedaActual + 1} de ${totalCoincidencias}`;
    }
}

// Funci√≥n para limpiar (La X roja)
function limpiarBusquedaLey() {
    document.getElementById('controlesNavegacion').style.display = 'none';
    document.getElementById('inputBusquedaInterna').value = "";
    
    // Recargar el texto limpio sin marcas
    const idLey = document.getElementById('selBiblioteca').value;
    const ley = bibliotecaLeyes.find(l => l.id === idLey);
    if(ley) document.getElementById('visorLey').innerHTML = ley.contenido.replace(/\n/g, "<br>");
}

// Funci√≥n auxiliar para filtrar la lista de leyes (si la borraste por error)
function filtrarListaLeyes(texto) {
    const select = document.getElementById('selBiblioteca');
    const filtroNorm = texto.toLowerCase();
    select.innerHTML = "";
    
    bibliotecaLeyes.forEach(ley => {
        if(ley.nombre.toLowerCase().includes(filtroNorm)) {
            const opt = document.createElement('option');
            opt.value = ley.id;
            opt.text = ley.nombre;
            select.appendChild(opt);
        }
    });
}
// Aseguramos cargar la lista al inicio
document.addEventListener('DOMContentLoaded', () => {
   if(document.getElementById('selBiblioteca')) filtrarListaLeyes("");
});

</script>
<script>
// ==========================================
// SCRIPT DE INSTALACI√ìN CON DIAGN√ìSTICO
// ==========================================
let deferredPrompt = null; 

// 1. ESCUCHAMOS EL EVENTO (LA LLAVE MAESTRA)
window.addEventListener('beforeinstallprompt', (e) => {
    // Chrome nos da la llave para instalar
    e.preventDefault();
    deferredPrompt = e;
    console.log("‚úÖ LLAVE RECIBIDA: Chrome permite instalar.");
    
    // Opcional: Cambiar color del bot√≥n para avisar que est√° listo
    const btn = document.getElementById('btnInstalarInicio');
    if(btn) btn.style.border = "2px solid #25D366"; // Borde verde
});

// 2. FUNCI√ìN DEL BOT√ìN
async function instalarAppInteligente() {
    console.log("Bot√≥n presionado...");

    // A) SI TENEMOS LA LLAVE DE CHROME
    if (deferredPrompt) {
        deferredPrompt.prompt(); // Lanzamos la ventana
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`Usuario decidi√≥: ${outcome}`);
        deferredPrompt = null; // La llave se usa una sola vez
    } 
    // B) SI NO TENEMOS LA LLAVE (AQU√ç EST√Å TU PROBLEMA)
    else {
        // Verificamos si es iPhone
        const esIphone = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        
        if (esIphone) {
            // Mostrar Modal iPhone (Aseg√∫rate de tener el HTML del modal)
            const modal = document.getElementById('modalInstalacion');
            if(modal) modal.style.display = 'flex';
        } else {
            // ES ANDROID PERO CHROME NO DA PERMISO
            alert("‚ö†Ô∏è AVISO DEL SISTEMA:\n\nGoogle Chrome no permite la instalaci√≥n autom√°tica en este momento.\n\nSOLUCI√ìN:\nUse el men√∫ de los 3 puntos (‚ãÆ) arriba a la derecha y seleccione 'Instalar aplicaci√≥n'.");
        }
    }
}

// 3. OCULTAR SI YA EST√Å INSTALADA
window.addEventListener('appinstalled', () => {
    const btn = document.getElementById('btnInstalarInicio');
    if(btn) btn.style.display = 'none';
});
</script>


</body>
</html>
